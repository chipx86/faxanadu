<!DOCTYPE html>

<html>
 <head>
  <title>PRG14 - Faxanadu (U).nes</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <style>

 @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap');

body {
  background: #1c212d;
  color: white;
  padding: 0.5em;
  line-height: 1.5;
}

body, * {
  font-family: "Roboto Mono", monospace;
  font-size: 9.5pt;
  font-style: normal;
}

a:link,
a:visited {
  color: #9bdeff;
}

pre {
  display: grid;
  grid-template-columns: minmax(6ch, min-content)
                         minmax(70ch, max-content)
                         1fr;
  gap: 0 3em;
  margin: 0;
  padding: 0;
}

.anc {
  grid-area: addr;
  grid-column: 1;
  grid-row: 1;
}

.anc:link,
.anc:visited {
  color: #666677;
  text-decoration: none;
}

.anc:link:hover {
  color: #9bdeff;
}

.equs {
  display: grid;
  grid-template-columns: minmax(50ch, max-content) min-content auto;
  gap: 0 1em;
}

.l {
  display: grid;
  grid-template-columns: subgrid;
  grid-column: 1 / -1;
  min-height: 1lh;
}

.c,
.cp,
.equs {
  grid-column: 2;
}

.cp {
  color: #6fafb5;
}

.c {
  margin-left: 4em;
}

.c, .ce {
  color: #8aa9ac;
}

.cd {
  grid-column: 2 / 3;
}

.ce {
  grid-column: -1;
  text-wrap: wrap;
  text-indent: 2ch hanging;
}

.lla {
  margin-left: 2em;
}

.la,
.lla {
  font-weight: bold;
  grid-column: 2 / 3;
}

.la,
.la:link,
.la:visited {
  color: #e8e801;
}

.lla,
.lla:link,
.lla:visited {
  color: #caca00;
}

.i {
  color: #f26969;
  margin-left: 4em;
  min-width: 3em;
}

.o {
  color: #e3e3e3;
  margin-left: 1ch;
}

  </style>
 </head>
 <body>
  <pre>
<div class="cp">;============================================================================
; Faxanadu (U).nes
;
; PRG14 ($8000 - $bfff)
;============================================================================
</div><span class="l"></span>
<span class="l"><span class="cd"><span class="i">.segment "PRG14"</span></span></span>
<span class="l"><span class="cd"><span class="i">.reloc</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_UpdateAll"></a><div class="cp">;============================================================================
; TODO: Document Sprites_UpdateAll
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="PRG15_MIRROR.html#EndGame_MainLoop">EndGame_MainLoop</a>
;     <a href="PRG15_MIRROR.html#Game_MainLoop">Game_MainLoop</a>
;     <a href="PRG15_MIRROR.html#GetRandom">GetRandom</a>
;============================================================================
</div><span class="l"><a class="anc" name="8000" href="#8000">[8000]</a><a href="#Sprites_UpdateAll" class="la">Sprites_UpdateAll:</a><span class="ce">; [$8000]</span></span>
<span class="l"><a class="anc" name="8000" href="#8000">[8000]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprites_UpdatesPaused">Sprites_UpdatesPaused</a></span></span></span>
<span class="l"><a class="anc" name="8003" href="#8003">[8003]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_spritesLoop">@_spritesLoop</a></span></span></span>
<span class="l"><a class="anc" name="8005" href="#8005">[8005]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationHourGlass">DurationHourGlass</a></span></span></span>
<span class="l"><a class="anc" name="8008" href="#8008">[8008]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="800a" href="#800a">[800a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_spritesLoop">@_spritesLoop</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The Hour Glass isn't being used and sprites aren't paused,
; so sprites can be updated.
;
</div><span class="l"><a class="anc" name="800c" href="#800c">[800c]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":800f:@_spritesLoop"></a><div class="c">;
; Begin the loop.
;
</div><span class="l"><a class="anc" name="800f" href="#800f">[800f]</a><a href="#:800f:@_spritesLoop" class="lla">@_spritesLoop:</a><span class="ce">; [$800f]</span></span>
<span class="l"><a class="anc" name="800f" href="#800f">[800f]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$07</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8011:@_updateSpriteLoop"></a><div class="c">;
; Process this sprite slot if it's populated with a
; valid sprite.
;
</div><span class="l"><a class="anc" name="8011" href="#8011">[8011]</a><a href="#:8011:@_updateSpriteLoop" class="lla">@_updateSpriteLoop:</a><span class="ce">; [$8011]</span></span>
<span class="l"><a class="anc" name="8011" href="#8011">[8011]</a><span class="cd"><span class="i">STX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8014" href="#8014">[8014]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8017" href="#8017">[8017]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__8043">@LAB_PRG14__8043</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The sprite at this index has a valid value, so proceed.
;
; We'll start by making sure that the elixir isn't set (again).
;
</div><span class="l"><a class="anc" name="8019" href="#8019">[8019]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprites_UpdatesPaused">Sprites_UpdatesPaused</a></span></span></span>
<span class="l"><a class="anc" name="801c" href="#801c">[801c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_updateSpriteState">@_updateSpriteState</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The elixir is not active. Check if the sprite was hit.
;
</div><span class="l"><a class="anc" name="801e" href="#801e">[801e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,X</span></span></span>
<span class="l"><a class="anc" name="8021" href="#8021">[8021]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_handleHit">@_handleHit</a></span></span></span>
<span class="l"><a class="anc" name="8023" href="#8023">[8023]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"><a class="anc" name="8026" href="#8026">[8026]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__802e">@LAB_PRG14__802e</a></span></span></span>
<span class="l"><a class="anc" name="8028" href="#8028">[8028]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Maybe_UpdateHitByMagic">Sprites_Maybe_UpdateHitByMagic</a></span></span></span>
<span class="l"><a class="anc" name="802b" href="#802b">[802b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@_updateSpriteState">@_updateSpriteState</a></span></span></span>
<span class="l"></span>
<a name=":802e:@LAB_PRG14__802e"></a><span class="l"><a class="anc" name="802e" href="#802e">[802e]</a><a href="#:802e:@LAB_PRG14__802e" class="lla">@LAB_PRG14__802e:</a><span class="ce">; [$802e]</span></span>
<span class="l"><a class="anc" name="802e" href="#802e">[802e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_UpdateBehavior">Sprites_UpdateBehavior</a></span></span></span>
<span class="l"><a class="anc" name="8031" href="#8031">[8031]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a></span></span></span>
<span class="l"><a class="anc" name="8034" href="#8034">[8034]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a></span></span></span>
<span class="l"><a class="anc" name="8037" href="#8037">[8037]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_GetBounds">Sprite_GetBounds</a></span></span></span>
<span class="l"><a class="anc" name="803a" href="#803a">[803a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_CheckShieldHitByMagic">Player_CheckShieldHitByMagic</a></span></span></span>
<span class="l"><a class="anc" name="803d" href="#803d">[803d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a></span></span></span>
<span class="l"></span>
<a name=":8040:@_updateSpriteState"></a><span class="l"><a class="anc" name="8040" href="#8040">[8040]</a><a href="#:8040:@_updateSpriteState" class="lla">@_updateSpriteState:</a><span class="ce">; [$8040]</span></span>
<span class="l"><a class="anc" name="8040" href="#8040">[8040]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateState">CurrentSprite_UpdateState</a></span></span></span>
<span class="l"></span>
<a name=":8043:@LAB_PRG14__8043"></a><span class="l"><a class="anc" name="8043" href="#8043">[8043]</a><a href="#:8043:@LAB_PRG14__8043" class="lla">@LAB_PRG14__8043:</a><span class="ce">; [$8043]</span></span>
<span class="l"><a class="anc" name="8043" href="#8043">[8043]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8046" href="#8046">[8046]</a><span class="cd"><span class="i">DEX</span></span></span>
<span class="l"><a class="anc" name="8047" href="#8047">[8047]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_updateSpriteLoop">@_updateSpriteLoop</a></span></span></span>
<span class="l"><a class="anc" name="8049" href="#8049">[8049]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="804b" href="#804b">[804b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="804d" href="#804d">[804d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":804e:@_handleHit"></a><div class="c">;
; The sprite has been hit. Reduce the hit counter. It'll
; eventually get to 0 if it's not hit again recently.
;
</div><span class="l"><a class="anc" name="804e" href="#804e">[804e]</a><a href="#:804e:@_handleHit" class="lla">@_handleHit:</a><span class="ce">; [$804e]</span></span>
<span class="l"><a class="anc" name="804e" href="#804e">[804e]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,X</span></span></span>
<span class="l"><a class="anc" name="8051" href="#8051">[8051]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if this sprite is Tamazutsu, Pakukame, or Zorugeriru.
;
</div><span class="l"><a class="anc" name="8054" href="#8054">[8054]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$2c</span></span></span>
<span class="l"><a class="anc" name="8056" href="#8056">[8056]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_updateSpriteState">@_updateSpriteState</a></span></span></span>
<span class="l"><a class="anc" name="8058" href="#8058">[8058]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="805a" href="#805a">[805a]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_updateSpriteState">@_updateSpriteState</a></span></span></span>
<span class="l"><a class="anc" name="805c" href="#805c">[805c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$31</span></span></span>
<span class="l"><a class="anc" name="805e" href="#805e">[805e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_updateSpriteState">@_updateSpriteState</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It's not any of those.
;
</div><span class="l"><a class="anc" name="8060" href="#8060">[8060]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8062" href="#8062">[8062]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8065" href="#8065">[8065]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8067" href="#8067">[8067]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="806a" href="#806a">[806a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="806d" href="#806d">[806d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@_updateSpriteState">@_updateSpriteState</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_UpdateAllStates"></a><div class="cp">;============================================================================
; TODO: Document Sprites_UpdateAllStates
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Game_DrawScreenInFrozenState">Game_DrawScreenInFrozenState</a>
;============================================================================
</div><span class="l"><a class="anc" name="8070" href="#8070">[8070]</a><a href="#Sprites_UpdateAllStates" class="la">Sprites_UpdateAllStates:</a><span class="ce">; [$8070]</span></span>
<span class="l"><a class="anc" name="8070" href="#8070">[8070]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8073" href="#8073">[8073]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="8074" href="#8074">[8074]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$07</span></span></span>
<span class="l"></span>
<a name=":8076:@_loop"></a><span class="l"><a class="anc" name="8076" href="#8076">[8076]</a><a href="#:8076:@_loop" class="lla">@_loop:</a><span class="ce">; [$8076]</span></span>
<span class="l"><a class="anc" name="8076" href="#8076">[8076]</a><span class="cd"><span class="i">STX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8079" href="#8079">[8079]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateState">CurrentSprite_UpdateState</a></span></span></span>
<span class="l"><a class="anc" name="807c" href="#807c">[807c]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="807f" href="#807f">[807f]</a><span class="cd"><span class="i">DEX</span></span></span>
<span class="l"><a class="anc" name="8080" href="#8080">[8080]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_loop">@_loop</a></span></span></span>
<span class="l"><a class="anc" name="8082" href="#8082">[8082]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="8083" href="#8083">[8083]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8086" href="#8086">[8086]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SPRITE_UPDATE_HANDLERS"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_UpdateState">CurrentSprite_UpdateState</a>
;
</div><span class="l"><a class="anc" name="8087" href="#8087">[8087]</a><a href="#SPRITE_UPDATE_HANDLERS" class="la">SPRITE_UPDATE_HANDLERS:</a><span class="ce">; [$8087]</span></span>
<span class="l"><a class="anc" name="8087" href="#8087">[8087]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Invisible">SpriteUpdateHandler_Invisible</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8089" href="#8089">[8089]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Bread">SpriteUpdateHandler_Bread</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="808b" href="#808b">[808b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Coin">SpriteUpdateHandler_Coin</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="808d" href="#808d">[808d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Garbled03">SpriteUpdateHandler_Garbled03</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="808f" href="#808f">[808f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Raiden">SpriteUpdateHandler_Enemy_Raiden</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="8091" href="#8091">[8091]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_NecronAides">SpriteUpdateHandler_Enemy_NecronAides</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="8093" href="#8093">[8093]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Zombie">SpriteUpdateHandler_Enemy_Zombie</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="8095" href="#8095">[8095]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Hornet">SpriteUpdateHandler_Enemy_Hornet</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="8097" href="#8097">[8097]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Bihoruda">SpriteUpdateHandler_Enemy_Bihoruda</a>-1) &amp; $FFFF</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="8099" href="#8099">[8099]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Lilith">SpriteUpdateHandler_Enemy_Lilith</a>-1) &amp; $FFFF</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="809b" href="#809b">[809b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_TODO_Garbled10">SpriteUpdateHandler_TODO_Garbled10</a>-1) &amp; $FFFF</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="809d" href="#809d">[809d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Yuinaru">SpriteUpdateHandler_Enemy_Yuinaru</a>-1) &amp; $FFFF</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="809f" href="#809f">[809f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Snowman">SpriteUpdateHandler_Enemy_Snowman</a>-1) &amp; $FFFF</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="80a1" href="#80a1">[80a1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Nash">SpriteUpdateHandler_Enemy_Nash</a>-1) &amp; $FFFF</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="80a3" href="#80a3">[80a3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_FireGiant">SpriteUpdateHandler_Enemy_FireGiant</a>-1) &amp; $FFFF</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="80a5" href="#80a5">[80a5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Ishiisu">SpriteUpdateHandler_Enemy_Ishiisu</a>-1) &amp; $FFFF</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="80a7" href="#80a7">[80a7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_ExecutionHood">SpriteUpdateHandler_Enemy_ExecutionHood</a>-1) &amp; $FFFF</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="80a9" href="#80a9">[80a9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_Rokusutahn">SpriteUpdateHandler_Boss_Rokusutahn</a>-1) &amp; $FFFF</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="80ab" href="#80ab">[80ab]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart">SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart</a>-1) &amp; $FFFF</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="80ad" href="#80ad">[80ad]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_EnemyDeath">SpriteUpdateHandler_Effect_EnemyDeath</a>-1) &amp; $FFFF</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="80af" href="#80af">[80af]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>-1) &amp; $FFFF</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="80b1" href="#80b1">[80b1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Charron">SpriteUpdateHandler_Enemy_Charron</a>-1) &amp; $FFFF</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="80b3" href="#80b3">[80b3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Invisible">SpriteUpdateHandler_Invisible</a>-1) &amp; $FFFF</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="80b5" href="#80b5">[80b5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Geributa">SpriteUpdateHandler_Enemy_Geributa</a>-1) &amp; $FFFF</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="80b7" href="#80b7">[80b7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Sugata">SpriteUpdateHandler_Enemy_Sugata</a>-1) &amp; $FFFF</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="80b9" href="#80b9">[80b9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Grimlock">SpriteUpdateHandler_Enemy_Grimlock</a>-1) &amp; $FFFF</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="80bb" href="#80bb">[80bb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_GiantBees">SpriteUpdateHandler_Enemy_GiantBees</a>-1) &amp; $FFFF</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="80bd" href="#80bd">[80bd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Myconid">SpriteUpdateHandler_Enemy_Myconid</a>-1) &amp; $FFFF</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="80bf" href="#80bf">[80bf]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Naga">SpriteUpdateHandler_Enemy_Naga</a>-1) &amp; $FFFF</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="80c1" href="#80c1">[80c1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Unused29">SpriteUpdateHandler_Enemy_Unused29</a>-1) &amp; $FFFF</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="80c3" href="#80c3">[80c3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_GiantStrider">SpriteUpdateHandler_Enemy_GiantStrider</a>-1) &amp; $FFFF</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="80c5" href="#80c5">[80c5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_SirGawaine_Wolfman">SpriteUpdateHandler_Enemy_SirGawaine_Wolfman</a>-1) &amp; $FFFF</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="80c7" href="#80c7">[80c7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Maskman">SpriteUpdateHandler_Enemy_Maskman</a>-1) &amp; $FFFF</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="80c9" href="#80c9">[80c9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman">thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman</a>-1) &amp; $FFFF</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="80cb" href="#80cb">[80cb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Yareeka">SpriteUpdateHandler_Enemy_Yareeka</a>-1) &amp; $FFFF</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="80cd" href="#80cd">[80cd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Magman">SpriteUpdateHandler_Enemy_Magman</a>-1) &amp; $FFFF</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="80cf" href="#80cf">[80cf]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Unused_CurlyTail">SpriteUpdateHandler_Enemy_Unused_CurlyTail</a>-1) &amp; $FFFF</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="80d1" href="#80d1">[80d1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Invisible">SpriteUpdateHandler_Invisible</a>-1) &amp; $FFFF</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="80d3" href="#80d3">[80d3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Ikeda">SpriteUpdateHandler_Enemy_Ikeda</a>-1) &amp; $FFFF</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="80d5" href="#80d5">[80d5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_MuppetGuy">SpriteUpdateHandler_Enemy_MuppetGuy</a>-1) &amp; $FFFF</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="80d7" href="#80d7">[80d7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Lamprey">SpriteUpdateHandler_Enemy_Lamprey</a>-1) &amp; $FFFF</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="80d9" href="#80d9">[80d9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Invisible">SpriteUpdateHandler_Invisible</a>-1) &amp; $FFFF</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="80db" href="#80db">[80db]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Monodron">SpriteUpdateHandler_Enemy_Monodron</a>-1) &amp; $FFFF</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="80dd" href="#80dd">[80dd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Unused_WingedSkeleton">SpriteUpdateHandler_Enemy_Unused_WingedSkeleton</a>-1) &amp; $FFFF</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="80df" href="#80df">[80df]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_Tamazutsu">SpriteUpdateHandler_Enemy_Tamazutsu</a>-1) &amp; $FFFF</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="80e1" href="#80e1">[80e1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_Ripasheiku">SpriteUpdateHandler_Boss_Ripasheiku</a>-1) &amp; $FFFF</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="80e3" href="#80e3">[80e3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_Zoradohna">SpriteUpdateHandler_Boss_Zoradohna</a>-1) &amp; $FFFF</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="80e5" href="#80e5">[80e5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_Borabohra">SpriteUpdateHandler_Boss_Borabohra</a>-1) &amp; $FFFF</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="80e7" href="#80e7">[80e7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_Pakukame">SpriteUpdateHandler_Boss_Pakukame</a>-1) &amp; $FFFF</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="80e9" href="#80e9">[80e9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_Zorugeriru">SpriteUpdateHandler_Boss_Zorugeriru</a>-1) &amp; $FFFF</span></span><span class="ce">; [49]: Boss: Zorugeriru</span></span>
<span class="l"><a class="anc" name="80eb" href="#80eb">[80eb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_KingGrieve">SpriteUpdateHandler_Boss_KingGrieve</a>-1) &amp; $FFFF</span></span><span class="ce">; [50]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="80ed" href="#80ed">[80ed]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Boss_ShadowEura">SpriteUpdateHandler_Boss_ShadowEura</a>-1) &amp; $FFFF</span></span><span class="ce">; [51]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="80ef" href="#80ef">[80ef]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_Walking">SpriteUpdateHandler_NPC_Walking</a>-1) &amp; $FFFF</span></span><span class="ce">; [52]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="80f1" href="#80f1">[80f1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#thunk1_SpriteUpdateHandler_NPC_Walking">thunk1_SpriteUpdateHandler_NPC_Walking</a>-1) &amp; $FFFF</span></span><span class="ce">; [53]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="80f3" href="#80f3">[80f3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#thunk2_SpriteUpdateHandler_NPC_Walking">thunk2_SpriteUpdateHandler_NPC_Walking</a>-1) &amp; $FFFF</span></span><span class="ce">; [54]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="80f5" href="#80f5">[80f5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_ArmorSalesman">SpriteUpdateHandler_NPC_ArmorSalesman</a>-1) &amp; $FFFF</span></span><span class="ce">; [55]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="80f7" href="#80f7">[80f7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MartialArts">SpriteUpdateHandler_NPC_MartialArts</a>-1) &amp; $FFFF</span></span><span class="ce">; [56]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="80f9" href="#80f9">[80f9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_Priest">SpriteUpdateHandler_NPC_Priest</a>-1) &amp; $FFFF</span></span><span class="ce">; [57]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="80fb" href="#80fb">[80fb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_King">SpriteUpdateHandler_NPC_King</a>-1) &amp; $FFFF</span></span><span class="ce">; [58]: NPC: King</span></span>
<span class="l"><a class="anc" name="80fd" href="#80fd">[80fd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MagicTeacher">SpriteUpdateHandler_NPC_MagicTeacher</a>-1) &amp; $FFFF</span></span><span class="ce">; [59]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="80ff" href="#80ff">[80ff]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_KeySalesman_Others">SpriteUpdateHandler_NPC_KeySalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [60]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="8101" href="#8101">[8101]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_KeySalesman_Others">SpriteUpdateHandler_NPC_KeySalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [61]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="8103" href="#8103">[8103]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_KeySalesman_Others">SpriteUpdateHandler_NPC_KeySalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [62]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="8105" href="#8105">[8105]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_KeySalesman_Others">SpriteUpdateHandler_NPC_KeySalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [63]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="8107" href="#8107">[8107]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [64]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="8109" href="#8109">[8109]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [65]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="810b" href="#810b">[810b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [66]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="810d" href="#810d">[810d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_Doctor">SpriteUpdateHandler_NPC_Doctor</a>-1) &amp; $FFFF</span></span><span class="ce">; [67]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="810f" href="#810f">[810f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [68]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="8111" href="#8111">[8111]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>-1) &amp; $FFFF</span></span><span class="ce">; [69]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="8113" href="#8113">[8113]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura">SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura</a>-1) &amp; $FFFF</span></span><span class="ce">; [70]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="8115" href="#8115">[8115]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura">SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura</a>-1) &amp; $FFFF</span></span><span class="ce">; [71]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="8117" href="#8117">[8117]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [72]: Item: Glove</span></span>
<span class="l"><a class="anc" name="8119" href="#8119">[8119]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>-1) &amp; $FFFF</span></span><span class="ce">; [73]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="811b" href="#811b">[811b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>-1) &amp; $FFFF</span></span><span class="ce">; [74]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="811d" href="#811d">[811d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [75]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="811f" href="#811f">[811f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [76]: Item: Poison</span></span>
<span class="l"><a class="anc" name="8121" href="#8121">[8121]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [77]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="8123" href="#8123">[8123]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [78]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="8125" href="#8125">[8125]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Invisible">SpriteUpdateHandler_Invisible</a>-1) &amp; $FFFF</span></span><span class="ce">; [79]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="8127" href="#8127">[8127]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [80]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="8129" href="#8129">[8129]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Magic_81">SpriteUpdateHandler_Magic_81</a>-1) &amp; $FFFF</span></span><span class="ce">; [81]: Magic: ?</span></span>
<span class="l"><a class="anc" name="812b" href="#812b">[812b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_Fountain">SpriteUpdateHandler_Effect_Fountain</a>-1) &amp; $FFFF</span></span><span class="ce">; [82]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="812d" href="#812d">[812d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Magic_83">SpriteUpdateHandler_Magic_83</a>-1) &amp; $FFFF</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="812f" href="#812f">[812f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_EnemyMagic">SpriteUpdateHandler_EnemyMagic</a>-1) &amp; $FFFF</span></span><span class="ce">; [84]: Magic: Enemy Fireball</span></span>
<span class="l"><a class="anc" name="8131" href="#8131">[8131]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [85]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="8133" href="#8133">[8133]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [86]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="8135" href="#8135">[8135]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>-1) &amp; $FFFF</span></span><span class="ce">; [87]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="8137" href="#8137">[8137]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>-1) &amp; $FFFF</span></span><span class="ce">; [88]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="8139" href="#8139">[8139]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>-1) &amp; $FFFF</span></span><span class="ce">; [89]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="813b" href="#813b">[813b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>-1) &amp; $FFFF</span></span><span class="ce">; [90]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="813d" href="#813d">[813d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [91]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="813f" href="#813f">[813f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [92]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="8141" href="#8141">[8141]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [93]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="8143" href="#8143">[8143]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [94]: Item: Poison</span></span>
<span class="l"><a class="anc" name="8145" href="#8145">[8145]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [95]: Item: Glove</span></span>
<span class="l"><a class="anc" name="8147" href="#8147">[8147]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>-1) &amp; $FFFF</span></span><span class="ce">; [96]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="8149" href="#8149">[8149]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>-1) &amp; $FFFF</span></span><span class="ce">; [97]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="814b" href="#814b">[814b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>-1) &amp; $FFFF</span></span><span class="ce">; [98]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="814d" href="#814d">[814d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>-1) &amp; $FFFF</span></span><span class="ce">; [99]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="814f" href="#814f">[814f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteUpdateHandler_Effect_BossDeath">SpriteUpdateHandler_Effect_BossDeath</a>-1) &amp; $FFFF</span></span><span class="ce">; [100]: Effect: Boss Death</span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_Maybe_UpdateHitByMagic"></a><div class="cp">;============================================================================
; TODO: Document Sprites_Maybe_UpdateHitByMagic
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="8151" href="#8151">[8151]</a><a href="#Sprites_Maybe_UpdateHitByMagic" class="la">Sprites_Maybe_UpdateHitByMagic:</a><span class="ce">; [$8151]</span></span>
<span class="l"><a class="anc" name="8151" href="#8151">[8151]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"><a class="anc" name="8154" href="#8154">[8154]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8162">@LAB_PRG14__8162</a></span></span></span>
<span class="l"><a class="anc" name="8156" href="#8156">[8156]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="8157" href="#8157">[8157]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__817a">@LAB_PRG14__817a</a></span></span></span>
<span class="l"><a class="anc" name="8159" href="#8159">[8159]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="815a" href="#815a">[815a]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8192">@LAB_PRG14__8192</a></span></span></span>
<span class="l"><a class="anc" name="815c" href="#815c">[815c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="815e" href="#815e">[815e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"><a class="anc" name="8161" href="#8161">[8161]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8162:@LAB_PRG14__8162"></a><span class="l"><a class="anc" name="8162" href="#8162">[8162]</a><a href="#:8162:@LAB_PRG14__8162" class="lla">@LAB_PRG14__8162:</a><span class="ce">; [$8162]</span></span>
<span class="l"><a class="anc" name="8162" href="#8162">[8162]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8164" href="#8164">[8164]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8167" href="#8167">[8167]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8169" href="#8169">[8169]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="816c" href="#816c">[816c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="816f" href="#816f">[816f]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicIFrames">CurrentSprites_HitByMagicIFrames</a>,X</span></span></span>
<span class="l"><a class="anc" name="8172" href="#8172">[8172]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8179">@LAB_PRG14__8179</a></span></span></span>
<span class="l"><a class="anc" name="8174" href="#8174">[8174]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8176" href="#8176">[8176]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"></span>
<a name=":8179:@LAB_PRG14__8179"></a><span class="l"><a class="anc" name="8179" href="#8179">[8179]</a><a href="#:8179:@LAB_PRG14__8179" class="lla">@LAB_PRG14__8179:</a><span class="ce">; [$8179]</span></span>
<span class="l"><a class="anc" name="8179" href="#8179">[8179]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":817a:@LAB_PRG14__817a"></a><span class="l"><a class="anc" name="817a" href="#817a">[817a]</a><a href="#:817a:@LAB_PRG14__817a" class="lla">@LAB_PRG14__817a:</a><span class="ce">; [$817a]</span></span>
<span class="l"><a class="anc" name="817a" href="#817a">[817a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="817c" href="#817c">[817c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="817f" href="#817f">[817f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8181" href="#8181">[8181]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8184" href="#8184">[8184]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="8187" href="#8187">[8187]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicIFrames">CurrentSprites_HitByMagicIFrames</a>,X</span></span></span>
<span class="l"><a class="anc" name="818a" href="#818a">[818a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="818c" href="#818c">[818c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="818e" href="#818e">[818e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"></span>
<a name=":8191:@_return1"></a><span class="l"><a class="anc" name="8191" href="#8191">[8191]</a><a href="#:8191:@_return1" class="lla">@_return1:</a><span class="ce">; [$8191]</span></span>
<span class="l"><a class="anc" name="8191" href="#8191">[8191]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8192:@LAB_PRG14__8192"></a><span class="l"><a class="anc" name="8192" href="#8192">[8192]</a><a href="#:8192:@LAB_PRG14__8192" class="lla">@LAB_PRG14__8192:</a><span class="ce">; [$8192]</span></span>
<span class="l"><a class="anc" name="8192" href="#8192">[8192]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8194" href="#8194">[8194]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8197" href="#8197">[8197]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8199" href="#8199">[8199]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="819c" href="#819c">[819c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="819f" href="#819f">[819f]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="81a1" href="#81a1">[81a1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="81a3" href="#81a3">[81a3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"></span>
<a name=":81a6:@_return2"></a><span class="l"><a class="anc" name="81a6" href="#81a6">[81a6]</a><a href="#:81a6:@_return2" class="lla">@_return2:</a><span class="ce">; [$81a6]</span></span>
<span class="l"><a class="anc" name="81a6" href="#81a6">[81a6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Player_HitEnemyWithMagic"></a><div class="cp">;============================================================================
; TODO: Document Player_HitEnemyWithMagic
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="81a7" href="#81a7">[81a7]</a><a href="#Player_HitEnemyWithMagic" class="la">Player_HitEnemyWithMagic:</a><span class="ce">; [$81a7]</span></span>
<span class="l"><a class="anc" name="81a7" href="#81a7">[81a7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="81aa" href="#81aa">[81aa]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="81ac" href="#81ac">[81ac]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__81b6">@LAB_PRG14__81b6</a></span></span></span>
<span class="l"><a class="anc" name="81ae" href="#81ae">[81ae]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="81b1" href="#81b1">[81b1]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="81b3" href="#81b3">[81b3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":81b6:@LAB_PRG14__81b6"></a><span class="l"><a class="anc" name="81b6" href="#81b6">[81b6]</a><a href="#:81b6:@LAB_PRG14__81b6" class="lla">@LAB_PRG14__81b6:</a><span class="ce">; [$81b6]</span></span>
<span class="l"><a class="anc" name="81b6" href="#81b6">[81b6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="81b8" href="#81b8">[81b8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"><a class="anc" name="81bb" href="#81bb">[81bb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAGIC_DAMAGE">MAGIC_DAMAGE</a>,Y</span></span></span>
<span class="l"><a class="anc" name="81be" href="#81be">[81be]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="81c0" href="#81c0">[81c0]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpecialItems">SpecialItems</a></span></span></span>
<span class="l"><a class="anc" name="81c3" href="#81c3">[81c3]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="81c5" href="#81c5">[81c5]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__81cf">@LAB_PRG14__81cf</a></span></span></span>
<span class="l"><a class="anc" name="81c7" href="#81c7">[81c7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="81c9" href="#81c9">[81c9]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="81ca" href="#81ca">[81ca]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="81cb" href="#81cb">[81cb]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="81cd" href="#81cd">[81cd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<a name=":81cf:@LAB_PRG14__81cf"></a><span class="l"><a class="anc" name="81cf" href="#81cf">[81cf]</a><a href="#:81cf:@LAB_PRG14__81cf" class="lla">@LAB_PRG14__81cf:</a><span class="ce">; [$81cf]</span></span>
<span class="l"><a class="anc" name="81cf" href="#81cf">[81cf]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="81d1" href="#81d1">[81d1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="81d3" href="#81d3">[81d3]</a><span class="cd"><span class="i">STY</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span></span>
<span class="l"><a class="anc" name="81d5" href="#81d5">[81d5]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="81d7" href="#81d7">[81d7]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__81fd">@LAB_PRG14__81fd</a></span></span></span>
<span class="l"><a class="anc" name="81d9" href="#81d9">[81d9]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="81dc" href="#81dc">[81dc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITY_MAYBE_MAGIC_DEFENSE">SPRITE_ENTITY_MAYBE_MAGIC_DEFENSE</a>,Y</span></span></span>
<span class="l"></span>
<a name=":81df:@LAB_PRG14__81df"></a><span class="l"><a class="anc" name="81df" href="#81df">[81df]</a><a href="#:81df:@LAB_PRG14__81df" class="lla">@LAB_PRG14__81df:</a><span class="ce">; [$81df]</span></span>
<span class="l"><a class="anc" name="81df" href="#81df">[81df]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="81e0" href="#81e0">[81e0]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="81e2" href="#81e2">[81e2]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="81e3" href="#81e3">[81e3]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="81e5" href="#81e5">[81e5]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span></span>
<span class="l"><a class="anc" name="81e7" href="#81e7">[81e7]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__81df">@LAB_PRG14__81df</a></span></span></span>
<span class="l"><a class="anc" name="81e9" href="#81e9">[81e9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="81eb" href="#81eb">[81eb]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="81ed" href="#81ed">[81ed]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="81ee" href="#81ee">[81ee]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__81fd">@LAB_PRG14__81fd</a></span></span></span>
<span class="l"><a class="anc" name="81f0" href="#81f0">[81f0]</a><span class="cd"><span class="i">LSR</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="81f2" href="#81f2">[81f2]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="81f3" href="#81f3">[81f3]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__81fd">@LAB_PRG14__81fd</a></span></span></span>
<span class="l"><a class="anc" name="81f5" href="#81f5">[81f5]</a><span class="cd"><span class="i">LSR</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="81f7" href="#81f7">[81f7]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__81fd">@LAB_PRG14__81fd</a></span></span></span>
<span class="l"><a class="anc" name="81f9" href="#81f9">[81f9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="81fb" href="#81fb">[81fb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<a name=":81fd:@LAB_PRG14__81fd"></a><span class="l"><a class="anc" name="81fd" href="#81fd">[81fd]</a><a href="#:81fd:@LAB_PRG14__81fd" class="lla">@LAB_PRG14__81fd:</a><span class="ce">; [$81fd]</span></span>
<span class="l"><a class="anc" name="81fd" href="#81fd">[81fd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HP">CurrentSprites_HP</a>,X</span></span></span>
<span class="l"><a class="anc" name="8200" href="#8200">[8200]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8201" href="#8201">[8201]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8203" href="#8203">[8203]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HP">CurrentSprites_HP</a>,X</span></span></span>
<span class="l"><a class="anc" name="8206" href="#8206">[8206]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_822D">RETURN_822D</a></span></span></span>
<span class="l"><a class="anc" name="8208" href="#8208">[8208]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="820b" href="#820b">[820b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$18</span></span></span>
<span class="l"><a class="anc" name="820d" href="#820d">[820d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8215">@LAB_PRG14__8215</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; If the enemy is Sugata, clear the greyscale set when it
; attacked so we don't get stuck in greyscale forever.
;
</div><span class="l"><a class="anc" name="820f" href="#820f">[820f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span><span class="ce">; Load the screen color mode.</span></span>
<span class="l"><a class="anc" name="8211" href="#8211">[8211]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span><span class="ce">; Clear the greyscale bit.</span></span>
<span class="l"><a class="anc" name="8213" href="#8213">[8213]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8215:@LAB_PRG14__8215"></a><div class="c">;
; Add experience from the sprite.
;
</div><span class="l"><a class="anc" name="8215" href="#8215">[8215]</a><a href="#:8215:@LAB_PRG14__8215" class="lla">@LAB_PRG14__8215:</a><span class="ce">; [$8215]</span></span>
<span class="l"><a class="anc" name="8215" href="#8215">[8215]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_AddExperienceFromSprite">Player_AddExperienceFromSprite</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Play the killed enemy sound effect.
;
</div><span class="l"><a class="anc" name="8218" href="#8218">[8218]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="821a" href="#821a">[821a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if this is a normal and big enemy. They need to be
; handled differently.
;
</div><span class="l"><a class="anc" name="821d" href="#821d">[821d]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8220" href="#8220">[8220]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8223" href="#8223">[8223]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="8225" href="#8225">[8225]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_isSmallEnemy">@_isSmallEnemy</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is a big enemy. Handle cleanup specially.
;
</div><span class="l"><a class="anc" name="8227" href="#8227">[8227]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowBigEnemyDeathByMagicOrWeapon">Sprite_ShowBigEnemyDeathByMagicOrWeapon</a></span></span></span>
<span class="l"></span>
<a name=":822a:@_isSmallEnemy"></a><span class="l"><a class="anc" name="822a" href="#822a">[822a]</a><a href="#:822a:@_isSmallEnemy" class="lla">@_isSmallEnemy:</a><span class="ce">; [$822a]</span></span>
<span class="l"><a class="anc" name="822a" href="#822a">[822a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowNormalEnemyDeathByMagic">Sprite_ShowNormalEnemyDeathByMagic</a></span></span></span>
<span class="l"></span>
<a name="RETURN_822D"></a><div class="c">;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;     <a href="#SpriteUpdateHandler_Effect_EnemyDeath">SpriteUpdateHandler_Effect_EnemyDeath</a>
;     <a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>
;
</div><span class="l"><a class="anc" name="822d" href="#822d">[822d]</a><a href="#RETURN_822D" class="la">RETURN_822D:</a><span class="ce">; [$822d]</span></span>
<span class="l"><a class="anc" name="822d" href="#822d">[822d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Effect_EnemyDeath"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Effect_EnemyDeath
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80ad]
;     <a href="#SpriteUpdateHandler_Effect_BossDeath">SpriteUpdateHandler_Effect_BossDeath</a>
;============================================================================
</div><span class="l"><a class="anc" name="822e" href="#822e">[822e]</a><a href="#SpriteUpdateHandler_Effect_EnemyDeath" class="la">SpriteUpdateHandler_Effect_EnemyDeath:</a><span class="ce">; [$822e]</span></span>
<span class="l"><a class="anc" name="822e" href="#822e">[822e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8230" href="#8230">[8230]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="8232" href="#8232">[8232]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8235" href="#8235">[8235]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8236" href="#8236">[8236]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_822D">RETURN_822D</a></span></span></span>
<span class="l"><a class="anc" name="8238" href="#8238">[8238]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="823a" href="#823a">[823a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="823c" href="#823c">[823c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="823e" href="#823e">[823e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="8241" href="#8241">[8241]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8244" href="#8244">[8244]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8247" href="#8247">[8247]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8248" href="#8248">[8248]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8249" href="#8249">[8249]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="824b" href="#824b">[824b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="824d" href="#824d">[824d]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="824f" href="#824f">[824f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8251" href="#8251">[8251]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8252" href="#8252">[8252]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8254" href="#8254">[8254]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="8256" href="#8256">[8256]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8258" href="#8258">[8258]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="825a" href="#825a">[825a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="825c" href="#825c">[825c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="825f" href="#825f">[825f]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8262" href="#8262">[8262]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8265" href="#8265">[8265]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8266" href="#8266">[8266]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8267" href="#8267">[8267]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8269" href="#8269">[8269]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="826b" href="#826b">[826b]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="826c" href="#826c">[826c]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="826e" href="#826e">[826e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="8270" href="#8270">[8270]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8272" href="#8272">[8272]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="8274" href="#8274">[8274]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8276" href="#8276">[8276]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Effect_BossDeath"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Effect_BossDeath
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::814f]
;============================================================================
</div><span class="l"><a class="anc" name="8279" href="#8279">[8279]</a><a href="#SpriteUpdateHandler_Effect_BossDeath" class="la">SpriteUpdateHandler_Effect_BossDeath:</a><span class="ce">; [$8279]</span></span>
<span class="l"><a class="anc" name="8279" href="#8279">[8279]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="827b" href="#827b">[827b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="827d" href="#827d">[827d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8280" href="#8280">[8280]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8282" href="#8282">[8282]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a></span></span></span>
<span class="l"><a class="anc" name="8284" href="#8284">[8284]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="8286" href="#8286">[8286]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a></span></span></span>
<span class="l"><a class="anc" name="8288" href="#8288">[8288]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteUpdateHandler_Effect_EnemyDeath">SpriteUpdateHandler_Effect_EnemyDeath</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Effect_LightningBall20"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Effect_LightningBall20
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80af]
;     <a href="#SpriteUpdateHandler_Effect_BossDeath">SpriteUpdateHandler_Effect_BossDeath</a>
;============================================================================
</div><span class="l"><a class="anc" name="828b" href="#828b">[828b]</a><a href="#SpriteUpdateHandler_Effect_LightningBall20" class="la">SpriteUpdateHandler_Effect_LightningBall20:</a><span class="ce">; [$828b]</span></span>
<span class="l"><a class="anc" name="828b" href="#828b">[828b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="828d" href="#828d">[828d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="828f" href="#828f">[828f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8292" href="#8292">[8292]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8293" href="#8293">[8293]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_822D">RETURN_822D</a></span></span></span>
<span class="l"><a class="anc" name="8295" href="#8295">[8295]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8297" href="#8297">[8297]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="8299" href="#8299">[8299]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="829b" href="#829b">[829b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="829d" href="#829d">[829d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="82a0" href="#82a0">[82a0]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"></span>
<a name=":82a2:@LAB_PRG14__82a2"></a><span class="l"><a class="anc" name="82a2" href="#82a2">[82a2]</a><a href="#:82a2:@LAB_PRG14__82a2" class="lla">@LAB_PRG14__82a2:</a><span class="ce">; [$82a2]</span></span>
<span class="l"><a class="anc" name="82a2" href="#82a2">[82a2]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="82a5" href="#82a5">[82a5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="82a7" href="#82a7">[82a7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="82a9" href="#82a9">[82a9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="82ab" href="#82ab">[82ab]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="82ad" href="#82ad">[82ad]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="82b0" href="#82b0">[82b0]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="82b1" href="#82b1">[82b1]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="82b2" href="#82b2">[82b2]</a><span class="cd"><span class="i">EOR</span> <span class="o">$82f0,Y</span></span></span>
<span class="l"><a class="anc" name="82b5" href="#82b5">[82b5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="82b7" href="#82b7">[82b7]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__82bb">@LAB_PRG14__82bb</a></span></span></span>
<span class="l"><a class="anc" name="82b9" href="#82b9">[82b9]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<a name=":82bb:@LAB_PRG14__82bb"></a><span class="l"><a class="anc" name="82bb" href="#82bb">[82bb]</a><a href="#:82bb:@LAB_PRG14__82bb" class="lla">@LAB_PRG14__82bb:</a><span class="ce">; [$82bb]</span></span>
<span class="l"><a class="anc" name="82bb" href="#82bb">[82bb]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="82bc" href="#82bc">[82bc]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="82be" href="#82be">[82be]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__82ca">@LAB_PRG14__82ca</a></span></span></span>
<span class="l"><a class="anc" name="82c0" href="#82c0">[82c0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="82c2" href="#82c2">[82c2]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="82c3" href="#82c3">[82c3]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="82c5" href="#82c5">[82c5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="82c7" href="#82c7">[82c7]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__82d1">@LAB_PRG14__82d1</a></span></span></span>
<span class="l"></span>
<a name=":82ca:@LAB_PRG14__82ca"></a><span class="l"><a class="anc" name="82ca" href="#82ca">[82ca]</a><a href="#:82ca:@LAB_PRG14__82ca" class="lla">@LAB_PRG14__82ca:</a><span class="ce">; [$82ca]</span></span>
<span class="l"><a class="anc" name="82ca" href="#82ca">[82ca]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="82cc" href="#82cc">[82cc]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="82cd" href="#82cd">[82cd]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="82cf" href="#82cf">[82cf]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"></span>
<a name=":82d1:@LAB_PRG14__82d1"></a><span class="l"><a class="anc" name="82d1" href="#82d1">[82d1]</a><a href="#:82d1:@LAB_PRG14__82d1" class="lla">@LAB_PRG14__82d1:</a><span class="ce">; [$82d1]</span></span>
<span class="l"><a class="anc" name="82d1" href="#82d1">[82d1]</a><span class="cd"><span class="i">LDA</span> <span class="o">$82f4,Y</span></span></span>
<span class="l"><a class="anc" name="82d4" href="#82d4">[82d4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="82d6" href="#82d6">[82d6]</a><span class="cd"><span class="i">LDA</span> <span class="o">$82ec,Y</span></span></span>
<span class="l"><a class="anc" name="82d9" href="#82d9">[82d9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="82db" href="#82db">[82db]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="82dc" href="#82dc">[82dc]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="82dd" href="#82dd">[82dd]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="82df" href="#82df">[82df]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="82e1" href="#82e1">[82e1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="82e3" href="#82e3">[82e3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="82e6" href="#82e6">[82e6]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="82e7" href="#82e7">[82e7]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="82e8" href="#82e8">[82e8]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="82e9" href="#82e9">[82e9]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__82a2">@LAB_PRG14__82a2</a></span></span></span>
<span class="l"><a class="anc" name="82eb" href="#82eb">[82eb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"><a class="anc" name="82ec" href="#82ec">[82ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="82ed" href="#82ed">[82ed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="82ee" href="#82ee">[82ee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [2]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__82ec_3_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>
;
</div><span class="l"><a class="anc" name="82ef" href="#82ef">[82ef]</a><a href="#BYTE_ARRAY_PRG14__82ec_3_" class="la">BYTE_ARRAY_PRG14__82ec_3_:</a><span class="ce">; [$82ef]</span></span>
<span class="l"><a class="anc" name="82ef" href="#82ef">[82ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="82f0" href="#82f0">[82f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="82f1" href="#82f1">[82f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__82f0_2_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>
;
</div><span class="l"><a class="anc" name="82f2" href="#82f2">[82f2]</a><a href="#BYTE_ARRAY_PRG14__82f0_2_" class="la">BYTE_ARRAY_PRG14__82f0_2_:</a><span class="ce">; [$82f2]</span></span>
<span class="l"><a class="anc" name="82f2" href="#82f2">[82f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [2]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__82f0_3_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>
;
</div><span class="l"><a class="anc" name="82f3" href="#82f3">[82f3]</a><a href="#BYTE_ARRAY_PRG14__82f0_3_" class="la">BYTE_ARRAY_PRG14__82f0_3_:</a><span class="ce">; [$82f3]</span></span>
<span class="l"><a class="anc" name="82f3" href="#82f3">[82f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="82f4" href="#82f4">[82f4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="82f5" href="#82f5">[82f5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="82f6" href="#82f6">[82f6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__82f4_3_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>
;
</div><span class="l"><a class="anc" name="82f7" href="#82f7">[82f7]</a><a href="#BYTE_ARRAY_PRG14__82f4_3_" class="la">BYTE_ARRAY_PRG14__82f4_3_:</a><span class="ce">; [$82f7]</span></span>
<span class="l"><a class="anc" name="82f7" href="#82f7">[82f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CalcDistanceXToPlayer"></a><div class="cp">;============================================================================
; TODO: Document Sprite_CalcDistanceXToPlayer
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_Unknown_29_SomeSetup">SpriteBehavior_Unknown_29_SomeSetup</a>
;     <a href="#SpriteOp_CheckDistanceToPlayer_X">SpriteOp_CheckDistanceToPlayer_X</a>
;============================================================================
</div><span class="l"><a class="anc" name="82f8" href="#82f8">[82f8]</a><a href="#Sprite_CalcDistanceXToPlayer" class="la">Sprite_CalcDistanceXToPlayer:</a><span class="ce">; [$82f8]</span></span>
<span class="l"><a class="anc" name="82f8" href="#82f8">[82f8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="82fa" href="#82fa">[82fa]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="82fb" href="#82fb">[82fb]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="82fd" href="#82fd">[82fd]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__8312">@LAB_PRG14__8312</a></span></span></span>
<span class="l"><a class="anc" name="82ff" href="#82ff">[82ff]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8301" href="#8301">[8301]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8302" href="#8302">[8302]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8304" href="#8304">[8304]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8305" href="#8305">[8305]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="8308" href="#8308">[8308]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8309" href="#8309">[8309]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="#SPRITE_HITBOX_WIDTHS">SPRITE_HITBOX_WIDTHS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="830c" href="#830c">[830c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_returnTrue">@_returnTrue</a></span></span></span>
<span class="l"><a class="anc" name="830e" href="#830e">[830e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"></span>
<a name=":8310:@_returnTrue"></a><span class="l"><a class="anc" name="8310" href="#8310">[8310]</a><a href="#:8310:@_returnTrue" class="lla">@_returnTrue:</a><span class="ce">; [$8310]</span></span>
<span class="l"><a class="anc" name="8310" href="#8310">[8310]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8311" href="#8311">[8311]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8312:@LAB_PRG14__8312"></a><span class="l"><a class="anc" name="8312" href="#8312">[8312]</a><a href="#:8312:@LAB_PRG14__8312" class="lla">@LAB_PRG14__8312:</a><span class="ce">; [$8312]</span></span>
<span class="l"><a class="anc" name="8312" href="#8312">[8312]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8313" href="#8313">[8313]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="8315" href="#8315">[8315]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="8317" href="#8317">[8317]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8319" href="#8319">[8319]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"></span>
<a name=":831a:@_return"></a><span class="l"><a class="anc" name="831a" href="#831a">[831a]</a><a href="#:831a:@_return" class="lla">@_return:</a><span class="ce">; [$831a]</span></span>
<span class="l"><a class="anc" name="831a" href="#831a">[831a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CalcDistanceYToPlayer"></a><div class="cp">;============================================================================
; TODO: Document Sprite_CalcDistanceYToPlayer
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__9699">FUN_PRG14__9699</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Unknown_29_SomeSetup">SpriteBehavior_Unknown_29_SomeSetup</a>
;     <a href="#SpriteOp_CheckDistanceToPlayer_Y">SpriteOp_CheckDistanceToPlayer_Y</a>
;============================================================================
</div><span class="l"><a class="anc" name="831b" href="#831b">[831b]</a><a href="#Sprite_CalcDistanceYToPlayer" class="la">Sprite_CalcDistanceYToPlayer:</a><span class="ce">; [$831b]</span></span>
<span class="l"><a class="anc" name="831b" href="#831b">[831b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="831d" href="#831d">[831d]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="831e" href="#831e">[831e]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"><a class="anc" name="8320" href="#8320">[8320]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="8322" href="#8322">[8322]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8324" href="#8324">[8324]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8325" href="#8325">[8325]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8327" href="#8327">[8327]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"></span>
<a name=":8328:@_return"></a><span class="l"><a class="anc" name="8328" href="#8328">[8328]</a><a href="#:8328:@_return" class="lla">@_return:</a><span class="ce">; [$8328]</span></span>
<span class="l"><a class="anc" name="8328" href="#8328">[8328]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Unknown_29_SomeSetup"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Unknown_29_SomeSetup
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Unknown_29">SpriteBehavior_Unknown_29</a>
;============================================================================
</div><span class="l"><a class="anc" name="8329" href="#8329">[8329]</a><a href="#SpriteBehavior_Unknown_29_SomeSetup" class="la">SpriteBehavior_Unknown_29_SomeSetup:</a><span class="ce">; [$8329]</span></span>
<span class="l"><a class="anc" name="8329" href="#8329">[8329]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="832c" href="#832c">[832c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerY">BScript_Action_FacePlayerY</a></span></span></span>
<span class="l"><a class="anc" name="832f" href="#832f">[832f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceXToPlayer">Sprite_CalcDistanceXToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="8332" href="#8332">[8332]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="8335" href="#8335">[8335]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="8338" href="#8338">[8338]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="833b" href="#833b">[833b]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="833e" href="#833e">[833e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__836c">@LAB_PRG14__836c</a></span></span></span>
<span class="l"><a class="anc" name="8340" href="#8340">[8340]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="8343" href="#8343">[8343]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="8346" href="#8346">[8346]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="8349" href="#8349">[8349]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SpriteBehaviorUnknown20_SomethingXOrY">SpriteBehaviorUnknown20_SomethingXOrY</a></span></span></span>
<span class="l"><a class="anc" name="834c" href="#834c">[834c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="834e" href="#834e">[834e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="8351" href="#8351">[8351]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#BYTE_04bf">BYTE_04bf</a></span></span></span>
<span class="l"><a class="anc" name="8354" href="#8354">[8354]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="8357" href="#8357">[8357]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_Something_ChangeHP">Player_Something_ChangeHP</a></span></span></span>
<span class="l"><a class="anc" name="835a" href="#835a">[835a]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="835d" href="#835d">[835d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="8360" href="#8360">[8360]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="8363" href="#8363">[8363]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="8366" href="#8366">[8366]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8368" href="#8368">[8368]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="836b" href="#836b">[836b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":836c:@LAB_PRG14__836c"></a><span class="l"><a class="anc" name="836c" href="#836c">[836c]</a><a href="#:836c:@LAB_PRG14__836c" class="lla">@LAB_PRG14__836c:</a><span class="ce">; [$836c]</span></span>
<span class="l"><a class="anc" name="836c" href="#836c">[836c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="836f" href="#836f">[836f]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="8372" href="#8372">[8372]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="8375" href="#8375">[8375]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SpriteBehaviorUnknown20_SomethingXOrY">SpriteBehaviorUnknown20_SomethingXOrY</a></span></span></span>
<span class="l"><a class="anc" name="8378" href="#8378">[8378]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="837a" href="#837a">[837a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="837d" href="#837d">[837d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#BYTE_04bf">BYTE_04bf</a></span></span></span>
<span class="l"><a class="anc" name="8380" href="#8380">[8380]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="8383" href="#8383">[8383]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_Something_ChangeHP">Player_Something_ChangeHP</a></span></span></span>
<span class="l"><a class="anc" name="8386" href="#8386">[8386]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="8389" href="#8389">[8389]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="838c" href="#838c">[838c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="838f" href="#838f">[838f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="8392" href="#8392">[8392]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8394" href="#8394">[8394]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="8397" href="#8397">[8397]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__8398"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;
; XREFS:
;     <a href="#FUN_PRG14__8398">FUN_PRG14__8398</a>
;============================================================================
</div><span class="l"><a class="anc" name="8398" href="#8398">[8398]</a><a href="#FUN_PRG14__8398" class="la">FUN_PRG14__8398:</a><span class="ce">; [$8398]</span></span>
<span class="l"><a class="anc" name="8398" href="#8398">[8398]</a><span class="cd"><span class="i">ASL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="839b" href="#839b">[839b]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="839e" href="#839e">[839e]</a><span class="cd"><span class="i">ASL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="83a1" href="#83a1">[83a1]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="83a4" href="#83a4">[83a4]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="83a5" href="#83a5">[83a5]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#FUN_PRG14__8398">FUN_PRG14__8398</a></span></span></span>
<span class="l"><a class="anc" name="83a7" href="#83a7">[83a7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__83a8"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="83a8" href="#83a8">[83a8]</a><a href="#FUN_PRG14__83a8" class="la">FUN_PRG14__83a8:</a><span class="ce">; [$83a8]</span></span>
<span class="l"><a class="anc" name="83a8" href="#83a8">[83a8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="83ab" href="#83ab">[83ab]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="83ae" href="#83ae">[83ae]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="83b1" href="#83b1">[83b1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="83b4" href="#83b4">[83b4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="83b7" href="#83b7">[83b7]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="83ba" href="#83ba">[83ba]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="83bd" href="#83bd">[83bd]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="83c0" href="#83c0">[83c0]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_CalcHorizSpriteMovement"></a><div class="cp">;============================================================================
; TODO: Document Sprites_CalcHorizSpriteMovement
;
; INPUTS:
;     A
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__9593">FUN_PRG14__9593</a>
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;============================================================================
</div><span class="l"><a class="anc" name="83c1" href="#83c1">[83c1]</a><a href="#Sprites_CalcHorizSpriteMovement" class="la">Sprites_CalcHorizSpriteMovement:</a><span class="ce">; [$83c1]</span></span>
<span class="l"><a class="anc" name="83c1" href="#83c1">[83c1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Set pixels delta from A.</span></span>
<span class="l"><a class="anc" name="83c4" href="#83c4">[83c4]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span><span class="ce">; A = 0</span></span>
<span class="l"></span>
<a name=":83c6:@_loop"></a><span class="l"><a class="anc" name="83c6" href="#83c6">[83c6]</a><a href="#:83c6:@_loop" class="lla">@_loop:</a><span class="ce">; [$83c6]</span></span>
<span class="l"><a class="anc" name="83c6" href="#83c6">[83c6]</a><span class="cd"><span class="i">ASL</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Shift the pixels delta amount left.</span></span>
<span class="l"><a class="anc" name="83c9" href="#83c9">[83c9]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="83ca" href="#83ca">[83ca]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="83cb" href="#83cb">[83cb]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_loop">@_loop</a></span></span></span>
<span class="l"><a class="anc" name="83cd" href="#83cd">[83cd]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="83d0" href="#83d0">[83d0]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_CalcVerticalSpriteMovement"></a><div class="cp">;============================================================================
; TODO: Document Sprites_CalcVerticalSpriteMovement
;
; INPUTS:
;     A
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_Garbled3">SpriteBehavior_Garbled3</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;============================================================================
</div><span class="l"><a class="anc" name="83d1" href="#83d1">[83d1]</a><a href="#Sprites_CalcVerticalSpriteMovement" class="la">Sprites_CalcVerticalSpriteMovement:</a><span class="ce">; [$83d1]</span></span>
<span class="l"><a class="anc" name="83d1" href="#83d1">[83d1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="83d4" href="#83d4">[83d4]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"></span>
<a name=":83d6:@LAB_PRG14__83d6"></a><span class="l"><a class="anc" name="83d6" href="#83d6">[83d6]</a><a href="#:83d6:@LAB_PRG14__83d6" class="lla">@LAB_PRG14__83d6:</a><span class="ce">; [$83d6]</span></span>
<span class="l"><a class="anc" name="83d6" href="#83d6">[83d6]</a><span class="cd"><span class="i">ASL</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="83d9" href="#83d9">[83d9]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="83da" href="#83da">[83da]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="83db" href="#83db">[83db]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__83d6">@LAB_PRG14__83d6</a></span></span></span>
<span class="l"><a class="anc" name="83dd" href="#83dd">[83dd]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="83e0" href="#83e0">[83e0]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_CalcYFromGravity"></a><div class="cp">;============================================================================
; TODO: Document Sprites_CalcYFromGravity
;
; INPUTS:
;     A
;     Y
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>
;     <a href="#FUN_PRG14__9593">FUN_PRG14__9593</a>
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;============================================================================
</div><span class="l"><a class="anc" name="83e1" href="#83e1">[83e1]</a><a href="#Sprites_CalcYFromGravity" class="la">Sprites_CalcYFromGravity:</a><span class="ce">; [$83e1]</span></span>
<span class="l"><a class="anc" name="83e1" href="#83e1">[83e1]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="83e2" href="#83e2">[83e2]</a><span class="cd"><span class="i">AND</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_PEAK_TICKS">SPRITE_BEHAVIOR_HOP_PEAK_TICKS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="83e5" href="#83e5">[83e5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="83e7" href="#83e7">[83e7]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="83e8" href="#83e8">[83e8]</a><span class="cd"><span class="i">AND</span> <span class="o"><a href="#SPRITES_MAYBE_GRAVITY">SPRITES_MAYBE_GRAVITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="83eb" href="#83eb">[83eb]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__83f4">@LAB_PRG14__83f4</a></span></span></span>
<span class="l"><a class="anc" name="83ed" href="#83ed">[83ed]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_PEAK_TICKS">SPRITE_BEHAVIOR_HOP_PEAK_TICKS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="83f0" href="#83f0">[83f0]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="83f1" href="#83f1">[83f1]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="83f3" href="#83f3">[83f3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":83f4:@LAB_PRG14__83f4"></a><span class="l"><a class="anc" name="83f4" href="#83f4">[83f4]</a><a href="#:83f4:@LAB_PRG14__83f4" class="lla">@LAB_PRG14__83f4:</a><span class="ce">; [$83f4]</span></span>
<span class="l"><a class="anc" name="83f4" href="#83f4">[83f4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="83f6" href="#83f6">[83f6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOR_HOP_PEAK_TICKS"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a>
;
</div><span class="l"><a class="anc" name="83f7" href="#83f7">[83f7]</a><a href="#SPRITE_BEHAVIOR_HOP_PEAK_TICKS" class="la">SPRITE_BEHAVIOR_HOP_PEAK_TICKS:</a><span class="ce">; [$83f7]</span></span>
<span class="l"><a class="anc" name="83f7" href="#83f7">[83f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="83f8" href="#83f8">[83f8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$7f</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="83f9" href="#83f9">[83f9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3f</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="83fa" href="#83fa">[83fa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="83fb" href="#83fb">[83fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="83fc" href="#83fc">[83fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="83fd" href="#83fd">[83fd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="83fe" href="#83fe">[83fe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
<a name="SPRITES_MAYBE_GRAVITY"></a><div class="c">;
; XREFS:
;     <a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a>
;
</div><span class="l"><a class="anc" name="83ff" href="#83ff">[83ff]</a><a href="#SPRITES_MAYBE_GRAVITY" class="la">SPRITES_MAYBE_GRAVITY:</a><span class="ce">; [$83ff]</span></span>
<span class="l"><a class="anc" name="83ff" href="#83ff">[83ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8400" href="#8400">[8400]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8401" href="#8401">[8401]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8402" href="#8402">[8402]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="8403" href="#8403">[8403]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="8404" href="#8404">[8404]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="8405" href="#8405">[8405]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="8406" href="#8406">[8406]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_FlipXDirection"></a><div class="cp">;============================================================================
; TODO: Document BScript_Action_FlipXDirection
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a796]
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;============================================================================
</div><span class="l"><a class="anc" name="8407" href="#8407">[8407]</a><a href="#BScript_Action_FlipXDirection" class="la">BScript_Action_FlipXDirection:</a><span class="ce">; [$8407]</span></span>
<span class="l"><a class="anc" name="8407" href="#8407">[8407]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="840a" href="#840a">[840a]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="840c" href="#840c">[840c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="840f" href="#840f">[840f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_FlipYDirection"></a><div class="cp">;============================================================================
; TODO: Document BScript_Action_FlipYDirection
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a79a]
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;============================================================================
</div><span class="l"><a class="anc" name="8410" href="#8410">[8410]</a><a href="#BScript_Action_FlipYDirection" class="la">BScript_Action_FlipYDirection:</a><span class="ce">; [$8410]</span></span>
<span class="l"><a class="anc" name="8410" href="#8410">[8410]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8413" href="#8413">[8413]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8415" href="#8415">[8415]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8418" href="#8418">[8418]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_MoveHorizAndTurnAroundIfNeeded"></a><div class="cp">;============================================================================
; TODO: Document Sprite_MoveHorizAndTurnAroundIfNeeded
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__9593">FUN_PRG14__9593</a>
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior_Yareeka">SpriteBehavior_Yareeka</a>
;     <a href="#Sprite_MoveHorizOneBlockOrTurnAround">Sprite_MoveHorizOneBlockOrTurnAround</a>
;============================================================================
</div><span class="l"><a class="anc" name="8419" href="#8419">[8419]</a><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded" class="la">Sprite_MoveHorizAndTurnAroundIfNeeded:</a><span class="ce">; [$8419]</span></span>
<span class="l"><a class="anc" name="8419" href="#8419">[8419]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="841c" href="#841c">[841c]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="841e" href="#841e">[841e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8421" href="#8421">[8421]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8423" href="#8423">[8423]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":8426:@_return"></a><span class="l"><a class="anc" name="8426" href="#8426">[8426]</a><a href="#:8426:@_return" class="lla">@_return:</a><span class="ce">; [$8426]</span></span>
<span class="l"><a class="anc" name="8426" href="#8426">[8426]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz"></a><div class="cp">;============================================================================
; TODO: Document Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz
;
; INPUTS:
;     X
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#SpriteBehavior_EnemyMagic">SpriteBehavior_EnemyMagic</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;============================================================================
</div><span class="l"><a class="anc" name="8427" href="#8427">[8427]</a><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz" class="la">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz:</a><span class="ce">; [$8427]</span></span>
<span class="l"><a class="anc" name="8427" href="#8427">[8427]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__849a">FUN_PRG14__849a</a></span></span></span>
<span class="l"><a class="anc" name="842a" href="#842a">[842a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="842c" href="#842c">[842c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="842e" href="#842e">[842e]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_returnFalse">@_returnFalse</a></span></span></span>
<span class="l"><a class="anc" name="8430" href="#8430">[8430]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8433" href="#8433">[8433]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8434" href="#8434">[8434]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8436" href="#8436">[8436]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="8438" href="#8438">[8438]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__843d">@LAB_PRG14__843d</a></span></span></span>
<span class="l"><a class="anc" name="843a" href="#843a">[843a]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="843b" href="#843b">[843b]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"></span>
<a name=":843d:@LAB_PRG14__843d"></a><span class="l"><a class="anc" name="843d" href="#843d">[843d]</a><a href="#:843d:@LAB_PRG14__843d" class="lla">@LAB_PRG14__843d:</a><span class="ce">; [$843d]</span></span>
<span class="l"><a class="anc" name="843d" href="#843d">[843d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="843f" href="#843f">[843f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8442" href="#8442">[8442]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8444" href="#8444">[8444]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8447" href="#8447">[8447]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8448" href="#8448">[8448]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8449:@_returnFalse"></a><span class="l"><a class="anc" name="8449" href="#8449">[8449]</a><a href="#:8449:@_returnFalse" class="lla">@_returnFalse:</a><span class="ce">; [$8449]</span></span>
<span class="l"><a class="anc" name="8449" href="#8449">[8449]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="844a" href="#844a">[844a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__844b"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="844b" href="#844b">[844b]</a><a href="#FUN_PRG14__844b" class="la">FUN_PRG14__844b:</a><span class="ce">; [$844b]</span></span>
<span class="l"><a class="anc" name="844b" href="#844b">[844b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_AddFacingPosX">Sprite_Maybe_AddFacingPosX</a></span></span></span>
<span class="l"><a class="anc" name="844e" href="#844e">[844e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8450" href="#8450">[8450]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="8452" href="#8452">[8452]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#RETURN_846B">RETURN_846B</a></span></span></span>
<span class="l"><a class="anc" name="8454" href="#8454">[8454]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8457" href="#8457">[8457]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8458" href="#8458">[8458]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="845a" href="#845a">[845a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="845c" href="#845c">[845c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__8461">@LAB_PRG14__8461</a></span></span></span>
<span class="l"><a class="anc" name="845e" href="#845e">[845e]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="845f" href="#845f">[845f]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"></span>
<a name=":8461:@LAB_PRG14__8461"></a><span class="l"><a class="anc" name="8461" href="#8461">[8461]</a><a href="#:8461:@LAB_PRG14__8461" class="lla">@LAB_PRG14__8461:</a><span class="ce">; [$8461]</span></span>
<span class="l"><a class="anc" name="8461" href="#8461">[8461]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8463" href="#8463">[8463]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8466" href="#8466">[8466]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8468" href="#8468">[8468]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name="RETURN_846B"></a><div class="c">;
; XREFS:
;     <a href="#FUN_PRG14__844b">FUN_PRG14__844b</a>
;     <a href="#Sprite_Maybe_AddFacingPosX">Sprite_Maybe_AddFacingPosX</a>
;
</div><span class="l"><a class="anc" name="846b" href="#846b">[846b]</a><a href="#RETURN_846B" class="la">RETURN_846B:</a><span class="ce">; [$846b]</span></span>
<span class="l"><a class="anc" name="846b" href="#846b">[846b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_Maybe_AddFacingPosX"></a><div class="cp">;============================================================================
; TODO: Document Sprite_Maybe_AddFacingPosX
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__844b">FUN_PRG14__844b</a>
;============================================================================
</div><span class="l"><a class="anc" name="846c" href="#846c">[846c]</a><a href="#Sprite_Maybe_AddFacingPosX" class="la">Sprite_Maybe_AddFacingPosX:</a><span class="ce">; [$846c]</span></span>
<span class="l"><a class="anc" name="846c" href="#846c">[846c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="846e" href="#846e">[846e]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="8470" href="#8470">[8470]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_846B">RETURN_846B</a></span></span></span>
<span class="l"><a class="anc" name="8472" href="#8472">[8472]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__847e">@LAB_PRG14__847e</a></span></span></span>
<span class="l"><a class="anc" name="8474" href="#8474">[8474]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8477" href="#8477">[8477]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8479" href="#8479">[8479]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8488">@LAB_PRG14__8488</a></span></span></span>
<span class="l"><a class="anc" name="847b" href="#847b">[847b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SubtractPosX">Sprite_SubtractPosX</a></span></span></span>
<span class="l"></span>
<a name=":847e:@LAB_PRG14__847e"></a><span class="l"><a class="anc" name="847e" href="#847e">[847e]</a><a href="#:847e:@LAB_PRG14__847e" class="lla">@LAB_PRG14__847e:</a><span class="ce">; [$847e]</span></span>
<span class="l"><a class="anc" name="847e" href="#847e">[847e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8481" href="#8481">[8481]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8483" href="#8483">[8483]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8488">@LAB_PRG14__8488</a></span></span></span>
<span class="l"><a class="anc" name="8485" href="#8485">[8485]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_AddPosX">Sprite_AddPosX</a></span></span></span>
<span class="l"></span>
<a name=":8488:@LAB_PRG14__8488"></a><span class="l"><a class="anc" name="8488" href="#8488">[8488]</a><a href="#:8488:@LAB_PRG14__8488" class="lla">@LAB_PRG14__8488:</a><span class="ce">; [$8488]</span></span>
<span class="l"><a class="anc" name="8488" href="#8488">[8488]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8489" href="#8489">[8489]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__848a"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="848a" href="#848a">[848a]</a><a href="#FUN_PRG14__848a" class="la">FUN_PRG14__848a:</a><span class="ce">; [$848a]</span></span>
<span class="l"><a class="anc" name="848a" href="#848a">[848a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="848c" href="#848c">[848c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="848f" href="#848f">[848f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8491" href="#8491">[8491]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="Sprites_Something_SomethingAndMoveHoriz"></a><div class="cp">;============================================================================
; TODO: Document Sprites_Something_SomethingAndMoveHoriz
;
; INPUTS:
;     X
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;     <a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_Unknown_29">SpriteBehavior_Unknown_29</a>
;     <a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a>
;     <a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a>
;     <a href="#Sprites_Maybe_UpdateHitByMagic">Sprites_Maybe_UpdateHitByMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="8494" href="#8494">[8494]</a><a href="#Sprites_Something_SomethingAndMoveHoriz" class="la">Sprites_Something_SomethingAndMoveHoriz:</a><span class="ce">; [$8494]</span></span>
<span class="l"><a class="anc" name="8494" href="#8494">[8494]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__849a">FUN_PRG14__849a</a></span></span></span>
<span class="l"><a class="anc" name="8497" href="#8497">[8497]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#MoveSpriteHorizIfPossible">MoveSpriteHorizIfPossible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__849a"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__849a
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a>
;     <a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a>
;============================================================================
</div><span class="l"><a class="anc" name="849a" href="#849a">[849a]</a><a href="#FUN_PRG14__849a" class="la">FUN_PRG14__849a:</a><span class="ce">; [$849a]</span></span>
<span class="l"><a class="anc" name="849a" href="#849a">[849a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="849d" href="#849d">[849d]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="849e" href="#849e">[849e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#Sprite_AddPosX">Sprite_AddPosX</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="Sprite_SubtractPosX"></a><div class="cp">;============================================================================
; TODO: Document Sprite_SubtractPosX
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprite_Maybe_AddFacingPosX">Sprite_Maybe_AddFacingPosX</a>
;============================================================================
</div><span class="l"><a class="anc" name="84a0" href="#84a0">[84a0]</a><a href="#Sprite_SubtractPosX" class="la">Sprite_SubtractPosX:</a><span class="ce">; [$84a0]</span></span>
<span class="l"><a class="anc" name="84a0" href="#84a0">[84a0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Frac">CurrentSprites_XPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="84a3" href="#84a3">[84a3]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="84a4" href="#84a4">[84a4]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="84a7" href="#84a7">[84a7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Frac">CurrentSprites_XPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="84aa" href="#84aa">[84aa]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="84ac" href="#84ac">[84ac]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="84af" href="#84af">[84af]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="84b1" href="#84b1">[84b1]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_AddPosX"></a><div class="cp">;============================================================================
; TODO: Document Sprite_AddPosX
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__849a">FUN_PRG14__849a</a>
;     <a href="#Sprite_Maybe_AddFacingPosX">Sprite_Maybe_AddFacingPosX</a>
;============================================================================
</div><span class="l"><a class="anc" name="84b2" href="#84b2">[84b2]</a><a href="#Sprite_AddPosX" class="la">Sprite_AddPosX:</a><span class="ce">; [$84b2]</span></span>
<span class="l"><a class="anc" name="84b2" href="#84b2">[84b2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Frac">CurrentSprites_XPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="84b5" href="#84b5">[84b5]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="84b6" href="#84b6">[84b6]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="84b9" href="#84b9">[84b9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Frac">CurrentSprites_XPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="84bc" href="#84bc">[84bc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="84be" href="#84be">[84be]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="84c1" href="#84c1">[84c1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="84c3" href="#84c3">[84c3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="MoveSpriteHorizIfPossible"></a><div class="cp">;============================================================================
; Move the sprite horizontally if possible.
;
; If the sprite cannot move, then this will do nothing.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
; OUTPUTS:
;     C:
;         1 if the sprite could move.
;         0 if the sprite could not move.
;
; XREFS:
;     <a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a>
;============================================================================
</div><span class="l"><a class="anc" name="84c4" href="#84c4">[84c4]</a><a href="#MoveSpriteHorizIfPossible" class="la">MoveSpriteHorizIfPossible:</a><span class="ce">; [$84c4]</span></span>
<span class="l"><a class="anc" name="84c4" href="#84c4">[84c4]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="84c5" href="#84c5">[84c5]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="84c6" href="#84c6">[84c6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite flags.</span></span>
<span class="l"><a class="anc" name="84c9" href="#84c9">[84c9]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="84cb" href="#84cb">[84cb]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="84cc" href="#84cc">[84cc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a></span></span><span class="ce">; Check if this sprite can move at all</span></span>
<span class="l"><a class="anc" name="84cf" href="#84cf">[84cf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Load the current block properties</span></span>
<span class="l"><a class="anc" name="84d1" href="#84d1">[84d1]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_cannotMove">@_cannotMove</a></span></span><span class="ce">; If 0, it cannot move</span></span>
<span class="l"><a class="anc" name="84d3" href="#84d3">[84d3]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Load the current sprite</span></span>
<span class="l"><a class="anc" name="84d6" href="#84d6">[84d6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="84d9" href="#84d9">[84d9]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="84db" href="#84db">[84db]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="84dc" href="#84dc">[84dc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span><span class="ce">; Load the X coordinate of the sprite</span></span>
<span class="l"><a class="anc" name="84de" href="#84de">[84de]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span><span class="ce">; Grab the X pos (top nibble)</span></span>
<span class="l"><a class="anc" name="84e0" href="#84e0">[84e0]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="84e2" href="#84e2">[84e2]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_updateHorizPos">@_updateHorizPos</a></span></span></span>
<span class="l"><a class="anc" name="84e4" href="#84e4">[84e4]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="84e5" href="#84e5">[84e5]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span><span class="ce">; Add 1 to the block X position</span></span>
<span class="l"></span>
<a name=":84e7:@_updateHorizPos"></a><span class="l"><a class="anc" name="84e7" href="#84e7">[84e7]</a><a href="#:84e7:@_updateHorizPos" class="lla">@_updateHorizPos:</a><span class="ce">; [$84e7]</span></span>
<span class="l"><a class="anc" name="84e7" href="#84e7">[84e7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span><span class="ce">; Store the block position for the sprite.</span></span>
<span class="l"><a class="anc" name="84e9" href="#84e9">[84e9]</a><span class="cd"><span class="i">PLA</span></span><span class="ce">; Restore the original Y register.</span></span>
<span class="l"><a class="anc" name="84ea" href="#84ea">[84ea]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="84eb" href="#84eb">[84eb]</a><span class="cd"><span class="i">SEC</span></span><span class="ce">; C = 1 (moved, true result)</span></span>
<span class="l"><a class="anc" name="84ec" href="#84ec">[84ec]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":84ed:@_cannotMove"></a><span class="l"><a class="anc" name="84ed" href="#84ed">[84ed]</a><a href="#:84ed:@_cannotMove" class="lla">@_cannotMove:</a><span class="ce">; [$84ed]</span></span>
<span class="l"><a class="anc" name="84ed" href="#84ed">[84ed]</a><span class="cd"><span class="i">PLA</span></span><span class="ce">; Restore the registers</span></span>
<span class="l"><a class="anc" name="84ee" href="#84ee">[84ee]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="84ef" href="#84ef">[84ef]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="84f2" href="#84f2">[84f2]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; C = 0 (could not move, false result)</span></span>
<span class="l"><a class="anc" name="84f3" href="#84f3">[84f3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__84f4"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="84f4" href="#84f4">[84f4]</a><a href="#FUN_PRG14__84f4" class="la">FUN_PRG14__84f4:</a><span class="ce">; [$84f4]</span></span>
<span class="l"><a class="anc" name="84f4" href="#84f4">[84f4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CanSpriteWalk">Sprites_CanSpriteWalk</a></span></span></span>
<span class="l"><a class="anc" name="84f7" href="#84f7">[84f7]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="84f8" href="#84f8">[84f8]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_RestoreXRegister">SpriteBehavior_RestoreXRegister</a></span></span></span>
<span class="l"><a class="anc" name="84fa" href="#84fa">[84fa]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="84fd" href="#84fd">[84fd]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CanClimb">Sprite_CanClimb</a></span></span></span>
<span class="l"><a class="anc" name="8500" href="#8500">[8500]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="8501" href="#8501">[8501]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteBehavior_Something_850d">SpriteBehavior_Something_850d</a></span></span></span>
<span class="l"><a class="anc" name="8503" href="#8503">[8503]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8506" href="#8506">[8506]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Ishiisu_Something_915b"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Ishiisu_Something_915b
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;============================================================================
</div><span class="l"><a class="anc" name="8507" href="#8507">[8507]</a><a href="#SpriteBehavior_Ishiisu_Something_915b" class="la">SpriteBehavior_Ishiisu_Something_915b:</a><span class="ce">; [$8507]</span></span>
<span class="l"><a class="anc" name="8507" href="#8507">[8507]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CanSpriteWalk">Sprites_CanSpriteWalk</a></span></span></span>
<span class="l"><a class="anc" name="850a" href="#850a">[850a]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="850b" href="#850b">[850b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_RestoreXRegister">SpriteBehavior_RestoreXRegister</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Something_850d"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;
; XREFS:
;     <a href="#FUN_PRG14__84f4">FUN_PRG14__84f4</a>
;============================================================================
</div><span class="l"><a class="anc" name="850d" href="#850d">[850d]</a><a href="#SpriteBehavior_Something_850d" class="la">SpriteBehavior_Something_850d:</a><span class="ce">; [$850d]</span></span>
<span class="l"><a class="anc" name="850d" href="#850d">[850d]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8510" href="#8510">[8510]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8513" href="#8513">[8513]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8514" href="#8514">[8514]</a><span class="cd"><span class="i">PHP</span></span></span>
<span class="l"><a class="anc" name="8515" href="#8515">[8515]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8517" href="#8517">[8517]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="8519" href="#8519">[8519]</a><span class="cd"><span class="i">PLP</span></span></span>
<span class="l"><a class="anc" name="851a" href="#851a">[851a]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__851e">@LAB_PRG14__851e</a></span></span></span>
<span class="l"><a class="anc" name="851c" href="#851c">[851c]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"></span>
<a name=":851e:@LAB_PRG14__851e"></a><span class="l"><a class="anc" name="851e" href="#851e">[851e]</a><a href="#:851e:@LAB_PRG14__851e" class="lla">@LAB_PRG14__851e:</a><span class="ce">; [$851e]</span></span>
<span class="l"><a class="anc" name="851e" href="#851e">[851e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8520" href="#8520">[8520]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#InterruptCounter">InterruptCounter</a></span></span></span>
<span class="l"><a class="anc" name="8522" href="#8522">[8522]</a><span class="cd"><span class="i">AND</span> <span class="o">#$3f</span></span><span class="ce">; On interrupts 64 and 128...</span></span>
<span class="l"><a class="anc" name="8524" href="#8524">[8524]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_RestoreXRegister">SpriteBehavior_RestoreXRegister</a></span></span></span>
<span class="l"><a class="anc" name="8526" href="#8526">[8526]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8529" href="#8529">[8529]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="852b" href="#852b">[852b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteBehavior_RestoreXRegister"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RestoreXRegister
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__84f4">FUN_PRG14__84f4</a>
;     <a href="#SpriteBehavior_Ishiisu_Something_915b">SpriteBehavior_Ishiisu_Something_915b</a>
;     <a href="#SpriteBehavior_Something_850d">SpriteBehavior_Something_850d</a>
;============================================================================
</div><span class="l"><a class="anc" name="852e" href="#852e">[852e]</a><a href="#SpriteBehavior_RestoreXRegister" class="la">SpriteBehavior_RestoreXRegister:</a><span class="ce">; [$852e]</span></span>
<span class="l"><a class="anc" name="852e" href="#852e">[852e]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8531" href="#8531">[8531]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SPRITE_WALK_PIXEL_MOVEMENT_TABLE"></a><div class="c">;
; XREFS:
;     <a href="#FUN_PRG14__854c">FUN_PRG14__854c</a>
;
</div><span class="l"><a class="anc" name="8532" href="#8532">[8532]</a><a href="#SPRITE_WALK_PIXEL_MOVEMENT_TABLE" class="la">SPRITE_WALK_PIXEL_MOVEMENT_TABLE:</a><span class="ce">; [$8532]</span></span>
<span class="l"><a class="anc" name="8532" href="#8532">[8532]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]: 0 pixel movement</span></span>
<span class="l"><a class="anc" name="8533" href="#8533">[8533]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [1]: 15 pixel movement</span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CanClimb"></a><div class="cp">;============================================================================
; TODO: Document Sprite_CanClimb
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__84f4">FUN_PRG14__84f4</a>
;============================================================================
</div><span class="l"><a class="anc" name="8534" href="#8534">[8534]</a><a href="#Sprite_CanClimb" class="la">Sprite_CanClimb:</a><span class="ce">; [$8534]</span></span>
<span class="l"><a class="anc" name="8534" href="#8534">[8534]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="8537" href="#8537">[8537]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8539" href="#8539">[8539]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="853a" href="#853a">[853a]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="853d" href="#853d">[853d]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="853e" href="#853e">[853e]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="8540" href="#8540">[8540]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__854c">FUN_PRG14__854c</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_CanSpriteWalk"></a><div class="cp">;============================================================================
; TODO: Document Sprites_CanSpriteWalk
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#FUN_PRG14__84f4">FUN_PRG14__84f4</a>
;     <a href="#SpriteBehavior_Ishiisu_Something_915b">SpriteBehavior_Ishiisu_Something_915b</a>
;     <a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a>
;============================================================================
</div><span class="l"><a class="anc" name="8543" href="#8543">[8543]</a><a href="#Sprites_CanSpriteWalk" class="la">Sprites_CanSpriteWalk:</a><span class="ce">; [$8543]</span></span>
<span class="l"><a class="anc" name="8543" href="#8543">[8543]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="8546" href="#8546">[8546]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8548" href="#8548">[8548]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8549" href="#8549">[8549]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>,Y</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="FUN_PRG14__854c"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__854c
;
; INPUTS:
;     A
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprite_CanClimb">Sprite_CanClimb</a>
;============================================================================
</div><span class="l"><a class="anc" name="854c" href="#854c">[854c]</a><a href="#FUN_PRG14__854c" class="la">FUN_PRG14__854c:</a><span class="ce">; [$854c]</span></span>
<span class="l"><a class="anc" name="854c" href="#854c">[854c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="854e" href="#854e">[854e]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="8550" href="#8550">[8550]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8553" href="#8553">[8553]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8555" href="#8555">[8555]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8556" href="#8556">[8556]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8558" href="#8558">[8558]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8559" href="#8559">[8559]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_WALK_PIXEL_MOVEMENT_TABLE">SPRITE_WALK_PIXEL_MOVEMENT_TABLE</a>,Y</span></span></span>
<span class="l"><a class="anc" name="855c" href="#855c">[855c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="855e" href="#855e">[855e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="8561" href="#8561">[8561]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="PRG15_MIRROR.html#Area_IsBlockImpassableOrLadder">Area_IsBlockImpassableOrLadder</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_MoveVertAndFlipIfNeeded"></a><div class="cp">;============================================================================
; TODO: Document Sprite_MoveVertAndFlipIfNeeded
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>
;     <a href="#SpriteBehavior_MoveVertically">SpriteBehavior_MoveVertically</a>
;============================================================================
</div><span class="l"><a class="anc" name="8564" href="#8564">[8564]</a><a href="#Sprite_MoveVertAndFlipIfNeeded" class="la">Sprite_MoveVertAndFlipIfNeeded:</a><span class="ce">; [$8564]</span></span>
<span class="l"><a class="anc" name="8564" href="#8564">[8564]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalculateNewVertPos">Sprite_CalculateNewVertPos</a></span></span></span>
<span class="l"><a class="anc" name="8567" href="#8567">[8567]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#MoveSpriteVerticalIfPossible">MoveSpriteVerticalIfPossible</a></span></span></span>
<span class="l"><a class="anc" name="856a" href="#856a">[856a]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="856c" href="#856c">[856c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="856f" href="#856f">[856f]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8571" href="#8571">[8571]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":8574:@_return"></a><span class="l"><a class="anc" name="8574" href="#8574">[8574]</a><a href="#:8574:@_return" class="lla">@_return:</a><span class="ce">; [$8574]</span></span>
<span class="l"><a class="anc" name="8574" href="#8574">[8574]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="MoveSpriteVerticalIfPossible"></a><div class="cp">;============================================================================
; TODO: Document MoveSpriteVerticalIfPossible
;
; INPUTS:
;     X
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#Sprite_MoveVertAndFlipIfNeeded">Sprite_MoveVertAndFlipIfNeeded</a>
;     <a href="#Sprite_MoveVertical">Sprite_MoveVertical</a>
;============================================================================
</div><span class="l"><a class="anc" name="8575" href="#8575">[8575]</a><a href="#MoveSpriteVerticalIfPossible" class="la">MoveSpriteVerticalIfPossible:</a><span class="ce">; [$8575]</span></span>
<span class="l"><a class="anc" name="8575" href="#8575">[8575]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8578" href="#8578">[8578]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8579" href="#8579">[8579]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="857a" href="#857a">[857a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="857c" href="#857c">[857c]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="857e" href="#857e">[857e]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="857f" href="#857f">[857f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a></span></span></span>
<span class="l"><a class="anc" name="8582" href="#8582">[8582]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8585" href="#8585">[8585]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="8587" href="#8587">[8587]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_returnFalse">@_returnFalse</a></span></span></span>
<span class="l"><a class="anc" name="8589" href="#8589">[8589]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="858c" href="#858c">[858c]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="858d" href="#858d">[858d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="858f" href="#858f">[858f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="8591" href="#8591">[8591]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_returnTrue">@_returnTrue</a></span></span></span>
<span class="l"><a class="anc" name="8593" href="#8593">[8593]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8594" href="#8594">[8594]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"></span>
<a name=":8596:@_returnTrue"></a><span class="l"><a class="anc" name="8596" href="#8596">[8596]</a><a href="#:8596:@_returnTrue" class="lla">@_returnTrue:</a><span class="ce">; [$8596]</span></span>
<span class="l"><a class="anc" name="8596" href="#8596">[8596]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8598" href="#8598">[8598]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8599" href="#8599">[8599]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":859a:@_returnFalse"></a><span class="l"><a class="anc" name="859a" href="#859a">[859a]</a><a href="#:859a:@_returnFalse" class="lla">@_returnFalse:</a><span class="ce">; [$859a]</span></span>
<span class="l"><a class="anc" name="859a" href="#859a">[859a]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="859b" href="#859b">[859b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_Maybe_TurnAroundIfAtScreenEdgeVert"></a><div class="cp">;============================================================================
; TODO: Document Sprite_Maybe_TurnAroundIfAtScreenEdgeVert
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;============================================================================
</div><span class="l"><a class="anc" name="859c" href="#859c">[859c]</a><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert" class="la">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert:</a><span class="ce">; [$859c]</span></span>
<span class="l"><a class="anc" name="859c" href="#859c">[859c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalculateNewVertPos">Sprite_CalculateNewVertPos</a></span></span></span>
<span class="l"><a class="anc" name="859f" href="#859f">[859f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CapToBlockOppositeFalling">Sprite_CapToBlockOppositeFalling</a></span></span></span>
<span class="l"><a class="anc" name="85a2" href="#85a2">[85a2]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="85a4" href="#85a4">[85a4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="85a7" href="#85a7">[85a7]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="85a9" href="#85a9">[85a9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":85ac:@_return"></a><span class="l"><a class="anc" name="85ac" href="#85ac">[85ac]</a><a href="#:85ac:@_return" class="lla">@_return:</a><span class="ce">; [$85ac]</span></span>
<span class="l"><a class="anc" name="85ac" href="#85ac">[85ac]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CapToBlockOppositeFalling"></a><div class="cp">;============================================================================
; Move a sprite up or down based on the opposite of the falling flag.
;
; If the sprite is falling, the sprite's Y position will be
; kept on the same block, moving up if needed to the start
; of the block.
;
; If the sprite is rising, the sprite's Y position is moved
; to the top of the next block down.
;
; This is used in behavior code.
;
; INPUTS:
;     X:
;         The sprite index.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The sprite flags.
;
;     <a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>:
;         The sprite Y positions.
;
; OUTPUTS:
;     C:
;         0 = Sitting at bottom of the screen.
;         1 = Capped to a block position.
;
;     <a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>:
;         The updated Y positions.
;
; XREFS:
;     <a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a>
;============================================================================
</div><span class="l"><a class="anc" name="85ad" href="#85ad">[85ad]</a><a href="#Sprite_CapToBlockOppositeFalling" class="la">Sprite_CapToBlockOppositeFalling:</a><span class="ce">; [$85ad]</span></span>
<div class="c">;
; Check if the Y position is at the bottom of the screen.
;
</div><span class="l"><a class="anc" name="85ad" href="#85ad">[85ad]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; Load the sprite's Y position.</span></span>
<span class="l"><a class="anc" name="85af" href="#85af">[85af]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$e0</span></span><span class="ce">; Is Y &lt; 224?</span></span>
<span class="l"><a class="anc" name="85b1" href="#85b1">[85b1]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If so, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; There's room to fall. Check if the sprite is falling.
;
</div><span class="l"><a class="anc" name="85b3" href="#85b3">[85b3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="85b6" href="#85b6">[85b6]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span><span class="ce">; Shift the Falling flag into C.</span></span>
<span class="l"><a class="anc" name="85b7" href="#85b7">[85b7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; A = Y position.</span></span>
<span class="l"><a class="anc" name="85b9" href="#85b9">[85b9]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span><span class="ce">; Round (floor) to a block position.</span></span>
<span class="l"><a class="anc" name="85bb" href="#85bb">[85bb]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_setY">@_setY</a></span></span><span class="ce">; If falling, jump to set the position as Y.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The sprite is not falling. It's moving up.
;
</div><span class="l"><a class="anc" name="85bd" href="#85bd">[85bd]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; Else, clear carry.</span></span>
<span class="l"><a class="anc" name="85be" href="#85be">[85be]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span><span class="ce">; A += 16 (Y position)</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":85c0:@_setY"></a><div class="c">;
; Set the resulting Y position for the sprite, and
; set C = 1 for the result.
;
</div><span class="l"><a class="anc" name="85c0" href="#85c0">[85c0]</a><a href="#:85c0:@_setY" class="lla">@_setY:</a><span class="ce">; [$85c0]</span></span>
<span class="l"><a class="anc" name="85c0" href="#85c0">[85c0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; Set as the new Y position.</span></span>
<span class="l"><a class="anc" name="85c2" href="#85c2">[85c2]</a><span class="cd"><span class="i">SEC</span></span><span class="ce">; Set C = 1.</span></span>
<span class="l"></span>
<a name=":85c3:@_return"></a><span class="l"><a class="anc" name="85c3" href="#85c3">[85c3]</a><a href="#:85c3:@_return" class="lla">@_return:</a><span class="ce">; [$85c3]</span></span>
<span class="l"><a class="anc" name="85c3" href="#85c3">[85c3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_MoveVertical"></a><div class="cp">;============================================================================
; TODO: Document Sprite_MoveVertical
;
; INPUTS:
;     X
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_Garbled3">SpriteBehavior_Garbled3</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;     <a href="#SpriteBehavior_KingGrieve_MoveDown">SpriteBehavior_KingGrieve_MoveDown</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_Unknown_29">SpriteBehavior_Unknown_29</a>
;============================================================================
</div><span class="l"><a class="anc" name="85c4" href="#85c4">[85c4]</a><a href="#Sprite_MoveVertical" class="la">Sprite_MoveVertical:</a><span class="ce">; [$85c4]</span></span>
<span class="l"><a class="anc" name="85c4" href="#85c4">[85c4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalculateNewVertPos">Sprite_CalculateNewVertPos</a></span></span></span>
<span class="l"><a class="anc" name="85c7" href="#85c7">[85c7]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#MoveSpriteVerticalIfPossible">MoveSpriteVerticalIfPossible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CalculateNewVertPos"></a><div class="cp">;============================================================================
; TODO: Document Sprite_CalculateNewVertPos
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;     <a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a>
;     <a href="#Sprite_MoveVertAndFlipIfNeeded">Sprite_MoveVertAndFlipIfNeeded</a>
;     <a href="#Sprite_MoveVertical">Sprite_MoveVertical</a>
;============================================================================
</div><span class="l"><a class="anc" name="85ca" href="#85ca">[85ca]</a><a href="#Sprite_CalculateNewVertPos" class="la">Sprite_CalculateNewVertPos:</a><span class="ce">; [$85ca]</span></span>
<span class="l"><a class="anc" name="85ca" href="#85ca">[85ca]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="85cd" href="#85cd">[85cd]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__85e1">@LAB_PRG14__85e1</a></span></span></span>
<span class="l"><a class="anc" name="85cf" href="#85cf">[85cf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos_Frac">CurrentSprites_YPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="85d2" href="#85d2">[85d2]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="85d3" href="#85d3">[85d3]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="85d6" href="#85d6">[85d6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos_Frac">CurrentSprites_YPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="85d9" href="#85d9">[85d9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="85db" href="#85db">[85db]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="85de" href="#85de">[85de]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="85e0" href="#85e0">[85e0]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":85e1:@LAB_PRG14__85e1"></a><span class="l"><a class="anc" name="85e1" href="#85e1">[85e1]</a><a href="#:85e1:@LAB_PRG14__85e1" class="lla">@LAB_PRG14__85e1:</a><span class="ce">; [$85e1]</span></span>
<span class="l"><a class="anc" name="85e1" href="#85e1">[85e1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos_Frac">CurrentSprites_YPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="85e4" href="#85e4">[85e4]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="85e5" href="#85e5">[85e5]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="85e8" href="#85e8">[85e8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos_Frac">CurrentSprites_YPos_Frac</a>,X</span></span></span>
<span class="l"><a class="anc" name="85eb" href="#85eb">[85eb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="85ed" href="#85ed">[85ed]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="85f0" href="#85f0">[85f0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="85f2" href="#85f2">[85f2]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"><a class="anc" name="85f3" href="#85f3">[85f3]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="85f6" href="#85f6">[85f6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="85f9" href="#85f9">[85f9]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="85fb" href="#85fb">[85fb]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="85fc" href="#85fc">[85fc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="85fe" href="#85fe">[85fe]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="85ff" href="#85ff">[85ff]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__861d">BYTE_ARRAY_PRG14__861d</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8602" href="#8602">[8602]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="8604" href="#8604">[8604]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="8607" href="#8607">[8607]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8609" href="#8609">[8609]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="860a" href="#860a">[860a]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="860d" href="#860d">[860d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="860f" href="#860f">[860f]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="8611" href="#8611">[8611]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="8614" href="#8614">[8614]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="8617" href="#8617">[8617]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="8619" href="#8619">[8619]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="861c" href="#861c">[861c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__861d"></a><span class="l"><a class="anc" name="861d" href="#861d">[861d]</a><a href="#BYTE_ARRAY_PRG14__861d" class="la">BYTE_ARRAY_PRG14__861d:</a><span class="ce">; [$861d]</span></span>
<span class="l"><a class="anc" name="861d" href="#861d">[861d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="861e" href="#861e">[861e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_SetCurrentSpriteCanMove"></a><div class="cp">;============================================================================
; TODO: Document Sprites_SetCurrentSpriteCanMove
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused39">SpriteBehavior_EnemyUnused39</a>
;     <a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a>
;     <a href="#Sprite_FallIfNeeded">Sprite_FallIfNeeded</a>
;============================================================================
</div><span class="l"><a class="anc" name="861f" href="#861f">[861f]</a><a href="#Sprites_SetCurrentSpriteCanMove" class="la">Sprites_SetCurrentSpriteCanMove:</a><span class="ce">; [$861f]</span></span>
<span class="l"><a class="anc" name="861f" href="#861f">[861f]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Currently active sprite.</span></span>
<span class="l"><a class="anc" name="8622" href="#8622">[8622]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; A = Current sprite's flags.</span></span>
<span class="l"><a class="anc" name="8625" href="#8625">[8625]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8627" href="#8627">[8627]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__863d">@LAB_PRG14__863d</a></span></span></span>
<span class="l"><a class="anc" name="8629" href="#8629">[8629]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CanSpriteWalk">Sprites_CanSpriteWalk</a></span></span></span>
<span class="l"><a class="anc" name="862c" href="#862c">[862c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="862e" href="#862e">[862e]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__863d">@LAB_PRG14__863d</a></span></span></span>
<span class="l"><a class="anc" name="8630" href="#8630">[8630]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8633" href="#8633">[8633]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8636" href="#8636">[8636]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8638" href="#8638">[8638]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="863b" href="#863b">[863b]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="863c" href="#863c">[863c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":863d:@LAB_PRG14__863d"></a><span class="l"><a class="anc" name="863d" href="#863d">[863d]</a><a href="#:863d:@LAB_PRG14__863d" class="lla">@LAB_PRG14__863d:</a><span class="ce">; [$863d]</span></span>
<span class="l"><a class="anc" name="863d" href="#863d">[863d]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8640" href="#8640">[8640]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8643" href="#8643">[8643]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fb</span></span></span>
<span class="l"><a class="anc" name="8645" href="#8645">[8645]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8648" href="#8648">[8648]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8649" href="#8649">[8649]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CurrentSprite_HandleFall"></a><div class="cp">;============================================================================
; Handle the current sprite falling.
;
; If the sprite can move move it down a block. It will
; always be anchored to the top of the block.
;
; If it falls off the screen, it will be unset.
;
; INPUTS:
;     <a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a>:
;         The current sprite index.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The sprite flags.
;
;     <a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>:
;         The sprite Y positions.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>:
;         The sprite Y positions.
;
;     <a href="RAM.html#Blocks_Result">Blocks_Result</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a>
;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused39">SpriteBehavior_EnemyUnused39</a>
;     <a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a>
;     <a href="#Sprite_FallIfNeeded">Sprite_FallIfNeeded</a>
;============================================================================
</div><span class="l"><a class="anc" name="864a" href="#864a">[864a]</a><a href="#CurrentSprite_HandleFall" class="la">CurrentSprite_HandleFall:</a><span class="ce">; [$864a]</span></span>
<span class="l"><a class="anc" name="864a" href="#864a">[864a]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Currently active sprite.</span></span>
<span class="l"><a class="anc" name="864d" href="#864d">[864d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; A = Current sprite's flags.</span></span>
<span class="l"><a class="anc" name="8650" href="#8650">[8650]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span><span class="ce">; Can the sprite move?</span></span>
<span class="l"><a class="anc" name="8652" href="#8652">[8652]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_done">@_done</a></span></span><span class="ce">; If not, prepare to return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This sprite can move.
;
</div><span class="l"><a class="anc" name="8654" href="#8654">[8654]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; A = Sprite's Y position.</span></span>
<span class="l"><a class="anc" name="8656" href="#8656">[8656]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8657" href="#8657">[8657]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$08</span></span><span class="ce">; A += 8</span></span>
<span class="l"><a class="anc" name="8659" href="#8659">[8659]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; Store as the new position.</span></span>
<span class="l"><a class="anc" name="865b" href="#865b">[865b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$c0</span></span><span class="ce">; Is this at the bottom of the screen?</span></span>
<span class="l"><a class="anc" name="865d" href="#865d">[865d]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_clearSprite">@_clearSprite</a></span></span><span class="ce">; If so, jump to clear the sprite.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Make the sprite fall, if it can.
;
</div><span class="l"><a class="anc" name="865f" href="#865f">[865f]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$03</span></span><span class="ce">; X = 3 (down direction)</span></span>
<span class="l"><a class="anc" name="8661" href="#8661">[8661]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a></span></span><span class="ce">; Can the sprite move down?</span></span>
<span class="l"><a class="anc" name="8664" href="#8664">[8664]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; A = result of that check.</span></span>
<span class="l"><a class="anc" name="8666" href="#8666">[8666]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_done">@_done</a></span></span><span class="ce">; If not, prepare to return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Move the sprite down.
;
</div><span class="l"><a class="anc" name="8668" href="#8668">[8668]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Currently active sprite.</span></span>
<span class="l"><a class="anc" name="866b" href="#866b">[866b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; A = Sprite's Y position.</span></span>
<span class="l"><a class="anc" name="866d" href="#866d">[866d]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span><span class="ce">; Round to a block position (after the above += 8).</span></span>
<span class="l"><a class="anc" name="866f" href="#866f">[866f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; Store as the new position.</span></span>
<span class="l"></span>
<a name=":8671:@_done"></a><span class="l"><a class="anc" name="8671" href="#8671">[8671]</a><a href="#:8671:@_done" class="lla">@_done:</a><span class="ce">; [$8671]</span></span>
<span class="l"><a class="anc" name="8671" href="#8671">[8671]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Restore the current sprite index.</span></span>
<span class="l"><a class="anc" name="8674" href="#8674">[8674]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8675:@_clearSprite"></a><span class="l"><a class="anc" name="8675" href="#8675">[8675]</a><a href="#:8675:@_clearSprite" class="lla">@_clearSprite:</a><span class="ce">; [$8675]</span></span>
<span class="l"><a class="anc" name="8675" href="#8675">[8675]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8677" href="#8677">[8677]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="867a" href="#867a">[867a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_FacePlayerX"></a><div class="cp">;============================================================================
; TODO: Document BScript_Action_FacePlayerX
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a794]
;     <a href="#LAB_PRG14__974e">LAB_PRG14__974e</a> [$PRG14::974e]
;     <a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;     <a href="#SpriteBehavior_KingGrieve_9f86">SpriteBehavior_KingGrieve_9f86</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_Magman">SpriteBehavior_Magman</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;     <a href="#SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos">SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos</a>
;     <a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>
;     <a href="#SpriteBehavior_Unknown_29_SomeSetup">SpriteBehavior_Unknown_29_SomeSetup</a>
;============================================================================
</div><span class="l"><a class="anc" name="867b" href="#867b">[867b]</a><a href="#BScript_Action_FacePlayerX" class="la">BScript_Action_FacePlayerX:</a><span class="ce">; [$867b]</span></span>
<span class="l"><a class="anc" name="867b" href="#867b">[867b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span><span class="ce">; Load the player's X position.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the player and sprite are in the same X position.
;
</div><span class="l"><a class="anc" name="867d" href="#867d">[867d]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span><span class="ce">; Compare to the sprite's X position.</span></span>
<span class="l"><a class="anc" name="867f" href="#867f">[867f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If it's the same, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Rotate the X position left one and take the right-most bit.
;
; This will effectively generate a flipping bit facing the
; left or right side of the screen, based on player position.
;
</div><span class="l"><a class="anc" name="8681" href="#8681">[8681]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span><span class="ce">; Rotate the X position left.</span></span>
<span class="l"><a class="anc" name="8682" href="#8682">[8682]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span><span class="ce">; And take the right-most bit for the facing bit.</span></span>
<span class="l"><a class="anc" name="8684" href="#8684">[8684]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the facing bit for the sprite.
;
</div><span class="l"><a class="anc" name="8686" href="#8686">[8686]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="8689" href="#8689">[8689]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span><span class="ce">; Clear the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="868b" href="#868b">[868b]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Set Facing Right depending on our rotate above.</span></span>
<span class="l"><a class="anc" name="868d" href="#868d">[868d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Save it back out.</span></span>
<span class="l"></span>
<a name=":8690:@_return"></a><span class="l"><a class="anc" name="8690" href="#8690">[8690]</a><a href="#:8690:@_return" class="lla">@_return:</a><span class="ce">; [$8690]</span></span>
<span class="l"><a class="anc" name="8690" href="#8690">[8690]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_FacePlayerY"></a><div class="cp">;============================================================================
; TODO: Document BScript_Action_FacePlayerY
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a798]
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Unknown_29_SomeSetup">SpriteBehavior_Unknown_29_SomeSetup</a>
;============================================================================
</div><span class="l"><a class="anc" name="8691" href="#8691">[8691]</a><a href="#BScript_Action_FacePlayerY" class="la">BScript_Action_FacePlayerY:</a><span class="ce">; [$8691]</span></span>
<span class="l"><a class="anc" name="8691" href="#8691">[8691]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the player and sprite are in the same Y position.
;
</div><span class="l"><a class="anc" name="8693" href="#8693">[8693]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8695" href="#8695">[8695]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Rotate the Y position right one and take the left-most bit.
;
; This will effectively generate a flipping bit moving the Y
; direction up or down, based on player position.
;
</div><span class="l"><a class="anc" name="8697" href="#8697">[8697]</a><span class="cd"><span class="i">ROR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8698" href="#8698">[8698]</a><span class="cd"><span class="i">AND</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="869a" href="#869a">[869a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the Y directinoal bit for the sprite.
;
</div><span class="l"><a class="anc" name="869c" href="#869c">[869c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="869f" href="#869f">[869f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span><span class="ce">; Clear the Falling bit.</span></span>
<span class="l"><a class="anc" name="86a1" href="#86a1">[86a1]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Set the Falling bit based on the rotate above.</span></span>
<span class="l"><a class="anc" name="86a3" href="#86a3">[86a3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Save it back out.</span></span>
<span class="l"></span>
<a name=":86a6:@_return"></a><span class="l"><a class="anc" name="86a6" href="#86a6">[86a6]</a><a href="#:86a6:@_return" class="lla">@_return:</a><span class="ce">; [$86a6]</span></span>
<span class="l"><a class="anc" name="86a6" href="#86a6">[86a6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_MoveRight"></a><div class="cp">;============================================================================
; TODO: Document Sprites_MoveRight
;
; INPUTS:
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a>
;============================================================================
</div><span class="l"><a class="anc" name="86a7" href="#86a7">[86a7]</a><a href="#Sprites_MoveRight" class="la">Sprites_MoveRight:</a><span class="ce">; [$86a7]</span></span>
<span class="l"><a class="anc" name="86a7" href="#86a7">[86a7]</a><span class="cd"><span class="i">LDX</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86aa" href="#86aa">[86aa]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86ad" href="#86ad">[86ad]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="86ae" href="#86ae">[86ae]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_HITBOX_WIDTHS">SPRITE_HITBOX_WIDTHS</a>,X</span></span></span>
<span class="l"><a class="anc" name="86b1" href="#86b1">[86b1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="86b3" href="#86b3">[86b3]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#Sprites_MoveRight__86c6">Sprites_MoveRight__86c6</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div></pre><pre><a name="Sprites_SetBlockIsMovingResult"></a><div class="cp">;============================================================================
; TODO: Document Sprites_SetBlockIsMovingResult
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__86bd">FUN_PRG14__86bd</a>
;============================================================================
</div><span class="l"><a class="anc" name="86b5" href="#86b5">[86b5]</a><a href="#Sprites_SetBlockIsMovingResult" class="la">Sprites_SetBlockIsMovingResult:</a><span class="ce">; [$86b5]</span></span>
<div class="c">;
; Set the block as moving.
;
</div><span class="l"><a class="anc" name="86b5" href="#86b5">[86b5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="86b7" href="#86b7">[86b7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="86b9" href="#86b9">[86b9]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="86bc" href="#86bc">[86bc]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__86bd"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__86bd
;
; INPUTS:
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a>
;============================================================================
</div><span class="l"><a class="anc" name="86bd" href="#86bd">[86bd]</a><a href="#FUN_PRG14__86bd" class="la">FUN_PRG14__86bd:</a><span class="ce">; [$86bd]</span></span>
<span class="l"><a class="anc" name="86bd" href="#86bd">[86bd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86c0" href="#86c0">[86c0]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f1</span></span></span>
<span class="l"><a class="anc" name="86c2" href="#86c2">[86c2]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#Sprites_SetBlockIsMovingResult">Sprites_SetBlockIsMovingResult</a></span></span></span>
<span class="l"><a class="anc" name="86c4" href="#86c4">[86c4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="Sprites_MoveRight__86c6"></a><div class="cp">;============================================================================
; TODO: Document Sprites_MoveRight__86c6
;
; INPUTS:
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprites_MoveRight">Sprites_MoveRight</a>
;============================================================================
</div><span class="l"><a class="anc" name="86c6" href="#86c6">[86c6]</a><a href="#Sprites_MoveRight__86c6" class="la">Sprites_MoveRight__86c6:</a><span class="ce">; [$86c6]</span></span>
<span class="l"><a class="anc" name="86c6" href="#86c6">[86c6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86c9" href="#86c9">[86c9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="86cb" href="#86cb">[86cb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="86ce" href="#86ce">[86ce]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="86d1" href="#86d1">[86d1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="86d3" href="#86d3">[86d3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__870c">@LAB_PRG14__870c</a></span></span></span>
<span class="l"><a class="anc" name="86d5" href="#86d5">[86d5]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="86d8" href="#86d8">[86d8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86db" href="#86db">[86db]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="86dc" href="#86dc">[86dc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86df" href="#86df">[86df]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_HitBoxValue">Temp_HitBoxValue</a></span></span></span>
<span class="l"></span>
<a name=":86e1:@LAB_PRG14__86e1"></a><span class="l"><a class="anc" name="86e1" href="#86e1">[86e1]</a><a href="#:86e1:@LAB_PRG14__86e1" class="lla">@LAB_PRG14__86e1:</a><span class="ce">; [$86e1]</span></span>
<span class="l"><a class="anc" name="86e1" href="#86e1">[86e1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_HitBoxValue">Temp_HitBoxValue</a></span></span></span>
<span class="l"><a class="anc" name="86e3" href="#86e3">[86e3]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="86e4" href="#86e4">[86e4]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="86e6" href="#86e6">[86e6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_HitBoxValue">Temp_HitBoxValue</a></span></span></span>
<span class="l"><a class="anc" name="86e8" href="#86e8">[86e8]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__86f8">@LAB_PRG14__86f8</a></span></span></span>
<span class="l"><a class="anc" name="86ea" href="#86ea">[86ea]</a><span class="cd"><span class="i">TXA</span></span></span>
<span class="l"><a class="anc" name="86eb" href="#86eb">[86eb]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="86ec" href="#86ec">[86ec]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="86ee" href="#86ee">[86ee]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="86ef" href="#86ef">[86ef]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="86f2" href="#86f2">[86f2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="86f4" href="#86f4">[86f4]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__870c">@LAB_PRG14__870c</a></span></span></span>
<span class="l"><a class="anc" name="86f6" href="#86f6">[86f6]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__86e1">@LAB_PRG14__86e1</a></span></span></span>
<span class="l"></span>
<a name=":86f8:@LAB_PRG14__86f8"></a><span class="l"><a class="anc" name="86f8" href="#86f8">[86f8]</a><a href="#:86f8:@LAB_PRG14__86f8" class="lla">@LAB_PRG14__86f8:</a><span class="ce">; [$86f8]</span></span>
<span class="l"><a class="anc" name="86f8" href="#86f8">[86f8]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="86fb" href="#86fb">[86fb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="86fe" href="#86fe">[86fe]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="8700" href="#8700">[8700]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__870c">@LAB_PRG14__870c</a></span></span></span>
<span class="l"><a class="anc" name="8702" href="#8702">[8702]</a><span class="cd"><span class="i">TXA</span></span></span>
<span class="l"><a class="anc" name="8703" href="#8703">[8703]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8704" href="#8704">[8704]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="8706" href="#8706">[8706]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="8707" href="#8707">[8707]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="870a" href="#870a">[870a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"></span>
<a name=":870c:@LAB_PRG14__870c"></a><span class="l"><a class="anc" name="870c" href="#870c">[870c]</a><a href="#:870c:@LAB_PRG14__870c" class="lla">@LAB_PRG14__870c:</a><span class="ce">; [$870c]</span></span>
<span class="l"><a class="anc" name="870c" href="#870c">[870c]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="870f" href="#870f">[870f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="CurrentSprite_CanMoveInDirection"></a><div class="cp">;============================================================================
; TODO: Document CurrentSprite_CanMoveInDirection
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a>
;     <a href="#MoveSpriteHorizIfPossible">MoveSpriteHorizIfPossible</a>
;     <a href="#MoveSpriteVerticalIfPossible">MoveSpriteVerticalIfPossible</a>
;============================================================================
</div><span class="l"><a class="anc" name="8710" href="#8710">[8710]</a><a href="#CurrentSprite_CanMoveInDirection" class="la">CurrentSprite_CanMoveInDirection:</a><span class="ce">; [$8710]</span></span>
<span class="l"><a class="anc" name="8710" href="#8710">[8710]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8713" href="#8713">[8713]</a><span class="cd"><span class="i">TXA</span></span></span>
<span class="l"><a class="anc" name="8714" href="#8714">[8714]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#FUN_PRG14__86bd">FUN_PRG14__86bd</a></span></span></span>
<span class="l"><a class="anc" name="8716" href="#8716">[8716]</a><span class="cd"><span class="i">DEX</span></span></span>
<span class="l"><a class="anc" name="8717" href="#8717">[8717]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_MoveRight">Sprites_MoveRight</a></span></span></span>
<span class="l"><a class="anc" name="8719" href="#8719">[8719]</a><span class="cd"><span class="i">DEX</span></span></span>
<span class="l"><a class="anc" name="871a" href="#871a">[871a]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8731">@LAB_PRG14__8731</a></span></span></span>
<span class="l"><a class="anc" name="871c" href="#871c">[871c]</a><span class="cd"><span class="i">LDX</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,Y</span></span></span>
<span class="l"><a class="anc" name="871f" href="#871f">[871f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8722" href="#8722">[8722]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8723" href="#8723">[8723]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>,X</span></span></span>
<span class="l"><a class="anc" name="8726" href="#8726">[8726]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="8728" href="#8728">[8728]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="872a" href="#872a">[872a]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__873a">@LAB_PRG14__873a</a></span></span></span>
<span class="l"></span>
<a name=":872c:@LAB_PRG14__872c"></a><span class="l"><a class="anc" name="872c" href="#872c">[872c]</a><a href="#:872c:@LAB_PRG14__872c" class="lla">@LAB_PRG14__872c:</a><span class="ce">; [$872c]</span></span>
<span class="l"><a class="anc" name="872c" href="#872c">[872c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="872e" href="#872e">[872e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="8730" href="#8730">[8730]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8731:@LAB_PRG14__8731"></a><span class="l"><a class="anc" name="8731" href="#8731">[8731]</a><a href="#:8731:@LAB_PRG14__8731" class="lla">@LAB_PRG14__8731:</a><span class="ce">; [$8731]</span></span>
<span class="l"><a class="anc" name="8731" href="#8731">[8731]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8734" href="#8734">[8734]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="8736" href="#8736">[8736]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__872c">@LAB_PRG14__872c</a></span></span></span>
<span class="l"><a class="anc" name="8738" href="#8738">[8738]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"></span>
<a name=":873a:@LAB_PRG14__873a"></a><span class="l"><a class="anc" name="873a" href="#873a">[873a]</a><a href="#:873a:@LAB_PRG14__873a" class="lla">@LAB_PRG14__873a:</a><span class="ce">; [$873a]</span></span>
<span class="l"><a class="anc" name="873a" href="#873a">[873a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="873d" href="#873d">[873d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="873f" href="#873f">[873f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="8742" href="#8742">[8742]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="8745" href="#8745">[8745]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="8747" href="#8747">[8747]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8778">@LAB_PRG14__8778</a></span></span></span>
<span class="l"><a class="anc" name="8749" href="#8749">[8749]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="874c" href="#874c">[874c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,Y</span></span></span>
<span class="l"><a class="anc" name="874f" href="#874f">[874f]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8750" href="#8750">[8750]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_HITBOX_WIDTHS">SPRITE_HITBOX_WIDTHS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8753" href="#8753">[8753]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_HitBoxValue">Temp_HitBoxValue</a></span></span></span>
<span class="l"></span>
<a name=":8755:@LAB_PRG14__8755"></a><span class="l"><a class="anc" name="8755" href="#8755">[8755]</a><a href="#:8755:@LAB_PRG14__8755" class="lla">@LAB_PRG14__8755:</a><span class="ce">; [$8755]</span></span>
<span class="l"><a class="anc" name="8755" href="#8755">[8755]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_HitBoxValue">Temp_HitBoxValue</a></span></span></span>
<span class="l"><a class="anc" name="8757" href="#8757">[8757]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8758" href="#8758">[8758]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="875a" href="#875a">[875a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_HitBoxValue">Temp_HitBoxValue</a></span></span></span>
<span class="l"><a class="anc" name="875c" href="#875c">[875c]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__8768">@LAB_PRG14__8768</a></span></span></span>
<span class="l"><a class="anc" name="875e" href="#875e">[875e]</a><span class="cd"><span class="i">INX</span></span></span>
<span class="l"><a class="anc" name="875f" href="#875f">[875f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="8762" href="#8762">[8762]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"><a class="anc" name="8764" href="#8764">[8764]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8778">@LAB_PRG14__8778</a></span></span></span>
<span class="l"><a class="anc" name="8766" href="#8766">[8766]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8755">@LAB_PRG14__8755</a></span></span></span>
<span class="l"></span>
<a name=":8768:@LAB_PRG14__8768"></a><span class="l"><a class="anc" name="8768" href="#8768">[8768]</a><a href="#:8768:@LAB_PRG14__8768" class="lla">@LAB_PRG14__8768:</a><span class="ce">; [$8768]</span></span>
<span class="l"><a class="anc" name="8768" href="#8768">[8768]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="876b" href="#876b">[876b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="876e" href="#876e">[876e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="8770" href="#8770">[8770]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8778">@LAB_PRG14__8778</a></span></span></span>
<span class="l"><a class="anc" name="8772" href="#8772">[8772]</a><span class="cd"><span class="i">INX</span></span></span>
<span class="l"><a class="anc" name="8773" href="#8773">[8773]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span></span>
<span class="l"><a class="anc" name="8776" href="#8776">[8776]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span></span>
<span class="l"></span>
<a name=":8778:@LAB_PRG14__8778"></a><span class="l"><a class="anc" name="8778" href="#8778">[8778]</a><a href="#:8778:@LAB_PRG14__8778" class="lla">@LAB_PRG14__8778:</a><span class="ce">; [$8778]</span></span>
<span class="l"><a class="anc" name="8778" href="#8778">[8778]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="877b" href="#877b">[877b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Player_CheckShieldHitByMagic"></a><div class="cp">;============================================================================
; TODO: Document Player_CheckShieldHitByMagic
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="877c" href="#877c">[877c]</a><a href="#Player_CheckShieldHitByMagic" class="la">Player_CheckShieldHitByMagic:</a><span class="ce">; [$877c]</span></span>
<span class="l"><a class="anc" name="877c" href="#877c">[877c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedShield">SelectedShield</a></span></span></span>
<span class="l"><a class="anc" name="877f" href="#877f">[877f]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8781" href="#8781">[8781]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="8783" href="#8783">[8783]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Maybe_Player_CalcAnimFrame">Maybe_Player_CalcAnimFrame</a></span></span></span>
<span class="l"><a class="anc" name="8786" href="#8786">[8786]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8787" href="#8787">[8787]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8789" href="#8789">[8789]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="878b" href="#878b">[878b]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="878d" href="#878d">[878d]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8790" href="#8790">[8790]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8793" href="#8793">[8793]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8795" href="#8795">[8795]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="8797" href="#8797">[8797]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="879a" href="#879a">[879a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$06</span></span></span>
<span class="l"><a class="anc" name="879c" href="#879c">[879c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="879e" href="#879e">[879e]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Width">SpriteBox_Width</a></span></span></span>
<span class="l"><a class="anc" name="87a1" href="#87a1">[87a1]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="87a2" href="#87a2">[87a2]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="87a4" href="#87a4">[87a4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="87a6" href="#87a6">[87a6]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_ShieldPositionX">Player_ShieldPositionX</a></span></span></span>
<span class="l"><a class="anc" name="87a9" href="#87a9">[87a9]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="87aa" href="#87aa">[87aa]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="87ac" href="#87ac">[87ac]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="87ad" href="#87ad">[87ad]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#SpriteBox_Left">SpriteBox_Left</a></span></span></span>
<span class="l"><a class="anc" name="87b0" href="#87b0">[87b0]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="87b2" href="#87b2">[87b2]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="87b4" href="#87b4">[87b4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Height">SpriteBox_Height</a></span></span></span>
<span class="l"><a class="anc" name="87b7" href="#87b7">[87b7]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="87b8" href="#87b8">[87b8]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="87ba" href="#87ba">[87ba]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="87bc" href="#87bc">[87bc]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_ShieldPositionY">Player_ShieldPositionY</a></span></span></span>
<span class="l"><a class="anc" name="87bf" href="#87bf">[87bf]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="87c0" href="#87c0">[87c0]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="87c2" href="#87c2">[87c2]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="87c3" href="#87c3">[87c3]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#SpriteBox_Top">SpriteBox_Top</a></span></span></span>
<span class="l"><a class="anc" name="87c6" href="#87c6">[87c6]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="87c8" href="#87c8">[87c8]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#Player_HandleShieldHitByMagic">Player_HandleShieldHitByMagic</a></span></span></span>
<span class="l"></span>
<a name="RETURN_87CA"></a><div class="c">;
; XREFS:
;     <a href="#Player_CheckShieldHitByMagic">Player_CheckShieldHitByMagic</a>
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;
</div><span class="l"><a class="anc" name="87ca" href="#87ca">[87ca]</a><a href="#RETURN_87CA" class="la">RETURN_87CA:</a><span class="ce">; [$87ca]</span></span>
<span class="l"><a class="anc" name="87ca" href="#87ca">[87ca]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleShieldHitByMagic"></a><div class="cp">;============================================================================
; TODO: Document Player_HandleShieldHitByMagic
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Player_CheckShieldHitByMagic">Player_CheckShieldHitByMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="87cb" href="#87cb">[87cb]</a><a href="#Player_HandleShieldHitByMagic" class="la">Player_HandleShieldHitByMagic:</a><span class="ce">; [$87cb]</span></span>
<span class="l"><a class="anc" name="87cb" href="#87cb">[87cb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_HandleHitByMagic">Player_HandleHitByMagic</a></span></span></span>
<span class="l"><a class="anc" name="87ce" href="#87ce">[87ce]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="87d1" href="#87d1">[87d1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="87d3" href="#87d3">[87d3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="87d6" href="#87d6">[87d6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0c</span></span></span>
<span class="l"><a class="anc" name="87d8" href="#87d8">[87d8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"><a class="anc" name="87db" href="#87db">[87db]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleHitByMagic"></a><div class="cp">;============================================================================
; TODO: Document Player_HandleHitByMagic
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Player_HandleShieldHitByMagic">Player_HandleShieldHitByMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="87dc" href="#87dc">[87dc]</a><a href="#Player_HandleHitByMagic" class="la">Player_HandleHitByMagic:</a><span class="ce">; [$87dc]</span></span>
<span class="l"><a class="anc" name="87dc" href="#87dc">[87dc]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="87df" href="#87df">[87df]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="87e2" href="#87e2">[87e2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITY_DAMAGES">SPRITE_ENTITY_DAMAGES</a>,Y</span></span></span>
<span class="l"><a class="anc" name="87e5" href="#87e5">[87e5]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#SelectedShield">SelectedShield</a></span></span></span>
<span class="l"></span>
<a name=":87e8:@LAB_PRG14__87e8"></a><span class="l"><a class="anc" name="87e8" href="#87e8">[87e8]</a><a href="#:87e8:@LAB_PRG14__87e8" class="lla">@LAB_PRG14__87e8:</a><span class="ce">; [$87e8]</span></span>
<span class="l"><a class="anc" name="87e8" href="#87e8">[87e8]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="87e9" href="#87e9">[87e9]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="87ea" href="#87ea">[87ea]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__87e8">@LAB_PRG14__87e8</a></span></span></span>
<span class="l"><a class="anc" name="87ec" href="#87ec">[87ec]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="87ef" href="#87ef">[87ef]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="87f1" href="#87f1">[87f1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="87f4" href="#87f4">[87f4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="87f7" href="#87f7">[87f7]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__87fa">@LAB_PRG14__87fa</a></span></span></span>
<span class="l"><a class="anc" name="87f9" href="#87f9">[87f9]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":87fa:@LAB_PRG14__87fa"></a><span class="l"><a class="anc" name="87fa" href="#87fa">[87fa]</a><a href="#:87fa:@LAB_PRG14__87fa" class="lla">@LAB_PRG14__87fa:</a><span class="ce">; [$87fa]</span></span>
<span class="l"><a class="anc" name="87fa" href="#87fa">[87fa]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_SetDamagedBySprite">Player_SetDamagedBySprite</a></span></span></span>
<span class="l"><a class="anc" name="87fd" href="#87fd">[87fd]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="PRG15_MIRROR.html#Player_ReduceHP">Player_ReduceHP</a></span></span></span>
<span class="l"><a class="anc" name="8800" href="#8800">[8800]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,X</span></span></span>
<span class="l"><a class="anc" name="8803" href="#8803">[8803]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Player_HitSpriteWithWeapon"></a><div class="cp">;============================================================================
; TODO: Document Player_HitSpriteWithWeapon
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="8804" href="#8804">[8804]</a><a href="#Player_HitSpriteWithWeapon" class="la">Player_HitSpriteWithWeapon:</a><span class="ce">; [$8804]</span></span>
<span class="l"><a class="anc" name="8804" href="#8804">[8804]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IsSpriteHidden">Sprites_IsSpriteHidden</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the sprite is visible. If so, return.
;
</div><span class="l"><a class="anc" name="8807" href="#8807">[8807]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="8809" href="#8809">[8809]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="880b" href="#880b">[880b]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="880d" href="#880d">[880d]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#PlayerHitsPhaseCounter">PlayerHitsPhaseCounter</a></span></span></span>
<span class="l"><a class="anc" name="880f" href="#880f">[880f]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="8810" href="#8810">[8810]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8812" href="#8812">[8812]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the player has a weapon. If not, return.
;
</div><span class="l"><a class="anc" name="8814" href="#8814">[8814]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"><a class="anc" name="8817" href="#8817">[8817]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"><a class="anc" name="8819" href="#8819">[8819]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="881c" href="#881c">[881c]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the sprite being hit is an enemy. If not, return.
;
</div><span class="l"><a class="anc" name="881f" href="#881f">[881f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8822" href="#8822">[8822]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8828">@LAB_PRG14__8828</a></span></span></span>
<span class="l"><a class="anc" name="8824" href="#8824">[8824]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="8826" href="#8826">[8826]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_87CA">RETURN_87CA</a></span></span></span>
<span class="l"></span>
<a name=":8828:@LAB_PRG14__8828"></a><span class="l"><a class="anc" name="8828" href="#8828">[8828]</a><a href="#:8828:@LAB_PRG14__8828" class="lla">@LAB_PRG14__8828:</a><span class="ce">; [$8828]</span></span>
<span class="l"><a class="anc" name="8828" href="#8828">[8828]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="882a" href="#882a">[882a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Something_Maybe_WeaponDistanceX">Something_Maybe_WeaponDistanceX</a></span></span></span>
<span class="l"><a class="anc" name="882d" href="#882d">[882d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="882f" href="#882f">[882f]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Something_Maybe_WeaponDistanceY">Something_Maybe_WeaponDistanceY</a></span></span></span>
<span class="l"><a class="anc" name="8832" href="#8832">[8832]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IsSpriteOutOfWeaponRange">Sprites_IsSpriteOutOfWeaponRange</a></span></span></span>
<span class="l"><a class="anc" name="8835" href="#8835">[8835]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__883a">@LAB_PRG14__883a</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The sprite isn't within range. Return.
;
</div><span class="l"><a class="anc" name="8837" href="#8837">[8837]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<a name=":883a:@LAB_PRG14__883a"></a><span class="l"><a class="anc" name="883a" href="#883a">[883a]</a><a href="#:883a:@LAB_PRG14__883a" class="lla">@LAB_PRG14__883a:</a><span class="ce">; [$883a]</span></span>
<span class="l"><a class="anc" name="883a" href="#883a">[883a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="883d" href="#883d">[883d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="883f" href="#883f">[883f]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8849">@LAB_PRG14__8849</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; TODO: Figure out why Necron Aides get bit 7 set.
;
</div><span class="l"><a class="anc" name="8841" href="#8841">[8841]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8844" href="#8844">[8844]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8846" href="#8846">[8846]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":8849:@LAB_PRG14__8849"></a><span class="l"><a class="anc" name="8849" href="#8849">[8849]</a><a href="#:8849:@LAB_PRG14__8849" class="lla">@LAB_PRG14__8849:</a><span class="ce">; [$8849]</span></span>
<span class="l"><a class="anc" name="8849" href="#8849">[8849]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Play the Hit Enemy sound.
;
</div><span class="l"><a class="anc" name="884b" href="#884b">[884b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Stop the player from walking.
;
</div><span class="l"><a class="anc" name="884e" href="#884e">[884e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="8850" href="#8850">[8850]</a><span class="cd"><span class="i">AND</span> <span class="o">#$df</span></span></span>
<span class="l"><a class="anc" name="8852" href="#8852">[8852]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the flags and hit counter for the sprite.
;
</div><span class="l"><a class="anc" name="8854" href="#8854">[8854]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8856" href="#8856">[8856]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="8858" href="#8858">[8858]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__885b">@LAB_PRG14__885b</a></span></span></span>
<span class="l"><a class="anc" name="885a" href="#885a">[885a]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":885b:@LAB_PRG14__885b"></a><span class="l"><a class="anc" name="885b" href="#885b">[885b]</a><a href="#:885b:@LAB_PRG14__885b" class="lla">@LAB_PRG14__885b:</a><span class="ce">; [$885b]</span></span>
<span class="l"><a class="anc" name="885b" href="#885b">[885b]</a><span class="cd"><span class="i">STY</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="885d" href="#885d">[885d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8860" href="#8860">[8860]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span></span>
<span class="l"><a class="anc" name="8862" href="#8862">[8862]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8864" href="#8864">[8864]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8867" href="#8867">[8867]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="8869" href="#8869">[8869]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,X</span></span></span>
<span class="l"><a class="anc" name="886c" href="#886c">[886c]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the base strength of the equipped weapon.
;
</div><span class="l"><a class="anc" name="886f" href="#886f">[886f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#WEAPON_STRENGTHS">WEAPON_STRENGTHS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8872" href="#8872">[8872]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8874" href="#8874">[8874]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpecialItems">SpecialItems</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; If there's no pendant equipped, increase weapon strength by 25%.
;
; This is the famous Pendant Bug. This should have been inversed. Oops.
;
</div><span class="l"><a class="anc" name="8877" href="#8877">[8877]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8879" href="#8879">[8879]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkGlove">@_checkGlove</a></span></span></span>
<span class="l"><a class="anc" name="887b" href="#887b">[887b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="887d" href="#887d">[887d]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="887e" href="#887e">[887e]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="887f" href="#887f">[887f]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8880" href="#8880">[8880]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8882" href="#8882">[8882]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8884:@_checkGlove"></a><div class="c">;
; If the player has the glove, add the strength of the
; glove based on the weapon strength.
;
; This is:
;
;     Hand Dagger:   2HP
;     Long Sword:    4HP
;     Giant Blade:   8HP
;     Dragon Slayer: 10HP
;
</div><span class="l"><a class="anc" name="8884" href="#8884">[8884]</a><a href="#:8884:@_checkGlove" class="lla">@_checkGlove:</a><span class="ce">; [$8884]</span></span>
<span class="l"><a class="anc" name="8884" href="#8884">[8884]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationGlove">DurationGlove</a></span></span><span class="ce">; Load the glove duration.</span></span>
<span class="l"><a class="anc" name="8887" href="#8887">[8887]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_updateSpriteHP">@_updateSpriteHP</a></span></span><span class="ce">; If it's no longer active, jump.</span></span>
<span class="l"><a class="anc" name="8889" href="#8889">[8889]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Load the calculated weapon strength.</span></span>
<span class="l"><a class="anc" name="888b" href="#888b">[888b]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="888c" href="#888c">[888c]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#WEAPON_TO_GLOVE_STRENGTH">WEAPON_TO_GLOVE_STRENGTH</a>,Y</span></span><span class="ce">; Add the glove strength for the current weapon.</span></span>
<span class="l"><a class="anc" name="888f" href="#888f">[888f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Store as the new damage counter.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8891:@_updateSpriteHP"></a><div class="c">;
; Calculate the number of HP remaining for the enemy.
;
; We'll take the current HP, remove what we've calculated
; for the weapon strength.
;
</div><span class="l"><a class="anc" name="8891" href="#8891">[8891]</a><a href="#:8891:@_updateSpriteHP" class="lla">@_updateSpriteHP:</a><span class="ce">; [$8891]</span></span>
<span class="l"><a class="anc" name="8891" href="#8891">[8891]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HP">CurrentSprites_HP</a>,X</span></span><span class="ce">; Load the current HP for this enemy.</span></span>
<span class="l"><a class="anc" name="8894" href="#8894">[8894]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8895" href="#8895">[8895]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Subtract the current damage.</span></span>
<span class="l"><a class="anc" name="8897" href="#8897">[8897]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HP">CurrentSprites_HP</a>,X</span></span><span class="ce">; Store back as the enemy HP.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the sprite is still alive. If so, we're done.
;
</div><span class="l"><a class="anc" name="889a" href="#889a">[889a]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If the enemy is dead, we're done here.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The sprite is dead, so begin handling post-death logic.
;
; Start by checking if this is Sugata. This is handled specially.
; When dead, the screen flashes.
;
</div><span class="l"><a class="anc" name="889c" href="#889c">[889c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="889f" href="#889f">[889f]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$18</span></span><span class="ce">; Compare to Sugata.</span></span>
<span class="l"><a class="anc" name="88a1" href="#88a1">[88a1]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_handleEnemyGeneric">@_handleEnemyGeneric</a></span></span><span class="ce">; If not, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; When Sugata dies, make sure we restore color.
;
; Sugata will flash the screen, and this prevents the screen
; from getting stuck in greyscale.
;
</div><span class="l"><a class="anc" name="88a3" href="#88a3">[88a3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span><span class="ce">; Load the current screen mode.</span></span>
<span class="l"><a class="anc" name="88a5" href="#88a5">[88a5]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span><span class="ce">; Clear bit 0, setting to greyscale.</span></span>
<span class="l"><a class="anc" name="88a7" href="#88a7">[88a7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span><span class="ce">; Store back as the screen mode.</span></span>
<span class="l"></span>
<a name=":88a9:@_handleEnemyGeneric"></a><span class="l"><a class="anc" name="88a9" href="#88a9">[88a9]</a><a href="#:88a9:@_handleEnemyGeneric" class="lla">@_handleEnemyGeneric:</a><span class="ce">; [$88a9]</span></span>
<span class="l"><a class="anc" name="88a9" href="#88a9">[88a9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span><span class="ce">; Play sound #3.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Play a sound for the enemy kill, reset state, and add
; experience.
;
</div><span class="l"><a class="anc" name="88ab" href="#88ab">[88ab]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"><a class="anc" name="88ae" href="#88ae">[88ae]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="88b0" href="#88b0">[88b0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,X</span></span><span class="ce">; Clear the hit counter for the dead enemy.</span></span>
<span class="l"><a class="anc" name="88b3" href="#88b3">[88b3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_AddExperienceFromSprite">Player_AddExperienceFromSprite</a></span></span><span class="ce">; Add experience for the current sprite.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if we killed a standard enemy or a boss.
;
</div><span class="l"><a class="anc" name="88b6" href="#88b6">[88b6]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Load the type of this enemy.</span></span>
<span class="l"><a class="anc" name="88b9" href="#88b9">[88b9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="88bc" href="#88bc">[88bc]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$07</span></span><span class="ce">; Is this a big enemy?</span></span>
<span class="l"><a class="anc" name="88be" href="#88be">[88be]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__88c3">@LAB_PRG14__88c3</a></span></span><span class="ce">; If not, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This was a big enemy (a boss).
;
</div><span class="l"><a class="anc" name="88c0" href="#88c0">[88c0]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowBigEnemyDeathByMagicOrWeapon">Sprite_ShowBigEnemyDeathByMagicOrWeapon</a></span></span><span class="ce">; Handle big enemy death cleanup.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":88c3:@LAB_PRG14__88c3"></a><div class="c">;
; This was a standard enemy.
;
</div><span class="l"><a class="anc" name="88c3" href="#88c3">[88c3]</a><a href="#:88c3:@LAB_PRG14__88c3" class="lla">@LAB_PRG14__88c3:</a><span class="ce">; [$88c3]</span></span>
<span class="l"><a class="anc" name="88c3" href="#88c3">[88c3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowNormalEnemyDeathByWeapon">Sprite_ShowNormalEnemyDeathByWeapon</a></span></span><span class="ce">; Handle standard enemy death cleanup.</span></span>
<span class="l"></span>
<a name=":88c6:@_return"></a><span class="l"><a class="anc" name="88c6" href="#88c6">[88c6]</a><a href="#:88c6:@_return" class="lla">@_return:</a><span class="ce">; [$88c6]</span></span>
<span class="l"><a class="anc" name="88c6" href="#88c6">[88c6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="WEAPON_TO_GLOVE_STRENGTH"></a><div class="cp">;============================================================================
; A mapping of weapon types to additional hit power.
;
; XREFS:
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;
</div><span class="l"><a class="anc" name="88c7" href="#88c7">[88c7]</a><a href="#WEAPON_TO_GLOVE_STRENGTH" class="la">WEAPON_TO_GLOVE_STRENGTH:</a><span class="ce">; [$88c7]</span></span>
<span class="l"><a class="anc" name="88c7" href="#88c7">[88c7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [0]: Hand Dagger -- 2HP</span></span>
<span class="l"><a class="anc" name="88c8" href="#88c8">[88c8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [1]: Long Sword -- 4HP</span></span>
<span class="l"><a class="anc" name="88c9" href="#88c9">[88c9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [2]: Giant Blade -- 8HP</span></span>
<span class="l"><a class="anc" name="88ca" href="#88ca">[88ca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [3]: Dragon Slayer -- 10HP</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_IsSpriteOutOfWeaponRange"></a><div class="cp">;============================================================================
; Check if a sprite is out of the player's weapon range.
;
; Range will be checked in both an X and Y direction.
;
; INPUTS:
;     X:
;         The index of the sprite to check.
;
; OUTPUTS:
;     <a href="RAM.html#Temp_00">Temp_00</a>:
;         This will be clobbered with the last distance
;         calculation.
;
;     C:
;         1 if out of range.
;         0 if within range.
;
; XREFS:
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="88cb" href="#88cb">[88cb]</a><a href="#Sprites_IsSpriteOutOfWeaponRange" class="la">Sprites_IsSpriteOutOfWeaponRange:</a><span class="ce">; [$88cb]</span></span>
<div class="c">;
; First check the distance in the X position between the
; weapon and the sprite.
;
</div><span class="l"><a class="anc" name="88cb" href="#88cb">[88cb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="88ce" href="#88ce">[88ce]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="88cf" href="#88cf">[88cf]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="88d0" href="#88d0">[88d0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_SPRITE_EXTENTS">MAYBE_SPRITE_EXTENTS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="88d3" href="#88d3">[88d3]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="88d4" href="#88d4">[88d4]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Maybe_WeaponRange_X">Maybe_WeaponRange_X</a></span></span></span>
<span class="l"><a class="anc" name="88d6" href="#88d6">[88d6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="88d8" href="#88d8">[88d8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#PlayerPosXPlus10">PlayerPosXPlus10</a></span></span></span>
<span class="l"><a class="anc" name="88da" href="#88da">[88da]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; If that wasn't in range...
;
</div><span class="l"><a class="anc" name="88db" href="#88db">[88db]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Maybe_WeaponRange_X">Maybe_WeaponRange_X</a></span></span></span>
<span class="l"><a class="anc" name="88dd" href="#88dd">[88dd]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="88de" href="#88de">[88de]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Something_Maybe_WeaponDistanceX">Something_Maybe_WeaponDistanceX</a></span></span></span>
<span class="l"><a class="anc" name="88e1" href="#88e1">[88e1]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="88e3" href="#88e3">[88e3]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check the distance in the Y direction between the
; weapon and the sprite.
;
</div><span class="l"><a class="anc" name="88e5" href="#88e5">[88e5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_SPRITE_EXTENTS_1_">MAYBE_SPRITE_EXTENTS_1_</a>,Y</span></span></span>
<span class="l"><a class="anc" name="88e8" href="#88e8">[88e8]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="88e9" href="#88e9">[88e9]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Maybe_WeaponRange_Y">Maybe_WeaponRange_Y</a></span></span></span>
<span class="l"><a class="anc" name="88eb" href="#88eb">[88eb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="88ed" href="#88ed">[88ed]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Maybe_Something_WeaponPosY">Maybe_Something_WeaponPosY</a></span></span></span>
<span class="l"><a class="anc" name="88ef" href="#88ef">[88ef]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="88f0" href="#88f0">[88f0]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Maybe_WeaponRange_Y">Maybe_WeaponRange_Y</a></span></span></span>
<span class="l"><a class="anc" name="88f2" href="#88f2">[88f2]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="88f3" href="#88f3">[88f3]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Something_Maybe_WeaponDistanceY">Something_Maybe_WeaponDistanceY</a></span></span></span>
<span class="l"><a class="anc" name="88f6" href="#88f6">[88f6]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="88f8" href="#88f8">[88f8]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<a name=":88fa:@_return"></a><span class="l"><a class="anc" name="88fa" href="#88fa">[88fa]</a><a href="#:88fa:@_return" class="lla">@_return:</a><span class="ce">; [$88fa]</span></span>
<span class="l"><a class="anc" name="88fa" href="#88fa">[88fa]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchItem"></a><div class="cp">;============================================================================
; Handle touching an item.
;
; This will cause the player to pick up the sprite.
;
; INPUTS:
;     A:
;         The current sprite index.
;
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The entities of the sprites on the scren.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The new entities of the sprites, with this
;         sprite cleared.
;
; CALLS:
;     Player_PickUp
;
; XREFS:
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::8962]
;============================================================================
</div><span class="l"><a class="anc" name="88fb" href="#88fb">[88fb]</a><a href="#Player_HandleTouchItem" class="la">Player_HandleTouchItem:</a><span class="ce">; [$88fb]</span></span>
<span class="l"><a class="anc" name="88fb" href="#88fb">[88fb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Load the entity at the given index.</span></span>
<span class="l"><a class="anc" name="88fe" href="#88fe">[88fe]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_PickUp">Player_PickUp</a></span></span><span class="ce">; Pick up the item.</span></span>
<span class="l"><a class="anc" name="8901" href="#8901">[8901]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = current sprite index.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Remove the item from the screen.
;
</div><span class="l"><a class="anc" name="8904" href="#8904">[8904]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span><span class="ce">; A = 0xFF (unset)</span></span>
<span class="l"><a class="anc" name="8906" href="#8906">[8906]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Set the entity at this sprite index as 0xFF.</span></span>
<span class="l"></span>
<a name="RETURN_8909"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;
</div><span class="l"><a class="anc" name="8909" href="#8909">[8909]</a><a href="#RETURN_8909" class="la">RETURN_8909:</a><span class="ce">; [$8909]</span></span>
<span class="l"><a class="anc" name="8909" href="#8909">[8909]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="CurrentSprite_CheckHitPlayer"></a><div class="cp">;============================================================================
; TODO: Document CurrentSprite_CheckHitPlayer
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="890a" href="#890a">[890a]</a><a href="#CurrentSprite_CheckHitPlayer" class="la">CurrentSprite_CheckHitPlayer:</a><span class="ce">; [$890a]</span></span>
<span class="l"><a class="anc" name="890a" href="#890a">[890a]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="890d" href="#890d">[890d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8910" href="#8910">[8910]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8912" href="#8912">[8912]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_8909">RETURN_8909</a></span></span></span>
<span class="l"><a class="anc" name="8914" href="#8914">[8914]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IsSpriteHidden">Sprites_IsSpriteHidden</a></span></span></span>
<span class="l"><a class="anc" name="8917" href="#8917">[8917]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_8998">RETURN_8998</a></span></span></span>
<span class="l"><a class="anc" name="8919" href="#8919">[8919]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Width">SpriteBox_Width</a></span></span></span>
<span class="l"><a class="anc" name="891c" href="#891c">[891c]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="891d" href="#891d">[891d]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="891f" href="#891f">[891f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8921" href="#8921">[8921]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="8923" href="#8923">[8923]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8924" href="#8924">[8924]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="8926" href="#8926">[8926]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8927" href="#8927">[8927]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#SpriteBox_Left">SpriteBox_Left</a></span></span></span>
<span class="l"><a class="anc" name="892a" href="#892a">[892a]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="892c" href="#892c">[892c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_8998">RETURN_8998</a></span></span></span>
<span class="l"><a class="anc" name="892e" href="#892e">[892e]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Height">SpriteBox_Height</a></span></span></span>
<span class="l"><a class="anc" name="8931" href="#8931">[8931]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8932" href="#8932">[8932]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$1b</span></span></span>
<span class="l"><a class="anc" name="8934" href="#8934">[8934]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8936" href="#8936">[8936]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"><a class="anc" name="8938" href="#8938">[8938]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8939" href="#8939">[8939]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$1b</span></span></span>
<span class="l"><a class="anc" name="893b" href="#893b">[893b]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="893c" href="#893c">[893c]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#SpriteBox_Top">SpriteBox_Top</a></span></span></span>
<span class="l"><a class="anc" name="893f" href="#893f">[893f]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="8941" href="#8941">[8941]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_8998">RETURN_8998</a></span></span></span>
<span class="l"><a class="anc" name="8943" href="#8943">[8943]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8946" href="#8946">[8946]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8949" href="#8949">[8949]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="894a" href="#894a">[894a]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="894b" href="#894b">[894b]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="894d" href="#894d">[894d]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#Player_HandleCollision_NoOp">Player_HandleCollision_NoOp</a></span></span></span>
<span class="l"><a class="anc" name="894f" href="#894f">[894f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="8952" href="#8952">[8952]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="8953" href="#8953">[8953]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8956" href="#8956">[8956]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"></span>
<a name="Player_HandleCollision_NoOp"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::895e]
;
</div><span class="l"><a class="anc" name="8957" href="#8957">[8957]</a><a href="#Player_HandleCollision_NoOp" class="la">Player_HandleCollision_NoOp:</a><span class="ce">; [$8957]</span></span>
<span class="l"><a class="anc" name="8957" href="#8957">[8957]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_COLLISION_HANDLERS"></a><div class="cp">;============================================================================
; Handlers for touching entities in the game.
;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;
</div><span class="l"><a class="anc" name="8958" href="#8958">[8958]</a><a href="#SPRITE_COLLISION_HANDLERS" class="la">SPRITE_COLLISION_HANDLERS:</a><span class="ce">; [$8958]</span></span>
<span class="l"><a class="anc" name="8958" href="#8958">[8958]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="895a" href="#895a">[895a]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleTouchBreadOrCoin">Player_HandleTouchBreadOrCoin</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Coin/meat touched</span></span>
<span class="l"><a class="anc" name="895c" href="#895c">[895c]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_CheckHandlePressUpOnNPC">Player_CheckHandlePressUpOnNPC</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Press Up on NPC</span></span>
<span class="l"><a class="anc" name="895e" href="#895e">[895e]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleCollision_NoOp">Player_HandleCollision_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]: Large animation. Just return.</span></span>
<span class="l"><a class="anc" name="8960" href="#8960">[8960]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleTouchNPC">Player_HandleTouchNPC</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Collide with NPC</span></span>
<span class="l"><a class="anc" name="8962" href="#8962">[8962]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleTouchItem">Player_HandleTouchItem</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]: Item touched</span></span>
<span class="l"><a class="anc" name="8964" href="#8964">[8964]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleTouchEnemyMagic">Player_HandleTouchEnemyMagic</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]: Enemy magic touched</span></span>
<span class="l"><a class="anc" name="8966" href="#8966">[8966]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]: Enemy touched</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchBreadOrCoin"></a><div class="cp">;============================================================================
; Handle touching bread or money.
;
; If touching either of these, the sprite will be removed
; and the handler will be invoked to add HP or gold.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The current sprite entities on the screen.
;
; OUTPUTS:
;     None
;
; CALLS:
;     <a href="#Player_HandleTouchCoin">Player_HandleTouchCoin</a>
;     <a href="#Player_HandleTouchBread">Player_HandleTouchBread</a>
;
; XREFS:
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::895a]
;============================================================================
</div><span class="l"><a class="anc" name="8968" href="#8968">[8968]</a><a href="#Player_HandleTouchBreadOrCoin" class="la">Player_HandleTouchBreadOrCoin:</a><span class="ce">; [$8968]</span></span>
<div class="c">;
; Check if this is a gold coin or bread.
;
</div><span class="l"><a class="anc" name="8968" href="#8968">[8968]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Load the entity for this sprite.</span></span>
<span class="l"><a class="anc" name="896b" href="#896b">[896b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$01</span></span><span class="ce">; Is it bread?</span></span>
<span class="l"><a class="anc" name="896d" href="#896d">[896d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_isBread">@_isBread</a></span></span><span class="ce">; If so, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is a gold coin.
;
</div><span class="l"><a class="anc" name="896f" href="#896f">[896f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8971" href="#8971">[8971]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Clear the sprite.</span></span>
<span class="l"><a class="anc" name="8974" href="#8974">[8974]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Player_HandleTouchCoin">Player_HandleTouchCoin</a></span></span><span class="ce">; Handle touching the gold coin.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8977:@_isBread"></a><div class="c">;
; This is bread.
;
</div><span class="l"><a class="anc" name="8977" href="#8977">[8977]</a><a href="#:8977:@_isBread" class="lla">@_isBread:</a><span class="ce">; [$8977]</span></span>
<span class="l"><a class="anc" name="8977" href="#8977">[8977]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8979" href="#8979">[8979]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Clear the sprite.</span></span>
<span class="l"><a class="anc" name="897c" href="#897c">[897c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Player_HandleTouchBread">Player_HandleTouchBread</a></span></span><span class="ce">; Handle touching the bread.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_CheckHandlePressUpOnNPC"></a><div class="cp">;============================================================================
; Handle pressing Up next to an NPC.
;
; This will invoke an IScript for the NPC if the player
; pressed Up.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#Joy1_ChangedButtonMask">Joy1_ChangedButtonMask</a>:
;         The newly-changed button mask.
;
;     <a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>:
;         The values of the current sprites on screen.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprite_Value">CurrentSprite_Value</a>:
;         The value of the sprite.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#MMC1_LoadBankAndJump">MMC1_LoadBankAndJump</a>
;
; XREFS:
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::895c]
;============================================================================
</div><span class="l"><a class="anc" name="897f" href="#897f">[897f]</a><a href="#Player_CheckHandlePressUpOnNPC" class="la">Player_CheckHandlePressUpOnNPC:</a><span class="ce">; [$897f]</span></span>
<div class="c">;
; Check if Up is pressed.
;
</div><span class="l"><a class="anc" name="897f" href="#897f">[897f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Joy1_ChangedButtonMask">Joy1_ChangedButtonMask</a></span></span><span class="ce">; Load the changed button mask.</span></span>
<span class="l"><a class="anc" name="8981" href="#8981">[8981]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$08</span></span><span class="ce">; Is Up pressed?</span></span>
<span class="l"><a class="anc" name="8983" href="#8983">[8983]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_8998">RETURN_8998</a></span></span><span class="ce">; If not, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Up was pressed. Get the value for this sprite. This will
; be used to invoke the sprite's associated IScript.
;
</div><span class="l"><a class="anc" name="8985" href="#8985">[8985]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>,X</span></span><span class="ce">; Load the value for the sprite.</span></span>
<span class="l"><a class="anc" name="8988" href="#8988">[8988]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Value">CurrentSprite_Value</a></span></span><span class="ce">; Store it as the current value.</span></span>
<span class="l"><a class="anc" name="898b" href="#898b">[898b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it 0xFF?</span></span>
<span class="l"><a class="anc" name="898d" href="#898d">[898d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_8998">RETURN_8998</a></span></span><span class="ce">; If so, return.</span></span>
<span class="l"><a class="anc" name="898f" href="#898f">[898f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#MMC1_LoadBankAndJump">MMC1_LoadBankAndJump</a></span></span><span class="ce">; Execute the handler.</span></span>
<span class="l"><a class="anc" name="8992" href="#8992">[8992]</a><span class="cd"><span class="i">.byte</span> <span class="o">BANK_12_LOGIC</span></span><span class="ce">; Bank = 12</span></span>
<span class="l"><a class="anc" name="8993" href="#8993">[8993]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG12.html#IScripts_Begin">IScripts_Begin</a>-1) &amp; $FFFF</span></span><span class="ce">; Address = <a href="PRG12.html#IScripts_Begin">IScripts_Begin</a></span></span>
<span class="l"></span>
<a name=":8995:@_afterFarJump"></a><span class="l"><a class="anc" name="8995" href="#8995">[8995]</a><a href="#:8995:@_afterFarJump" class="lla">@_afterFarJump:</a><span class="ce">; [$8995]</span></span>
<span class="l"><a class="anc" name="8995" href="#8995">[8995]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = current sprite index</span></span>
<span class="l"></span>
<a name="RETURN_8998"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;     <a href="#Player_CheckHandlePressUpOnNPC">Player_CheckHandlePressUpOnNPC</a>
;     <a href="#Player_HandleTouchNPC">Player_HandleTouchNPC</a>
;
</div><span class="l"><a class="anc" name="8998" href="#8998">[8998]</a><a href="#RETURN_8998" class="la">RETURN_8998:</a><span class="ce">; [$8998]</span></span>
<span class="l"><a class="anc" name="8998" href="#8998">[8998]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchEnemyMagic"></a><div class="cp">;============================================================================
; Handle touching an enemy's magic.
;
; If the player is not invincible via iframes or Ointment,
; this will trigger the same damage process as if the
; player touched the enemy directly.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a>:
;         The current invincibility phase of the player.
;
;     <a href="RAM.html#DurationOintment">DurationOintment</a>:
;         The remaining duration of any ointment.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The new entities map with this sprite unset.
;
; CALLS:
;     <a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a>
;
; XREFS:
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::8964]
;============================================================================
</div><span class="l"><a class="anc" name="8999" href="#8999">[8999]</a><a href="#Player_HandleTouchEnemyMagic" class="la">Player_HandleTouchEnemyMagic:</a><span class="ce">; [$8999]</span></span>
<span class="l"><a class="anc" name="8999" href="#8999">[8999]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a></span></span></span>
<span class="l"><a class="anc" name="899b" href="#899b">[899b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_89AD">RETURN_89AD</a></span></span></span>
<span class="l"><a class="anc" name="899d" href="#899d">[899d]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationOintment">DurationOintment</a></span></span></span>
<span class="l"><a class="anc" name="89a0" href="#89a0">[89a0]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#RETURN_89AD">RETURN_89AD</a></span></span></span>
<span class="l"><a class="anc" name="89a2" href="#89a2">[89a2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a></span></span></span>
<span class="l"><a class="anc" name="89a5" href="#89a5">[89a5]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="89a8" href="#89a8">[89a8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="89aa" href="#89aa">[89aa]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<a name="RETURN_89AD"></a><div class="c">;
; XREFS:
;     <a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a>
;     <a href="#Player_HandleTouchEnemyMagic">Player_HandleTouchEnemyMagic</a>
;
</div><span class="l"><a class="anc" name="89ad" href="#89ad">[89ad]</a><a href="#RETURN_89AD" class="la">RETURN_89AD:</a><span class="ce">; [$89ad]</span></span>
<span class="l"><a class="anc" name="89ad" href="#89ad">[89ad]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchEnemy"></a><div class="cp">;============================================================================
; Handle touching an enemy.
;
; If the player is not currently invincible (via iframes or
; Ointment), this will cause the player to take damage.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a>:
;         The current invincibility phase of the player.
;
;     <a href="RAM.html#DurationOintment">DurationOintment</a>:
;         The remaining duration of any ointment.
;
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The entities of sprites on the screen.
;
;     <a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>:
;         The state phases of the sprites on the screen.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>:
;         Resulting phase of sprites on the screen.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;     <a href="#Player_SetDamagedBySprite">Player_SetDamagedBySprite</a>
;     <a href="#Player_ApplyDamage">Player_ApplyDamage</a>
;
; XREFS:
;     <a href="#Player_HandleTouchEnemyMagic">Player_HandleTouchEnemyMagic</a>
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::8958]
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::8966]
;============================================================================
</div><span class="l"><a class="anc" name="89ae" href="#89ae">[89ae]</a><a href="#Player_HandleTouchEnemy" class="la">Player_HandleTouchEnemy:</a><span class="ce">; [$89ae]</span></span>
<div class="c">;
; Check if the player currently has iframes.
;
</div><span class="l"><a class="anc" name="89ae" href="#89ae">[89ae]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a></span></span><span class="ce">; Load the invincibility phase.</span></span>
<span class="l"><a class="anc" name="89b0" href="#89b0">[89b0]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_canTakeDamage">@_canTakeDamage</a></span></span><span class="ce">; If no iframes are available, begin processing the hit.</span></span>
<span class="l"><a class="anc" name="89b2" href="#89b2">[89b2]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; Else, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":89b3:@_canTakeDamage"></a><div class="c">;
; Check if the player has Ointment active.
;
</div><span class="l"><a class="anc" name="89b3" href="#89b3">[89b3]</a><a href="#:89b3:@_canTakeDamage" class="lla">@_canTakeDamage:</a><span class="ce">; [$89b3]</span></span>
<span class="l"><a class="anc" name="89b3" href="#89b3">[89b3]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationOintment">DurationOintment</a></span></span><span class="ce">; Check the ointment duration.</span></span>
<span class="l"><a class="anc" name="89b6" href="#89b6">[89b6]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#RETURN_89AD">RETURN_89AD</a></span></span><span class="ce">; If there's time left, no damage will be taken. Return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Process special enemy handling.
;
</div><span class="l"><a class="anc" name="89b8" href="#89b8">[89b8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Load the sprite entity that hit the player.</span></span>
<span class="l"><a class="anc" name="89bb" href="#89bb">[89bb]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span><span class="ce">; Is it the Necron Aides?</span></span>
<span class="l"><a class="anc" name="89bd" href="#89bd">[89bd]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_handleDamage">@_handleDamage</a></span></span><span class="ce">; If not, perform standard damage handling.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is the Necron Aides enemy.
;
</div><span class="l"><a class="anc" name="89bf" href="#89bf">[89bf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span><span class="ce">; Load the phase of the enemy.</span></span>
<span class="l"><a class="anc" name="89c2" href="#89c2">[89c2]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span><span class="ce">; Set the 7th bit.</span></span>
<span class="l"><a class="anc" name="89c4" href="#89c4">[89c4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":89c7:@_handleDamage"></a><div class="c">;
; Play the sound effect and process damage.
;
</div><span class="l"><a class="anc" name="89c7" href="#89c7">[89c7]</a><a href="#:89c7:@_handleDamage" class="lla">@_handleDamage:</a><span class="ce">; [$89c7]</span></span>
<span class="l"><a class="anc" name="89c7" href="#89c7">[89c7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="89c9" href="#89c9">[89c9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play the Player Hit sound.</span></span>
<span class="l"><a class="anc" name="89cc" href="#89cc">[89cc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_SetDamagedBySprite">Player_SetDamagedBySprite</a></span></span><span class="ce">; Mark the player as damaged and set state.</span></span>
<span class="l"><a class="anc" name="89cf" href="#89cf">[89cf]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Player_ApplyDamage">Player_ApplyDamage</a></span></span><span class="ce">; Apply damage.</span></span>
<span class="l"><a class="anc" name="89d2" href="#89d2">[89d2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [$89d2] byte</span></span>
<span class="l"></span>
<a name="SPRITES_FACING_VALUE_TO_OPPOSITE_PLAYER_FACING_BITMASK"></a><div class="c">;
; XREFS:
;     <a href="#Player_SetDamagedBySprite">Player_SetDamagedBySprite</a>
;
</div><span class="l"><a class="anc" name="89d3" href="#89d3">[89d3]</a><a href="#SPRITES_FACING_VALUE_TO_OPPOSITE_PLAYER_FACING_BITMASK" class="la">SPRITES_FACING_VALUE_TO_OPPOSITE_PLAYER_FACING_BITMASK:</a><span class="ce">; [$89d3]</span></span>
<span class="l"><a class="anc" name="89d3" href="#89d3">[89d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="89d4" href="#89d4">[89d4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_SetDamagedBySprite"></a><div class="cp">;============================================================================
; Set the player as damaged by another sprite.
;
; This will set the invincibility phase, giving the
; player iframes.
;
; It will also change the player direction to face
; the enemy, and apply knockback.
;
; INPUTS:
;     <a href="RAM.html#Player_Flags">Player_Flags</a>:
;         The player's current flags.
;
;     <a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a>:
;         The player's status flag.
;
; OUTPUTS:
;     <a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a>:
;         The player's new invincibility phase (60).
;
;     <a href="RAM.html#Player_Flags">Player_Flags</a>:
;         The new player flags, with the facing direction
;         changed.
;
;     <a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a>:
;         The new status flag, with knockback applied.
;
; XREFS:
;     <a href="#Player_HandleHitByMagic">Player_HandleHitByMagic</a>
;     <a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a>
;============================================================================
</div><span class="l"><a class="anc" name="89d5" href="#89d5">[89d5]</a><a href="#Player_SetDamagedBySprite" class="la">Player_SetDamagedBySprite:</a><span class="ce">; [$89d5]</span></span>
<div class="c">;
; Set the invincibility phase to 60.
;
</div><span class="l"><a class="anc" name="89d5" href="#89d5">[89d5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="89d7" href="#89d7">[89d7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a></span></span><span class="ce">; Set iframes to 60.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the player's facing direction to face the enemy.
;
</div><span class="l"><a class="anc" name="89d9" href="#89d9">[89d9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's current flags.</span></span>
<span class="l"><a class="anc" name="89dc" href="#89dc">[89dc]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span><span class="ce">; Grab the direction bit.</span></span>
<span class="l"><a class="anc" name="89de" href="#89de">[89de]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Set to Y.</span></span>
<span class="l"><a class="anc" name="89df" href="#89df">[89df]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span><span class="ce">; Load the player's flags.</span></span>
<span class="l"><a class="anc" name="89e1" href="#89e1">[89e1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$bf</span></span><span class="ce">; Unset the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="89e3" href="#89e3">[89e3]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="#SPRITES_FACING_VALUE_TO_OPPOSITE_PLAYER_FACING_BITMASK">SPRITES_FACING_VALUE_TO_OPPOSITE_PLAYER_FACING_BITMASK</a>,Y</span></span><span class="ce">; Set facing to the opposite of the sprite's.</span></span>
<span class="l"><a class="anc" name="89e6" href="#89e6">[89e6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set knockback on the player.
;
</div><span class="l"><a class="anc" name="89e8" href="#89e8">[89e8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a></span></span><span class="ce">; Load the player's status flag.</span></span>
<span class="l"><a class="anc" name="89ea" href="#89ea">[89ea]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span><span class="ce">; Set knockback.</span></span>
<span class="l"><a class="anc" name="89ec" href="#89ec">[89ec]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="89ee" href="#89ee">[89ee]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchNPC"></a><div class="cp">;============================================================================
; Handle the player touching an NPC.
;
; This will invoke an IScript action when colliding
; with the NPC. It's used for the initial screen when
; approaching the walls of Eolis.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>:
;         The values of the current sprites on screen.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprite_Value">CurrentSprite_Value</a>:
;         The value of this sprite.
;
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The entities of the current sprites on screen.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#MMC1_LoadBankAndJump">MMC1_LoadBankAndJump</a>
;
; XREFS:
;     <a href="#SPRITE_COLLISION_HANDLERS">SPRITE_COLLISION_HANDLERS</a> [$PRG14::8960]
;============================================================================
</div><span class="l"><a class="anc" name="89ef" href="#89ef">[89ef]</a><a href="#Player_HandleTouchNPC" class="la">Player_HandleTouchNPC:</a><span class="ce">; [$89ef]</span></span>
<span class="l"><a class="anc" name="89ef" href="#89ef">[89ef]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>,X</span></span><span class="ce">; Load the value for this sprite.</span></span>
<span class="l"><a class="anc" name="89f2" href="#89f2">[89f2]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Value">CurrentSprite_Value</a></span></span><span class="ce">; Store as the current sprite's value.</span></span>
<span class="l"><a class="anc" name="89f5" href="#89f5">[89f5]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it 0xFF (unset)?</span></span>
<span class="l"><a class="anc" name="89f7" href="#89f7">[89f7]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_8998">RETURN_8998</a></span></span><span class="ce">; If so, return.</span></span>
<span class="l"><a class="anc" name="89f9" href="#89f9">[89f9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#MMC1_LoadBankAndJump">MMC1_LoadBankAndJump</a></span></span><span class="ce">; Else, execute the IScript at that value.</span></span>
<span class="l"><a class="anc" name="89fc" href="#89fc">[89fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">BANK_12_LOGIC</span></span><span class="ce">; Bank = 12</span></span>
<span class="l"><a class="anc" name="89fd" href="#89fd">[89fd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG12.html#IScripts_Begin">IScripts_Begin</a>-1) &amp; $FFFF</span></span><span class="ce">; Address = <a href="PRG12.html#IScripts_Begin">IScripts_Begin</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":89ff:@_afterFarJump"></a><div class="c">;
; Clear this sprite.
;
</div><span class="l"><a class="anc" name="89ff" href="#89ff">[89ff]</a><a href="#:89ff:@_afterFarJump" class="lla">@_afterFarJump:</a><span class="ce">; [$89ff]</span></span>
<span class="l"><a class="anc" name="89ff" href="#89ff">[89ff]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = current sprite index.</span></span>
<span class="l"><a class="anc" name="8a02" href="#8a02">[8a02]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span><span class="ce">; A = 0xFF</span></span>
<span class="l"><a class="anc" name="8a04" href="#8a04">[8a04]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Set the entity at that index to 0xFF.</span></span>
<span class="l"><a class="anc" name="8a07" href="#8a07">[8a07]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_GetBounds"></a><div class="cp">;============================================================================
; TODO: Document Sprite_GetBounds
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="8a08" href="#8a08">[8a08]</a><a href="#Sprite_GetBounds" class="la">Sprite_GetBounds:</a><span class="ce">; [$8a08]</span></span>
<span class="l"><a class="anc" name="8a08" href="#8a08">[8a08]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8a0a" href="#8a0a">[8a0a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a0c" href="#8a0c">[8a0c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a0f" href="#8a0f">[8a0f]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8a10" href="#8a10">[8a10]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a12" href="#8a12">[8a12]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8a13" href="#8a13">[8a13]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a15" href="#8a15">[8a15]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$73</span></span></span>
<span class="l"><a class="anc" name="8a17" href="#8a17">[8a17]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8a19" href="#8a19">[8a19]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a1b" href="#8a1b">[8a1b]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$b2</span></span></span>
<span class="l"><a class="anc" name="8a1d" href="#8a1d">[8a1d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a1f" href="#8a1f">[8a1f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a22" href="#8a22">[8a22]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="8a24" href="#8a24">[8a24]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8a2e">@LAB_PRG14__8a2e</a></span></span></span>
<span class="l"><a class="anc" name="8a26" href="#8a26">[8a26]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="8a28" href="#8a28">[8a28]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8a40">@LAB_PRG14__8a40</a></span></span></span>
<span class="l"><a class="anc" name="8a2a" href="#8a2a">[8a2a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$21</span></span></span>
<span class="l"><a class="anc" name="8a2c" href="#8a2c">[8a2c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Sprite_SetBoundsFromTemp">Sprite_SetBoundsFromTemp</a></span></span></span>
<span class="l"></span>
<a name=":8a2e:@LAB_PRG14__8a2e"></a><span class="l"><a class="anc" name="8a2e" href="#8a2e">[8a2e]</a><a href="#:8a2e:@LAB_PRG14__8a2e" class="lla">@LAB_PRG14__8a2e:</a><span class="ce">; [$8a2e]</span></span>
<span class="l"><a class="anc" name="8a2e" href="#8a2e">[8a2e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a31" href="#8a31">[8a31]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8a33" href="#8a33">[8a33]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Sprite_SetBoundsFromTemp">Sprite_SetBoundsFromTemp</a></span></span></span>
<span class="l"><a class="anc" name="8a35" href="#8a35">[8a35]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$71</span></span></span>
<span class="l"><a class="anc" name="8a37" href="#8a37">[8a37]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8a39" href="#8a39">[8a39]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$8a</span></span></span>
<span class="l"><a class="anc" name="8a3b" href="#8a3b">[8a3b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a3d" href="#8a3d">[8a3d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetBoundsFromTemp">Sprite_SetBoundsFromTemp</a></span></span></span>
<span class="l"></span>
<a name=":8a40:@LAB_PRG14__8a40"></a><span class="l"><a class="anc" name="8a40" href="#8a40">[8a40]</a><a href="#:8a40:@LAB_PRG14__8a40" class="lla">@LAB_PRG14__8a40:</a><span class="ce">; [$8a40]</span></span>
<span class="l"><a class="anc" name="8a40" href="#8a40">[8a40]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a43" href="#8a43">[8a43]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8a49">@LAB_PRG14__8a49</a></span></span></span>
<span class="l"><a class="anc" name="8a45" href="#8a45">[8a45]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8a47" href="#8a47">[8a47]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Sprite_SetBoundsFromTemp">Sprite_SetBoundsFromTemp</a></span></span></span>
<span class="l"></span>
<a name=":8a49:@LAB_PRG14__8a49"></a><span class="l"><a class="anc" name="8a49" href="#8a49">[8a49]</a><a href="#:8a49:@LAB_PRG14__8a49" class="lla">@LAB_PRG14__8a49:</a><span class="ce">; [$8a49]</span></span>
<span class="l"><a class="anc" name="8a49" href="#8a49">[8a49]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$75</span></span></span>
<span class="l"><a class="anc" name="8a4b" href="#8a4b">[8a4b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8a4d" href="#8a4d">[8a4d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$8a</span></span></span>
<span class="l"><a class="anc" name="8a4f" href="#8a4f">[8a4f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"></span>
<a name="Sprite_SetBoundsFromTemp"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_GetBounds">Sprite_GetBounds</a>
;
</div><span class="l"><a class="anc" name="8a51" href="#8a51">[8a51]</a><a href="#Sprite_SetBoundsFromTemp" class="la">Sprite_SetBoundsFromTemp:</a><span class="ce">; [$8a51]</span></span>
<span class="l"><a class="anc" name="8a51" href="#8a51">[8a51]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8a53" href="#8a53">[8a53]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a55" href="#8a55">[8a55]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8a56" href="#8a56">[8a56]</a><span class="cd"><span class="i">ADC</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span></span>
<span class="l"><a class="anc" name="8a58" href="#8a58">[8a58]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Left">SpriteBox_Left</a></span></span></span>
<span class="l"><a class="anc" name="8a5b" href="#8a5b">[8a5b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a5d" href="#8a5d">[8a5d]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8a5e" href="#8a5e">[8a5e]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="8a5f" href="#8a5f">[8a5f]</a><span class="cd"><span class="i">ADC</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span></span>
<span class="l"><a class="anc" name="8a61" href="#8a61">[8a61]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Top">SpriteBox_Top</a></span></span></span>
<span class="l"><a class="anc" name="8a64" href="#8a64">[8a64]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="8a65" href="#8a65">[8a65]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span></span>
<span class="l"><a class="anc" name="8a67" href="#8a67">[8a67]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Width">SpriteBox_Width</a></span></span></span>
<span class="l"><a class="anc" name="8a6a" href="#8a6a">[8a6a]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="8a6b" href="#8a6b">[8a6b]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span></span>
<span class="l"><a class="anc" name="8a6d" href="#8a6d">[8a6d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SpriteBox_Height">SpriteBox_Height</a></span></span></span>
<span class="l"><a class="anc" name="8a70" href="#8a70">[8a70]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SPRITE_GETBOUNDS_COMMON"></a><span class="l"><a class="anc" name="8a71" href="#8a71">[8a71]</a><a href="#SPRITE_GETBOUNDS_COMMON" class="la">SPRITE_GETBOUNDS_COMMON:</a><span class="ce">; [$8a71]</span></span>
<span class="l"><a class="anc" name="8a71" href="#8a71">[8a71]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8a72" href="#8a72">[8a72]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8a73" href="#8a73">[8a73]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8a74" href="#8a74">[8a74]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
<a name="SPRITE_GETBOUNDS_MASKMAN"></a><span class="l"><a class="anc" name="8a75" href="#8a75">[8a75]</a><a href="#SPRITE_GETBOUNDS_MASKMAN" class="la">SPRITE_GETBOUNDS_MASKMAN:</a><span class="ce">; [$8a75]</span></span>
<span class="l"><a class="anc" name="8a75" href="#8a75">[8a75]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8a76" href="#8a76">[8a76]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8a77" href="#8a77">[8a77]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8a78" href="#8a78">[8a78]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="Player_ApplyDamage"></a><div class="cp">;============================================================================
; TODO: Document Player_ApplyDamage
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Player_HandleTouchEnemy">Player_HandleTouchEnemy</a>
;============================================================================
</div><span class="l"><a class="anc" name="8a79" href="#8a79">[8a79]</a><a href="#Player_ApplyDamage" class="la">Player_ApplyDamage:</a><span class="ce">; [$8a79]</span></span>
<span class="l"><a class="anc" name="8a79" href="#8a79">[8a79]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8a7c" href="#8a7c">[8a7c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITY_DAMAGES">SPRITE_ENTITY_DAMAGES</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8a7f" href="#8a7f">[8a7f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8a81" href="#8a81">[8a81]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="8a83" href="#8a83">[8a83]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8a85" href="#8a85">[8a85]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8a87" href="#8a87">[8a87]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="8a89" href="#8a89">[8a89]</a><span class="cd"><span class="i">LSR</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="8a8b" href="#8a8b">[8a8b]</a><span class="cd"><span class="i">ROR</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="8a8d" href="#8a8d">[8a8d]</a><span class="cd"><span class="i">LSR</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="8a8f" href="#8a8f">[8a8f]</a><span class="cd"><span class="i">ROR</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="8a91" href="#8a91">[8a91]</a><span class="cd"><span class="i">LSR</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="8a93" href="#8a93">[8a93]</a><span class="cd"><span class="i">ROR</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; If the player is wearing any armor, apply damage reduction.
;
</div><span class="l"><a class="anc" name="8a95" href="#8a95">[8a95]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#SelectedArmor">SelectedArmor</a></span></span><span class="ce">; Load the current armor.</span></span>
<span class="l"><a class="anc" name="8a98" href="#8a98">[8a98]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_applyDamage">@_applyDamage</a></span></span><span class="ce">; If it's 0 (leather), then jump.</span></span>
<span class="l"><a class="anc" name="8a9a" href="#8a9a">[8a9a]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$04</span></span><span class="ce">; Is it &gt; 4 (Battle Suit)?</span></span>
<span class="l"><a class="anc" name="8a9c" href="#8a9c">[8a9c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_applyDamage">@_applyDamage</a></span></span><span class="ce">; Then jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Apply the armor's defense multiplier.
;
</div><span class="l"><a class="anc" name="8a9e" href="#8a9e">[8a9e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#ARMOR_DEFENSE_MULTIPLIERS">ARMOR_DEFENSE_MULTIPLIERS</a>,Y</span></span><span class="ce">; Load the multiplier for this armor.</span></span>
<span class="l"><a class="anc" name="8aa1" href="#8aa1">[8aa1]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"></span>
<a name=":8aa2:@LAB_PRG14__8aa2"></a><span class="l"><a class="anc" name="8aa2" href="#8aa2">[8aa2]</a><a href="#:8aa2:@LAB_PRG14__8aa2" class="lla">@LAB_PRG14__8aa2:</a><span class="ce">; [$8aa2]</span></span>
<span class="l"><a class="anc" name="8aa2" href="#8aa2">[8aa2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8aa4" href="#8aa4">[8aa4]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8aa5" href="#8aa5">[8aa5]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="8aa7" href="#8aa7">[8aa7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8aa9" href="#8aa9">[8aa9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8aab" href="#8aab">[8aab]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="8aad" href="#8aad">[8aad]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8aaf" href="#8aaf">[8aaf]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="8ab0" href="#8ab0">[8ab0]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8aa2">@LAB_PRG14__8aa2</a></span></span></span>
<span class="l"></span>
<a name=":8ab2:@_applyDamage"></a><span class="l"><a class="anc" name="8ab2" href="#8ab2">[8ab2]</a><a href="#:8ab2:@_applyDamage" class="lla">@_applyDamage:</a><span class="ce">; [$8ab2]</span></span>
<span class="l"><a class="anc" name="8ab2" href="#8ab2">[8ab2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="8ab4" href="#8ab4">[8ab4]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="8ab7" href="#8ab7">[8ab7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="8ab9" href="#8ab9">[8ab9]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="8abc" href="#8abc">[8abc]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpecialItems">SpecialItems</a></span></span></span>
<span class="l"><a class="anc" name="8abf" href="#8abf">[8abf]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8ac1" href="#8ac1">[8ac1]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8ad4">@LAB_PRG14__8ad4</a></span></span></span>
<span class="l"><a class="anc" name="8ac3" href="#8ac3">[8ac3]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="8ac6" href="#8ac6">[8ac6]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8ac7" href="#8ac7">[8ac7]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="8ac9" href="#8ac9">[8ac9]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="8acc" href="#8acc">[8acc]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="8acf" href="#8acf">[8acf]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="8ad1" href="#8ad1">[8ad1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"></span>
<a name=":8ad4:@LAB_PRG14__8ad4"></a><span class="l"><a class="anc" name="8ad4" href="#8ad4">[8ad4]</a><a href="#:8ad4:@LAB_PRG14__8ad4" class="lla">@LAB_PRG14__8ad4:</a><span class="ce">; [$8ad4]</span></span>
<span class="l"><a class="anc" name="8ad4" href="#8ad4">[8ad4]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="PRG15_MIRROR.html#Player_ReduceHP">Player_ReduceHP</a></span></span></span>
<span class="l"></span>
<a name="RETURN_8AD7"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;
</div><span class="l"><a class="anc" name="8ad7" href="#8ad7">[8ad7]</a><a href="#RETURN_8AD7" class="la">RETURN_8AD7:</a><span class="ce">; [$8ad7]</span></span>
<span class="l"><a class="anc" name="8ad7" href="#8ad7">[8ad7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="ARMOR_DEFENSE_MULTIPLIERS"></a><div class="cp">;============================================================================
; Defense multipliers for each armor.
;
; XREFS:
;     <a href="#Player_ApplyDamage">Player_ApplyDamage</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_ApplyDamage">Player_ApplyDamage</a>
;
</div><span class="l"><a class="anc" name="8ad8" href="#8ad8">[8ad8]</a><a href="#ARMOR_DEFENSE_MULTIPLIERS" class="la">ARMOR_DEFENSE_MULTIPLIERS:</a><span class="ce">; [$8ad8]</span></span>
<span class="l"><a class="anc" name="8ad8" href="#8ad8">[8ad8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]: Leather (0)</span></span>
<span class="l"><a class="anc" name="8ad9" href="#8ad9">[8ad9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]: Studded Mail (1)</span></span>
<span class="l"><a class="anc" name="8ada" href="#8ada">[8ada]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]: Full Plate (2)</span></span>
<span class="l"><a class="anc" name="8adb" href="#8adb">[8adb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [3]: Battle Suit (4)</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CheckHitByCastMagic"></a><div class="cp">;============================================================================
; Check if the current sprite has been hit by player magic.
;
; If the player has cast magic, its hitbox will be matched
; against the sprite's.
;
; If there's overlap, the player's hit information will be
; updated.
;
; If the sprite dies, the player's state will be updated.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The currently-cast magic type.
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The X position of the cast magic.
;
;     <a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a>:
;         The Y position of the cast magic.
;
;     <a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a>:
;         The flags for the current magic type.
;
;     <a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a>:
;         The index of the currently-processed sprite.
;
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The entity types for the current sprites.
;
;     <a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>:
;         The category types for the sprite entity types.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The flags for the current sprites.
;
;     <a href="#CAST_MAGIC_HIT_BEHAVIORS">CAST_MAGIC_HIT_BEHAVIORS</a>:
;         The magic behavior functions for the magic types.
;
;     <a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>:
;         The hitbox types for the current sprites.
;
;     <a href="#CAST_MAGIC_HIT_WIDTHS">CAST_MAGIC_HIT_WIDTHS</a>:
;         The hitbox widths for the cast magic types.
;
;     <a href="#CAST_MAGIC_HIT_HEIGHTS">CAST_MAGIC_HIT_HEIGHTS</a>:
;         The hitbox heights for the cast magic types.
;
;     <a href="#SPRITE_HITBOX_WIDTHS">SPRITE_HITBOX_WIDTHS</a>:
;         The widths for the hitbox types.
;
;     <a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>:
;         The heights for the hitbox types.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>:
;         The magic hit behavior for the sprite, if hit.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The updated flags for the sprite, if hit.
;
;     <a href="RAM.html#CurrentSprites_HitByMagicIFrames">CurrentSprites_HitByMagicIFrames</a>:
;        The new hit duration for the sprite, if hit.
;
;     <a href="RAM.html#Temp_00">Temp_00</a>:
;     <a href="RAM.html#Temp_01">Temp_01</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="8adc" href="#8adc">[8adc]</a><a href="#Sprite_CheckHitByCastMagic" class="la">Sprite_CheckHitByCastMagic:</a><span class="ce">; [$8adc]</span></span>
<div class="c">;
; Check if there's a valid cast magic type on screen.
;
</div><span class="l"><a class="anc" name="8adc" href="#8adc">[8adc]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the cast magic type.</span></span>
<span class="l"><a class="anc" name="8adf" href="#8adf">[8adf]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span><span class="ce">; Check against the supported magic types.</span></span>
<span class="l"><a class="anc" name="8ae1" href="#8ae1">[8ae1]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_8AD7">RETURN_8AD7</a></span></span><span class="ce">; If not, then return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the currently-processed sprite is visible on screen.
;
</div><span class="l"><a class="anc" name="8ae3" href="#8ae3">[8ae3]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Get the current sprite.</span></span>
<span class="l"><a class="anc" name="8ae6" href="#8ae6">[8ae6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IsSpriteHidden">Sprites_IsSpriteHidden</a></span></span><span class="ce">; Check if the sprite is visible.</span></span>
<span class="l"><a class="anc" name="8ae9" href="#8ae9">[8ae9]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_8AD7">RETURN_8AD7</a></span></span><span class="ce">; If not, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check the sprite type.
;
</div><span class="l"><a class="anc" name="8aeb" href="#8aeb">[8aeb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Get the type of this sprite.</span></span>
<span class="l"><a class="anc" name="8aee" href="#8aee">[8aee]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it unset?</span></span>
<span class="l"><a class="anc" name="8af0" href="#8af0">[8af0]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_8AD7">RETURN_8AD7</a></span></span><span class="ce">; If so, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if this is either a standard or big enemy.
;
</div><span class="l"><a class="anc" name="8af2" href="#8af2">[8af2]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A (sprite type)</span></span>
<span class="l"><a class="anc" name="8af3" href="#8af3">[8af3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span><span class="ce">; A = Category type of this sprite</span></span>
<span class="l"><a class="anc" name="8af6" href="#8af6">[8af6]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_isEnemy">@_isEnemy</a></span></span><span class="ce">; If it's a standard enemy, jump.</span></span>
<span class="l"><a class="anc" name="8af8" href="#8af8">[8af8]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$07</span></span><span class="ce">; Check if it's a big enemy.</span></span>
<span class="l"><a class="anc" name="8afa" href="#8afa">[8afa]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8afc:@_isEnemy"></a><div class="c">;
; Check if the magic overlaps the sprite in the X direction.
;
</div><span class="l"><a class="anc" name="8afc" href="#8afc">[8afc]</a><a href="#:8afc:@_isEnemy" class="lla">@_isEnemy:</a><span class="ce">; [$8afc]</span></span>
<span class="l"><a class="anc" name="8afc" href="#8afc">[8afc]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the cast magic type.</span></span>
<span class="l"><a class="anc" name="8aff" href="#8aff">[8aff]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HIT_WIDTHS">CAST_MAGIC_HIT_WIDTHS</a>,Y</span></span><span class="ce">; Load the htbox width for the magic.</span></span>
<span class="l"><a class="anc" name="8b02" href="#8b02">[8b02]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span><span class="ce">; Store that.</span></span>
<span class="l"><a class="anc" name="8b04" href="#8b04">[8b04]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span><span class="ce">; Load the hitbox type for the sprite.</span></span>
<span class="l"><a class="anc" name="8b07" href="#8b07">[8b07]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_HITBOX_WIDTHS">SPRITE_HITBOX_WIDTHS</a>,Y</span></span><span class="ce">; Get the width of the sprite.</span></span>
<span class="l"><a class="anc" name="8b0a" href="#8b0a">[8b0a]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8b0b" href="#8b0b">[8b0b]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span><span class="ce">; Add the hitbox width for this.</span></span>
<span class="l"><a class="anc" name="8b0d" href="#8b0d">[8b0d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Store that.</span></span>
<span class="l"><a class="anc" name="8b0f" href="#8b0f">[8b0f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Load the cast magic X position.</span></span>
<span class="l"><a class="anc" name="8b12" href="#8b12">[8b12]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8b13" href="#8b13">[8b13]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span><span class="ce">; Add the hitbox width.</span></span>
<span class="l"><a class="anc" name="8b15" href="#8b15">[8b15]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8b16" href="#8b16">[8b16]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span><span class="ce">; Subtract the sprite X position.</span></span>
<span class="l"><a class="anc" name="8b18" href="#8b18">[8b18]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Compare to the magic hitbox.</span></span>
<span class="l"><a class="anc" name="8b1a" href="#8b1a">[8b1a]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a></span></span><span class="ce">; If it didn't overlap in the X position, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the magic overlaps the sprite in the Y direction.
;
</div><span class="l"><a class="anc" name="8b1c" href="#8b1c">[8b1c]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the cast magic type.</span></span>
<span class="l"><a class="anc" name="8b1f" href="#8b1f">[8b1f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HIT_HEIGHTS">CAST_MAGIC_HIT_HEIGHTS</a>,Y</span></span><span class="ce">; Load the hitbox height of the magic.</span></span>
<span class="l"><a class="anc" name="8b22" href="#8b22">[8b22]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span><span class="ce">; Store that.</span></span>
<span class="l"><a class="anc" name="8b24" href="#8b24">[8b24]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span><span class="ce">; Load the hitbox type for the sprite.</span></span>
<span class="l"><a class="anc" name="8b27" href="#8b27">[8b27]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_HITBOX_HEIGHTS">SPRITE_HITBOX_HEIGHTS</a>,Y</span></span><span class="ce">; Get the height of the sprite.</span></span>
<span class="l"><a class="anc" name="8b2a" href="#8b2a">[8b2a]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8b2b" href="#8b2b">[8b2b]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span><span class="ce">; Add the hitbox height for this.</span></span>
<span class="l"><a class="anc" name="8b2d" href="#8b2d">[8b2d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Store that.</span></span>
<span class="l"><a class="anc" name="8b2f" href="#8b2f">[8b2f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Load the cast magic Y position.</span></span>
<span class="l"><a class="anc" name="8b32" href="#8b32">[8b32]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8b33" href="#8b33">[8b33]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span><span class="ce">; Add the hitbox height.</span></span>
<span class="l"><a class="anc" name="8b35" href="#8b35">[8b35]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8b36" href="#8b36">[8b36]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; Subtract the sprite Y position.</span></span>
<span class="l"><a class="anc" name="8b38" href="#8b38">[8b38]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Compare to the magic hitbox.</span></span>
<span class="l"><a class="anc" name="8b3a" href="#8b3a">[8b3a]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a></span></span><span class="ce">; If it didn't overlap in the Y position, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic hit the sprite. Update state on the sprite.
;
</div><span class="l"><a class="anc" name="8b3c" href="#8b3c">[8b3c]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the cast magic type.</span></span>
<span class="l"><a class="anc" name="8b3f" href="#8b3f">[8b3f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HIT_BEHAVIORS">CAST_MAGIC_HIT_BEHAVIORS</a>,Y</span></span><span class="ce">; Load the hit behavior for the magic.</span></span>
<span class="l"><a class="anc" name="8b42" href="#8b42">[8b42]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span><span class="ce">; Store as the hit behavior for the sprite.</span></span>
<span class="l"><a class="anc" name="8b45" href="#8b45">[8b45]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HIT_IFRAMES">CAST_MAGIC_HIT_IFRAMES</a>,Y</span></span><span class="ce">; Load the hit behavior timeframe for the magic.</span></span>
<span class="l"><a class="anc" name="8b48" href="#8b48">[8b48]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicIFrames">CurrentSprites_HitByMagicIFrames</a>,X</span></span><span class="ce">; Store for the sprite.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Update the sprite to face the direction the magic is facing.
;
</div><span class="l"><a class="anc" name="8b4b" href="#8b4b">[8b4b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the cast magic flags.</span></span>
<span class="l"><a class="anc" name="8b4e" href="#8b4e">[8b4e]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span><span class="ce">; Get the facing direction of the magic.</span></span>
<span class="l"><a class="anc" name="8b4f" href="#8b4f">[8b4f]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8b50" href="#8b50">[8b50]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8b51" href="#8b51">[8b51]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8b53" href="#8b53">[8b53]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Store that.</span></span>
<span class="l"><a class="anc" name="8b55" href="#8b55">[8b55]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="8b58" href="#8b58">[8b58]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span><span class="ce">; Clear the facing direction bit.</span></span>
<span class="l"><a class="anc" name="8b5a" href="#8b5a">[8b5a]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span><span class="ce">; Set it to match the magic's direction.</span></span>
<span class="l"><a class="anc" name="8b5c" href="#8b5c">[8b5c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it back out.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Give the player credit for hitting the enemy with magic.
;
</div><span class="l"><a class="anc" name="8b5f" href="#8b5f">[8b5f]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Y = Cast magic type.</span></span>
<span class="l"><a class="anc" name="8b62" href="#8b62">[8b62]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a></span></span><span class="ce">; Update player state.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Load the magic hit sprite handler for this magic type.
;
</div><span class="l"><a class="anc" name="8b65" href="#8b65">[8b65]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; A = Cast magic type.</span></span>
<span class="l"><a class="anc" name="8b68" href="#8b68">[8b68]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span><span class="ce">; Update to a word boundary for the lookup table.</span></span>
<span class="l"><a class="anc" name="8b69" href="#8b69">[8b69]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"><a class="anc" name="8b6a" href="#8b6a">[8b6a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a>+1,Y</span></span><span class="ce">; Load the next address from the lookup table.</span></span>
<span class="l"><a class="anc" name="8b6d" href="#8b6d">[8b6d]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="8b6e" href="#8b6e">[8b6e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8b71" href="#8b71">[8b71]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HitHandler_NoOp"></a><div class="cp">;============================================================================
; TODO: Document CastMagic_HitHandler_NoOp
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb19]
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb1b]
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb1d]
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb1f]
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb21]
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb23]
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb25]
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="8b72" href="#8b72">[8b72]</a><a href="#CastMagic_HitHandler_NoOp" class="la">CastMagic_HitHandler_NoOp:</a><span class="ce">; [$8b72]</span></span>
<span class="l"><a class="anc" name="8b72" href="#8b72">[8b72]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="CAST_MAGIC_HIT_WIDTHS"></a><div class="cp">;============================================================================
; Hitbox widths for each magic type.
;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;
</div><span class="l"><a class="anc" name="8b73" href="#8b73">[8b73]</a><a href="#CAST_MAGIC_HIT_WIDTHS" class="la">CAST_MAGIC_HIT_WIDTHS:</a><span class="ce">; [$8b73]</span></span>
<span class="l"><a class="anc" name="8b73" href="#8b73">[8b73]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [0]: Deluge (11)</span></span>
<span class="l"><a class="anc" name="8b74" href="#8b74">[8b74]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [1]: Thunder (11)</span></span>
<span class="l"><a class="anc" name="8b75" href="#8b75">[8b75]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1b</span></span><span class="ce">; [2]: Fire (27)</span></span>
<span class="l"><a class="anc" name="8b76" href="#8b76">[8b76]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [3]: Death (11)</span></span>
<span class="l"><a class="anc" name="8b77" href="#8b77">[8b77]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [4]: Tilte (11)</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="CAST_MAGIC_HIT_HEIGHTS"></a><div class="cp">;============================================================================
; Hitbox widths for each magic type.
;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;
</div><span class="l"><a class="anc" name="8b78" href="#8b78">[8b78]</a><a href="#CAST_MAGIC_HIT_HEIGHTS" class="la">CAST_MAGIC_HIT_HEIGHTS:</a><span class="ce">; [$8b78]</span></span>
<span class="l"><a class="anc" name="8b78" href="#8b78">[8b78]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [0]: Deluge (11)</span></span>
<span class="l"><a class="anc" name="8b79" href="#8b79">[8b79]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1b</span></span><span class="ce">; [1]: Thunder (27)</span></span>
<span class="l"><a class="anc" name="8b7a" href="#8b7a">[8b7a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [2]: Fire (11)</span></span>
<span class="l"><a class="anc" name="8b7b" href="#8b7b">[8b7b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [3]: Death (11)</span></span>
<span class="l"><a class="anc" name="8b7c" href="#8b7c">[8b7c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [4]: Tilte (11)</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="CAST_MAGIC_HIT_BEHAVIORS"></a><div class="cp">;============================================================================
; Magic behaviors for each magic type.
;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;
</div><span class="l"><a class="anc" name="8b7d" href="#8b7d">[8b7d]</a><a href="#CAST_MAGIC_HIT_BEHAVIORS" class="la">CAST_MAGIC_HIT_BEHAVIORS:</a><span class="ce">; [$8b7d]</span></span>
<span class="l"><a class="anc" name="8b7d" href="#8b7d">[8b7d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]: Deluge (0)</span></span>
<span class="l"><a class="anc" name="8b7e" href="#8b7e">[8b7e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]: Thunder (1)</span></span>
<span class="l"><a class="anc" name="8b7f" href="#8b7f">[8b7f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]: Fire (2)</span></span>
<span class="l"><a class="anc" name="8b80" href="#8b80">[8b80]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [3]: Death (none)</span></span>
<span class="l"><a class="anc" name="8b81" href="#8b81">[8b81]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [4]: Tilte (none)</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="CAST_MAGIC_HIT_IFRAMES"></a><div class="cp">;============================================================================
; Hit iframe time for each magic type.
;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;
</div><span class="l"><a class="anc" name="8b82" href="#8b82">[8b82]</a><a href="#CAST_MAGIC_HIT_IFRAMES" class="la">CAST_MAGIC_HIT_IFRAMES:</a><span class="ce">; [$8b82]</span></span>
<span class="l"><a class="anc" name="8b82" href="#8b82">[8b82]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [0]: Deluge (4)</span></span>
<span class="l"><a class="anc" name="8b83" href="#8b83">[8b83]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [1]: Thunder (8)</span></span>
<span class="l"><a class="anc" name="8b84" href="#8b84">[8b84]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [2]: Fire (none)</span></span>
<span class="l"><a class="anc" name="8b85" href="#8b85">[8b85]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [3]: Death (none)</span></span>
<span class="l"><a class="anc" name="8b86" href="#8b86">[8b86]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [4]: Tilte (none)</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_AddExperienceFromSprite"></a><div class="cp">;============================================================================
; Add player experience based on the current sprite.
;
; This will calculate the 24-bit enemy experience for a
; sprite and add it to the player's experience.
;
; INPUTS:
;     X:
;         The index of the sprite whose experience will be
;         added.
;
; OUTPUTS:
;     X:
;         The current sprite index.
;
;     <a href="RAM.html#Temp_Int24">Temp_Int24</a>:
;     <a href="RAM.html#Temp_Int24">Temp_Int24</a>+1:
;         Clobbered.
;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="8b87" href="#8b87">[8b87]</a><a href="#Player_AddExperienceFromSprite" class="la">Player_AddExperienceFromSprite:</a><span class="ce">; [$8b87]</span></span>
<span class="l"><a class="anc" name="8b87" href="#8b87">[8b87]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Load the current enemy sprite type.</span></span>
<span class="l"><a class="anc" name="8b8a" href="#8b8a">[8b8a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#ENEMY_EXPERIENCE">ENEMY_EXPERIENCE</a>,Y</span></span><span class="ce">; Load the experience for that type.</span></span>
<span class="l"><a class="anc" name="8b8d" href="#8b8d">[8b8d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Int24">Temp_Int24</a></span></span><span class="ce">; Store as the lower byte of the experience.</span></span>
<span class="l"><a class="anc" name="8b8f" href="#8b8f">[8b8f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8b91" href="#8b91">[8b91]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Int24_M">Temp_Int24_M</a></span></span><span class="ce">; Store 0 as the middle byte.</span></span>
<span class="l"><a class="anc" name="8b93" href="#8b93">[8b93]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_UpdateExperience">Player_UpdateExperience</a></span></span><span class="ce">; Update the player's experience.</span></span>
<span class="l"><a class="anc" name="8b96" href="#8b96">[8b96]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8b99" href="#8b99">[8b99]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchCoin"></a><div class="cp">;============================================================================
; Handle touching a gold coin.
;
; This will play the sound when picking up a coin,
; update the 24-bit gold amount, and then render to the
; screen.
;
; INPUTS:
;     A:
;         The index of the coin sprite.
;
; OUTPUTS:
;     X:
;         The current sprite index.
;
;     <a href="RAM.html#Gold_M">Gold_M</a>:
;         The new middle byte for the gold.
;
;     <a href="RAM.html#Gold">Gold</a>:
;         The new lower byte for the gold.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;     <a href="PRG15_MIRROR.html#UI_DrawGoldValue">UI_DrawGoldValue</a>
;
; XREFS:
;     <a href="#Player_HandleTouchBreadOrCoin">Player_HandleTouchBreadOrCoin</a>
;============================================================================
</div><span class="l"><a class="anc" name="8b9a" href="#8b9a">[8b9a]</a><a href="#Player_HandleTouchCoin" class="la">Player_HandleTouchCoin:</a><span class="ce">; [$8b9a]</span></span>
<span class="l"><a class="anc" name="8b9a" href="#8b9a">[8b9a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="8b9c" href="#8b9c">[8b9c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play sound 9 (coin touched).</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Update the lower byte of the gold.
;
</div><span class="l"><a class="anc" name="8b9f" href="#8b9f">[8b9f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Gold">Gold</a></span></span><span class="ce">; Load the lower byte of the gold.</span></span>
<span class="l"><a class="anc" name="8ba2" href="#8ba2">[8ba2]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8ba3" href="#8ba3">[8ba3]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>,X</span></span><span class="ce">; Add the value of the coin;
Set Carry = overflow.</span></span>
<span class="l"><a class="anc" name="8ba6" href="#8ba6">[8ba6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Gold">Gold</a></span></span><span class="ce">; Store as the lower byte.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Update the middle byte of the gold.
;
</div><span class="l"><a class="anc" name="8ba9" href="#8ba9">[8ba9]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Gold_M">Gold_M</a></span></span><span class="ce">; Load the middle byte for the gold.</span></span>
<span class="l"><a class="anc" name="8bac" href="#8bac">[8bac]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$00</span></span><span class="ce">; Add with carry, set the carry bit if overflow.</span></span>
<span class="l"><a class="anc" name="8bae" href="#8bae">[8bae]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Gold_M">Gold_M</a></span></span><span class="ce">; Store as the middle byte.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Update the upper byte of the gold.
;
</div><span class="l"><a class="anc" name="8bb1" href="#8bb1">[8bb1]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Gold_U">Gold_U</a></span></span><span class="ce">; Load the upper byte for the gold.</span></span>
<span class="l"><a class="anc" name="8bb4" href="#8bb4">[8bb4]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$00</span></span><span class="ce">; Add with carry, set carry bit if overflow.</span></span>
<span class="l"><a class="anc" name="8bb6" href="#8bb6">[8bb6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Gold_U">Gold_U</a></span></span><span class="ce">; Store as the upper byte.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Render and prepare to return.
;
</div><span class="l"><a class="anc" name="8bb9" href="#8bb9">[8bb9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#UI_DrawGoldValue">UI_DrawGoldValue</a></span></span><span class="ce">; Render the new gold amount.</span></span>
<span class="l"><a class="anc" name="8bbc" href="#8bbc">[8bbc]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Set X = current sprite index.</span></span>
<span class="l"><a class="anc" name="8bbf" href="#8bbf">[8bbf]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_HandleTouchBread"></a><div class="cp">;============================================================================
; Handle touching bread.
;
; This will play the sound when picking up bread and
; update the player's health.
;
; INPUTS:
;     @{symbol CurrentSpriteValues}:
;         The values of the current sprites on the screen.
;
; OUTPUTS:
;     None.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;     <a href="PRG15_MIRROR.html#Player_AddHP">Player_AddHP</a>
;
; XREFS:
;     <a href="#Player_HandleTouchBreadOrCoin">Player_HandleTouchBreadOrCoin</a>
;============================================================================
</div><span class="l"><a class="anc" name="8bc0" href="#8bc0">[8bc0]</a><a href="#Player_HandleTouchBread" class="la">Player_HandleTouchBread:</a><span class="ce">; [$8bc0]</span></span>
<span class="l"><a class="anc" name="8bc0" href="#8bc0">[8bc0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$1b</span></span></span>
<span class="l"><a class="anc" name="8bc2" href="#8bc2">[8bc2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play sound 0x1B (pick up meat).</span></span>
<span class="l"><a class="anc" name="8bc5" href="#8bc5">[8bc5]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Load the current sprite index for meat.</span></span>
<span class="l"><a class="anc" name="8bc8" href="#8bc8">[8bc8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>,X</span></span><span class="ce">; Load the HP value for it.</span></span>
<span class="l"><a class="anc" name="8bcb" href="#8bcb">[8bcb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_AddHP">Player_AddHP</a></span></span><span class="ce">; Add it to the player's HP.</span></span>
<span class="l"><a class="anc" name="8bce" href="#8bce">[8bce]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8bd1" href="#8bd1">[8bd1]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="CurrentSprite_UpdateState"></a><div class="cp">;============================================================================
; TODO: Document CurrentSprite_UpdateState
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprites_UpdateAllStates">Sprites_UpdateAllStates</a>
;     <a href="#_updateSpriteState">_updateSpriteState</a> [$PRG14::8040]
;============================================================================
</div><span class="l"><a class="anc" name="8bd2" href="#8bd2">[8bd2]</a><a href="#CurrentSprite_UpdateState" class="la">CurrentSprite_UpdateState:</a><span class="ce">; [$8bd2]</span></span>
<span class="l"><a class="anc" name="8bd2" href="#8bd2">[8bd2]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#IScript_PortraitID">IScript_PortraitID</a></span></span></span>
<span class="l"><a class="anc" name="8bd5" href="#8bd5">[8bd5]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if this sprite is set.
;
</div><span class="l"><a class="anc" name="8bd7" href="#8bd7">[8bd7]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Current sprite index</span></span>
<span class="l"><a class="anc" name="8bda" href="#8bda">[8bda]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Y = Current sprite entity</span></span>
<span class="l"><a class="anc" name="8bdd" href="#8bdd">[8bdd]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If unset, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if this sprite is specifically Tamazutsu. It hides and
; won't be affected when hidden.
;
</div><span class="l"><a class="anc" name="8bdf" href="#8bdf">[8bdf]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$2c</span></span><span class="ce">; Check the sprite against Tamazutsu.</span></span>
<span class="l"><a class="anc" name="8be1" href="#8be1">[8be1]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_notTamazutsu">@_notTamazutsu</a></span></span><span class="ce">; If not, handle the enemy normally.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is Tamazutsu. Check if it's visible or hiding.
;
</div><span class="l"><a class="anc" name="8be3" href="#8be3">[8be3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IsSpriteHidden">Sprites_IsSpriteHidden</a></span></span></span>
<span class="l"><a class="anc" name="8be6" href="#8be6">[8be6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":8be8:@_notTamazutsu"></a><div class="c">;
; Check the sprites hit counter. We'll do further updating
; for 2 frames, then stop for 2 frames, and rinse and repeat.
;
</div><span class="l"><a class="anc" name="8be8" href="#8be8">[8be8]</a><a href="#:8be8:@_notTamazutsu" class="lla">@_notTamazutsu:</a><span class="ce">; [$8be8]</span></span>
<span class="l"><a class="anc" name="8be8" href="#8be8">[8be8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,X</span></span></span>
<span class="l"><a class="anc" name="8beb" href="#8beb">[8beb]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8bed" href="#8bed">[8bed]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Update sprite state.
;
</div><span class="l"><a class="anc" name="8bef" href="#8bef">[8bef]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8bf1" href="#8bf1">[8bf1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="8bf3" href="#8bf3">[8bf3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8bf5" href="#8bf5">[8bf5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="8bf7" href="#8bf7">[8bf7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Screen_Maybe_ScrollXCounter">Screen_Maybe_ScrollXCounter</a></span></span></span>
<span class="l"><a class="anc" name="8bf9" href="#8bf9">[8bf9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Unused_Sprite_ScrollPosX">Unused_Sprite_ScrollPosX</a></span></span></span>
<span class="l"><a class="anc" name="8bfb" href="#8bfb">[8bfb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Something_ScrollPosY">Player_Something_ScrollPosY</a></span></span></span>
<span class="l"><a class="anc" name="8bfd" href="#8bfd">[8bfd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Unused_Sprite_ScrollPosY">Unused_Sprite_ScrollPosY</a></span></span></span>
<span class="l"><a class="anc" name="8bff" href="#8bff">[8bff]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c02" href="#8c02">[8c02]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="8c04" href="#8c04">[8c04]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_CalculateVisibility">CurrentSprite_CalculateVisibility</a></span></span></span>
<span class="l"><a class="anc" name="8c07" href="#8c07">[8c07]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8c0a" href="#8c0a">[8c0a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c0d" href="#8c0d">[8c0d]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8c0e" href="#8c0e">[8c0e]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8c0f" href="#8c0f">[8c0f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="8c12" href="#8c12">[8c12]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="8c13" href="#8c13">[8c13]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8c16" href="#8c16">[8c16]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"></span>
<a name=":8c17:@_return"></a><span class="l"><a class="anc" name="8c17" href="#8c17">[8c17]</a><a href="#:8c17:@_return" class="lla">@_return:</a><span class="ce">; [$8c17]</span></span>
<span class="l"><a class="anc" name="8c17" href="#8c17">[8c17]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITES_FACING_TO_FLIPMASK"></a><div class="cp">;============================================================================
; A mapping between a sprite's facing bit to a flipmask.
;
; Sprites store a facing bit in bit 0.
;
; Flipmasks store a flip bit in bit 7.
;
; XREFS:
;     <a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a>
;
</div><span class="l"><a class="anc" name="8c18" href="#8c18">[8c18]</a><a href="#SPRITES_FACING_TO_FLIPMASK" class="la">SPRITES_FACING_TO_FLIPMASK:</a><span class="ce">; [$8c18]</span></span>
<span class="l"><a class="anc" name="8c18" href="#8c18">[8c18]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8c19" href="#8c19">[8c19]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="CurrentSprite_CalculateVisibility"></a><div class="cp">;============================================================================
; TODO: Document CurrentSprite_CalculateVisibility
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CurrentSprite_UpdateState">CurrentSprite_UpdateState</a>
;============================================================================
</div><span class="l"><a class="anc" name="8c1a" href="#8c1a">[8c1a]</a><a href="#CurrentSprite_CalculateVisibility" class="la">CurrentSprite_CalculateVisibility:</a><span class="ce">; [$8c1a]</span></span>
<span class="l"><a class="anc" name="8c1a" href="#8c1a">[8c1a]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8c1d" href="#8c1d">[8c1d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8c1f" href="#8c1f">[8c1f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Get the Y position of the current sprite and store
; as an argument for the ConvertPixelsToBlockPos() call.
;
</div><span class="l"><a class="anc" name="8c21" href="#8c21">[8c21]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c23" href="#8c23">[8c23]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Get the X position of the current sprite and store
; as an argument for the ConvertPixelsToBlockPos() call.
;
</div><span class="l"><a class="anc" name="8c25" href="#8c25">[8c25]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c27" href="#8c27">[8c27]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8c28" href="#8c28">[8c28]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8c2a" href="#8c2a">[8c2a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Convert to a block position.
;
</div><span class="l"><a class="anc" name="8c2c" href="#8c2c">[8c2c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="8c2f" href="#8c2f">[8c2f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_LoadBlockProperty">ScreenBuffer_LoadBlockProperty</a></span></span></span>
<span class="l"><a class="anc" name="8c32" href="#8c32">[8c32]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8c34" href="#8c34">[8c34]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8c3e">@LAB_PRG14__8c3e</a></span></span></span>
<span class="l"><a class="anc" name="8c36" href="#8c36">[8c36]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0d</span></span></span>
<span class="l"><a class="anc" name="8c38" href="#8c38">[8c38]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8c3e">@LAB_PRG14__8c3e</a></span></span></span>
<span class="l"><a class="anc" name="8c3a" href="#8c3a">[8c3a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="8c3c" href="#8c3c">[8c3c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8c44">@LAB_PRG14__8c44</a></span></span></span>
<span class="l"></span>
<a name=":8c3e:@LAB_PRG14__8c3e"></a><span class="l"><a class="anc" name="8c3e" href="#8c3e">[8c3e]</a><a href="#:8c3e:@LAB_PRG14__8c3e" class="lla">@LAB_PRG14__8c3e:</a><span class="ce">; [$8c3e]</span></span>
<span class="l"><a class="anc" name="8c3e" href="#8c3e">[8c3e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="8c40" href="#8c40">[8c40]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8c42" href="#8c42">[8c42]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<a name=":8c44:@LAB_PRG14__8c44"></a><span class="l"><a class="anc" name="8c44" href="#8c44">[8c44]</a><a href="#:8c44:@LAB_PRG14__8c44" class="lla">@LAB_PRG14__8c44:</a><span class="ce">; [$8c44]</span></span>
<span class="l"><a class="anc" name="8c44" href="#8c44">[8c44]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8c47" href="#8c47">[8c47]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c49" href="#8c49">[8c49]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8c4a" href="#8c4a">[8c4a]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0c</span></span></span>
<span class="l"><a class="anc" name="8c4c" href="#8c4c">[8c4c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="8c4e" href="#8c4e">[8c4e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="8c51" href="#8c51">[8c51]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_LoadBlockProperty">ScreenBuffer_LoadBlockProperty</a></span></span></span>
<span class="l"><a class="anc" name="8c54" href="#8c54">[8c54]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8c56" href="#8c56">[8c56]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8c60">@LAB_PRG14__8c60</a></span></span></span>
<span class="l"><a class="anc" name="8c58" href="#8c58">[8c58]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0d</span></span></span>
<span class="l"><a class="anc" name="8c5a" href="#8c5a">[8c5a]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8c60">@LAB_PRG14__8c60</a></span></span></span>
<span class="l"><a class="anc" name="8c5c" href="#8c5c">[8c5c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="8c5e" href="#8c5e">[8c5e]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8c66">@LAB_PRG14__8c66</a></span></span></span>
<span class="l"></span>
<a name=":8c60:@LAB_PRG14__8c60"></a><span class="l"><a class="anc" name="8c60" href="#8c60">[8c60]</a><a href="#:8c60:@LAB_PRG14__8c60" class="lla">@LAB_PRG14__8c60:</a><span class="ce">; [$8c60]</span></span>
<span class="l"><a class="anc" name="8c60" href="#8c60">[8c60]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="8c62" href="#8c62">[8c62]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8c64" href="#8c64">[8c64]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<a name=":8c66:@LAB_PRG14__8c66"></a><span class="l"><a class="anc" name="8c66" href="#8c66">[8c66]</a><a href="#:8c66:@LAB_PRG14__8c66" class="lla">@LAB_PRG14__8c66:</a><span class="ce">; [$8c66]</span></span>
<span class="l"><a class="anc" name="8c66" href="#8c66">[8c66]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8c69" href="#8c69">[8c69]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c6c" href="#8c6c">[8c6c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8c6e" href="#8c6e">[8c6e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8c7d">@LAB_PRG14__8c7d</a></span></span></span>
<span class="l"><a class="anc" name="8c70" href="#8c70">[8c70]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="8c72" href="#8c72">[8c72]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Something_SetDAT26">Something_SetDAT26</a></span></span></span>
<span class="l"><a class="anc" name="8c74" href="#8c74">[8c74]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8c76" href="#8c76">[8c76]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Something_SetDAT26">Something_SetDAT26</a></span></span></span>
<span class="l"><a class="anc" name="8c78" href="#8c78">[8c78]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8c7a" href="#8c7a">[8c7a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Something_SetDAT26">Something_SetDAT26</a></span></span></span>
<span class="l"></span>
<a name=":8c7d:@LAB_PRG14__8c7d"></a><span class="l"><a class="anc" name="8c7d" href="#8c7d">[8c7d]</a><a href="#:8c7d:@LAB_PRG14__8c7d" class="lla">@LAB_PRG14__8c7d:</a><span class="ce">; [$8c7d]</span></span>
<span class="l"><a class="anc" name="8c7d" href="#8c7d">[8c7d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<a name="Something_SetDAT26"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CalculateVisibility">CurrentSprite_CalculateVisibility</a>
;
</div><span class="l"><a class="anc" name="8c7f" href="#8c7f">[8c7f]</a><a href="#Something_SetDAT26" class="la">Something_SetDAT26:</a><span class="ce">; [$8c7f]</span></span>
<span class="l"><a class="anc" name="8c7f" href="#8c7f">[8c7f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#MovingSpriteVisibility">MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="8c81" href="#8c81">[8c81]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CurrentSprite_UpdateFlipMask"></a><div class="cp">;============================================================================
; Set a sprite's flip mask based on the direction its facing.
;
; INPUTS:
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The flags for the current sprites.
;
;     <a href="#SPRITES_FACING_TO_FLIPMASK">SPRITES_FACING_TO_FLIPMASK</a>:
;         The mapping table from a sprite's facing bit to
;         flipmask values.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a>:
;         The resulting flipmask value.
;
; XREFS:
;     <a href="#SpriteUpdateHandler_Boss_Borabohra">SpriteUpdateHandler_Boss_Borabohra</a>
;     <a href="#SpriteUpdateHandler_Boss_KingGrieve">SpriteUpdateHandler_Boss_KingGrieve</a>
;     <a href="#SpriteUpdateHandler_Boss_Ripasheiku">SpriteUpdateHandler_Boss_Ripasheiku</a>
;     <a href="#SpriteUpdateHandler_Boss_ShadowEura">SpriteUpdateHandler_Boss_ShadowEura</a>
;     <a href="#SpriteUpdateHandler_Boss_Zoradohna">SpriteUpdateHandler_Boss_Zoradohna</a>
;     <a href="#SpriteUpdateHandler_Boss_Zorugeriru">SpriteUpdateHandler_Boss_Zorugeriru</a>
;     <a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>
;     <a href="#SpriteUpdateHandler_EnemyMagic">SpriteUpdateHandler_EnemyMagic</a>
;     <a href="#SpriteUpdateHandler_Enemy_Bihoruda">SpriteUpdateHandler_Enemy_Bihoruda</a>
;     <a href="#SpriteUpdateHandler_Enemy_Charron">SpriteUpdateHandler_Enemy_Charron</a>
;     <a href="#SpriteUpdateHandler_Enemy_ExecutionHood">SpriteUpdateHandler_Enemy_ExecutionHood</a>
;     <a href="#SpriteUpdateHandler_Enemy_FireGiant">SpriteUpdateHandler_Enemy_FireGiant</a>
;     <a href="#SpriteUpdateHandler_Enemy_Geributa">SpriteUpdateHandler_Enemy_Geributa</a>
;     <a href="#SpriteUpdateHandler_Enemy_GiantBees">SpriteUpdateHandler_Enemy_GiantBees</a>
;     <a href="#SpriteUpdateHandler_Enemy_GiantStrider">SpriteUpdateHandler_Enemy_GiantStrider</a>
;     <a href="#SpriteUpdateHandler_Enemy_Grimlock">SpriteUpdateHandler_Enemy_Grimlock</a>
;     <a href="#SpriteUpdateHandler_Enemy_Hornet">SpriteUpdateHandler_Enemy_Hornet</a>
;     <a href="#SpriteUpdateHandler_Enemy_Ikeda">SpriteUpdateHandler_Enemy_Ikeda</a>
;     <a href="#SpriteUpdateHandler_Enemy_Ishiisu">SpriteUpdateHandler_Enemy_Ishiisu</a>
;     <a href="#SpriteUpdateHandler_Enemy_Lamprey">SpriteUpdateHandler_Enemy_Lamprey</a>
;     <a href="#SpriteUpdateHandler_Enemy_Lilith">SpriteUpdateHandler_Enemy_Lilith</a>
;     <a href="#SpriteUpdateHandler_Enemy_Magman">SpriteUpdateHandler_Enemy_Magman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Maskman">SpriteUpdateHandler_Enemy_Maskman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Monodron">SpriteUpdateHandler_Enemy_Monodron</a>
;     <a href="#SpriteUpdateHandler_Enemy_MuppetGuy">SpriteUpdateHandler_Enemy_MuppetGuy</a>
;     <a href="#SpriteUpdateHandler_Enemy_Myconid">SpriteUpdateHandler_Enemy_Myconid</a>
;     <a href="#SpriteUpdateHandler_Enemy_Naga">SpriteUpdateHandler_Enemy_Naga</a>
;     <a href="#SpriteUpdateHandler_Enemy_Nash">SpriteUpdateHandler_Enemy_Nash</a>
;     <a href="#SpriteUpdateHandler_Enemy_NecronAides">SpriteUpdateHandler_Enemy_NecronAides</a>
;     <a href="#SpriteUpdateHandler_Enemy_Raiden">SpriteUpdateHandler_Enemy_Raiden</a>
;     <a href="#SpriteUpdateHandler_Enemy_SirGawaine_Wolfman">SpriteUpdateHandler_Enemy_SirGawaine_Wolfman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Snowman">SpriteUpdateHandler_Enemy_Snowman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Sugata">SpriteUpdateHandler_Enemy_Sugata</a>
;     <a href="#SpriteUpdateHandler_Enemy_Tamazutsu">SpriteUpdateHandler_Enemy_Tamazutsu</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused29">SpriteUpdateHandler_Enemy_Unused29</a>
;     <a href="#SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura">SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused_CurlyTail">SpriteUpdateHandler_Enemy_Unused_CurlyTail</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart">SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused_WingedSkeleton">SpriteUpdateHandler_Enemy_Unused_WingedSkeleton</a>
;     <a href="#SpriteUpdateHandler_Enemy_Yareeka">SpriteUpdateHandler_Enemy_Yareeka</a>
;     <a href="#SpriteUpdateHandler_Enemy_Yuinaru">SpriteUpdateHandler_Enemy_Yuinaru</a>
;     <a href="#SpriteUpdateHandler_Enemy_Zombie">SpriteUpdateHandler_Enemy_Zombie</a>
;     <a href="#SpriteUpdateHandler_Garbled03">SpriteUpdateHandler_Garbled03</a>
;     <a href="#SpriteUpdateHandler_NPC_MagicTeacher">SpriteUpdateHandler_NPC_MagicTeacher</a>
;     <a href="#SpriteUpdateHandler_NPC_MartialArts">SpriteUpdateHandler_NPC_MartialArts</a>
;     <a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>
;     <a href="#SpriteUpdateHandler_NPC_Priest">SpriteUpdateHandler_NPC_Priest</a>
;     <a href="#SpriteUpdateHandler_NPC_Walking">SpriteUpdateHandler_NPC_Walking</a>
;     <a href="#SpriteUpdateHandler_TODO_Garbled10">SpriteUpdateHandler_TODO_Garbled10</a>
;============================================================================
</div><span class="l"><a class="anc" name="8c82" href="#8c82">[8c82]</a><a href="#CurrentSprite_UpdateFlipMask" class="la">CurrentSprite_UpdateFlipMask:</a><span class="ce">; [$8c82]</span></span>
<span class="l"><a class="anc" name="8c82" href="#8c82">[8c82]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load flags for this sprite.</span></span>
<span class="l"><a class="anc" name="8c85" href="#8c85">[8c85]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span><span class="ce">; AND for the facing bit.</span></span>
<span class="l"><a class="anc" name="8c87" href="#8c87">[8c87]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = result</span></span>
<span class="l"><a class="anc" name="8c88" href="#8c88">[8c88]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITES_FACING_TO_FLIPMASK">SPRITES_FACING_TO_FLIPMASK</a>,Y</span></span><span class="ce">; Load the bitmask from the mapping table.</span></span>
<span class="l"><a class="anc" name="8c8b" href="#8c8b">[8c8b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="8c8d" href="#8c8d">[8c8d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_EnterNextAppearancePhase"></a><div class="cp">;============================================================================
; TODO: Document Sprite_EnterNextAppearancePhase
;
; INPUTS:
;     A
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__a2eb">FUN_PRG14__a2eb</a>
;     <a href="#SpriteUpdateHandler_Boss_Borabohra">SpriteUpdateHandler_Boss_Borabohra</a>
;     <a href="#SpriteUpdateHandler_Boss_KingGrieve">SpriteUpdateHandler_Boss_KingGrieve</a>
;     <a href="#SpriteUpdateHandler_Boss_Pakukame">SpriteUpdateHandler_Boss_Pakukame</a>
;     <a href="#SpriteUpdateHandler_Boss_Ripasheiku">SpriteUpdateHandler_Boss_Ripasheiku</a>
;     <a href="#SpriteUpdateHandler_Boss_Rokusutahn">SpriteUpdateHandler_Boss_Rokusutahn</a>
;     <a href="#SpriteUpdateHandler_Boss_ShadowEura">SpriteUpdateHandler_Boss_ShadowEura</a>
;     <a href="#SpriteUpdateHandler_Boss_Zoradohna">SpriteUpdateHandler_Boss_Zoradohna</a>
;     <a href="#SpriteUpdateHandler_Boss_Zorugeriru">SpriteUpdateHandler_Boss_Zorugeriru</a>
;     <a href="#SpriteUpdateHandler_Bread">SpriteUpdateHandler_Bread</a>
;     <a href="#SpriteUpdateHandler_Coin">SpriteUpdateHandler_Coin</a>
;     <a href="#SpriteUpdateHandler_Effect_EnemyDeath">SpriteUpdateHandler_Effect_EnemyDeath</a>
;     <a href="#SpriteUpdateHandler_Effect_Fountain">SpriteUpdateHandler_Effect_Fountain</a>
;     <a href="#SpriteUpdateHandler_Effect_LightningBall20">SpriteUpdateHandler_Effect_LightningBall20</a>
;     <a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>
;     <a href="#SpriteUpdateHandler_EnemyMagic">SpriteUpdateHandler_EnemyMagic</a>
;     <a href="#SpriteUpdateHandler_Enemy_Bihoruda">SpriteUpdateHandler_Enemy_Bihoruda</a>
;     <a href="#SpriteUpdateHandler_Enemy_Charron">SpriteUpdateHandler_Enemy_Charron</a>
;     <a href="#SpriteUpdateHandler_Enemy_ExecutionHood">SpriteUpdateHandler_Enemy_ExecutionHood</a>
;     <a href="#SpriteUpdateHandler_Enemy_FireGiant">SpriteUpdateHandler_Enemy_FireGiant</a>
;     <a href="#SpriteUpdateHandler_Enemy_Geributa">SpriteUpdateHandler_Enemy_Geributa</a>
;     <a href="#SpriteUpdateHandler_Enemy_GiantBees">SpriteUpdateHandler_Enemy_GiantBees</a>
;     <a href="#SpriteUpdateHandler_Enemy_GiantStrider">SpriteUpdateHandler_Enemy_GiantStrider</a>
;     <a href="#SpriteUpdateHandler_Enemy_Grimlock">SpriteUpdateHandler_Enemy_Grimlock</a>
;     <a href="#SpriteUpdateHandler_Enemy_Hornet">SpriteUpdateHandler_Enemy_Hornet</a>
;     <a href="#SpriteUpdateHandler_Enemy_Ikeda">SpriteUpdateHandler_Enemy_Ikeda</a>
;     <a href="#SpriteUpdateHandler_Enemy_Ishiisu">SpriteUpdateHandler_Enemy_Ishiisu</a>
;     <a href="#SpriteUpdateHandler_Enemy_Lamprey">SpriteUpdateHandler_Enemy_Lamprey</a>
;     <a href="#SpriteUpdateHandler_Enemy_Lilith">SpriteUpdateHandler_Enemy_Lilith</a>
;     <a href="#SpriteUpdateHandler_Enemy_Magman">SpriteUpdateHandler_Enemy_Magman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Maskman">SpriteUpdateHandler_Enemy_Maskman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Monodron">SpriteUpdateHandler_Enemy_Monodron</a>
;     <a href="#SpriteUpdateHandler_Enemy_MuppetGuy">SpriteUpdateHandler_Enemy_MuppetGuy</a>
;     <a href="#SpriteUpdateHandler_Enemy_Myconid">SpriteUpdateHandler_Enemy_Myconid</a>
;     <a href="#SpriteUpdateHandler_Enemy_Naga">SpriteUpdateHandler_Enemy_Naga</a>
;     <a href="#SpriteUpdateHandler_Enemy_Nash">SpriteUpdateHandler_Enemy_Nash</a>
;     <a href="#SpriteUpdateHandler_Enemy_NecronAides">SpriteUpdateHandler_Enemy_NecronAides</a>
;     <a href="#SpriteUpdateHandler_Enemy_Raiden">SpriteUpdateHandler_Enemy_Raiden</a>
;     <a href="#SpriteUpdateHandler_Enemy_SirGawaine_Wolfman">SpriteUpdateHandler_Enemy_SirGawaine_Wolfman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Snowman">SpriteUpdateHandler_Enemy_Snowman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Sugata">SpriteUpdateHandler_Enemy_Sugata</a>
;     <a href="#SpriteUpdateHandler_Enemy_Tamazutsu">SpriteUpdateHandler_Enemy_Tamazutsu</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused29">SpriteUpdateHandler_Enemy_Unused29</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused_CurlyTail">SpriteUpdateHandler_Enemy_Unused_CurlyTail</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart">SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart</a>
;     <a href="#SpriteUpdateHandler_Enemy_Unused_WingedSkeleton">SpriteUpdateHandler_Enemy_Unused_WingedSkeleton</a>
;     <a href="#SpriteUpdateHandler_Enemy_Yareeka">SpriteUpdateHandler_Enemy_Yareeka</a>
;     <a href="#SpriteUpdateHandler_Enemy_Yuinaru">SpriteUpdateHandler_Enemy_Yuinaru</a>
;     <a href="#SpriteUpdateHandler_Enemy_Zombie">SpriteUpdateHandler_Enemy_Zombie</a>
;     <a href="#SpriteUpdateHandler_Garbled03">SpriteUpdateHandler_Garbled03</a>
;     <a href="#SpriteUpdateHandler_Item_Special">SpriteUpdateHandler_Item_Special</a>
;     <a href="#SpriteUpdateHandler_Item_Standard">SpriteUpdateHandler_Item_Standard</a>
;     <a href="#SpriteUpdateHandler_Magic_81">SpriteUpdateHandler_Magic_81</a>
;     <a href="#SpriteUpdateHandler_Magic_83">SpriteUpdateHandler_Magic_83</a>
;     <a href="#SpriteUpdateHandler_NPC_ArmorSalesman">SpriteUpdateHandler_NPC_ArmorSalesman</a>
;     <a href="#SpriteUpdateHandler_NPC_King">SpriteUpdateHandler_NPC_King</a>
;     <a href="#SpriteUpdateHandler_NPC_MagicTeacher">SpriteUpdateHandler_NPC_MagicTeacher</a>
;     <a href="#SpriteUpdateHandler_NPC_MartialArts">SpriteUpdateHandler_NPC_MartialArts</a>
;     <a href="#SpriteUpdateHandler_NPC_Priest">SpriteUpdateHandler_NPC_Priest</a>
;     <a href="#SpriteUpdateHandler_NPC_Walking">SpriteUpdateHandler_NPC_Walking</a>
;     <a href="#SpriteUpdateHandler_TODO_Garbled10">SpriteUpdateHandler_TODO_Garbled10</a>
;============================================================================
</div><span class="l"><a class="anc" name="8c8e" href="#8c8e">[8c8e]</a><a href="#Sprite_EnterNextAppearancePhase" class="la">Sprite_EnterNextAppearancePhase:</a><span class="ce">; [$8c8e]</span></span>
<span class="l"><a class="anc" name="8c8e" href="#8c8e">[8c8e]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8c8f" href="#8c8f">[8c8f]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8c92" href="#8c92">[8c92]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SPRITE_APPEARANCE_PHASE_OFFSETS">SPRITE_APPEARANCE_PHASE_OFFSETS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8c95" href="#8c95">[8c95]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="PRG15_MIRROR.html#Sprite_SetAppearanceAddrFromOffset">Sprite_SetAppearanceAddrFromOffset</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Invisible"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Invisible
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8087]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80b3]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80d1]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80d9]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8125]
;============================================================================
</div><span class="l"><a class="anc" name="8c98" href="#8c98">[8c98]</a><a href="#SpriteUpdateHandler_Invisible" class="la">SpriteUpdateHandler_Invisible:</a><span class="ce">; [$8c98]</span></span>
<span class="l"><a class="anc" name="8c98" href="#8c98">[8c98]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8c9a" href="#8c9a">[8c9a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="8c9c" href="#8c9c">[8c9c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#MovingSpriteVisibility">MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="8c9e" href="#8c9e">[8c9e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_APPEARANCE_PHASE_OFFSETS"></a><div class="cp">;============================================================================
; Offsets into <a href="PRG7.html#TILEINFO_ENTITY_ADDRS">TILEINFO_ENTITY_ADDRS</a> for each entity.
;
; XREFS:
;     <a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a>
;
</div><span class="l"><a class="anc" name="8c9f" href="#8c9f">[8c9f]</a><a href="#SPRITE_APPEARANCE_PHASE_OFFSETS" class="la">SPRITE_APPEARANCE_PHASE_OFFSETS:</a><span class="ce">; [$8c9f]</span></span>
<span class="l"><a class="anc" name="8c9f" href="#8c9f">[8c9f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8ca0" href="#8ca0">[8ca0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$db</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="8ca1" href="#8ca1">[8ca1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$93</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="8ca2" href="#8ca2">[8ca2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$83</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="8ca3" href="#8ca3">[8ca3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="8ca4" href="#8ca4">[8ca4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="8ca5" href="#8ca5">[8ca5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="8ca6" href="#8ca6">[8ca6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="8ca7" href="#8ca7">[8ca7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="8ca8" href="#8ca8">[8ca8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0e</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="8ca9" href="#8ca9">[8ca9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ef</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="8caa" href="#8caa">[8caa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$13</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="8cab" href="#8cab">[8cab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$15</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="8cac" href="#8cac">[8cac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$17</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="8cad" href="#8cad">[8cad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1a</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="8cae" href="#8cae">[8cae]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1d</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="8caf" href="#8caf">[8caf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$21</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="8cb0" href="#8cb0">[8cb0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$71</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="8cb1" href="#8cb1">[8cb1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$6c</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="8cb2" href="#8cb2">[8cb2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$a9</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="8cb3" href="#8cb3">[8cb3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$a9</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="8cb4" href="#8cb4">[8cb4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$23</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="8cb5" href="#8cb5">[8cb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="8cb6" href="#8cb6">[8cb6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$26</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="8cb7" href="#8cb7">[8cb7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$29</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="8cb8" href="#8cb8">[8cb8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$2b</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="8cb9" href="#8cb9">[8cb9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$2f</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="8cba" href="#8cba">[8cba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$31</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="8cbb" href="#8cbb">[8cbb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$33</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="8cbc" href="#8cbc">[8cbc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$35</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="8cbd" href="#8cbd">[8cbd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$39</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="8cbe" href="#8cbe">[8cbe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="8cbf" href="#8cbf">[8cbf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3f</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="8cc0" href="#8cc0">[8cc0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$44</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="8cc1" href="#8cc1">[8cc1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$47</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="8cc2" href="#8cc2">[8cc2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$49</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="8cc3" href="#8cc3">[8cc3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4b</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="8cc4" href="#8cc4">[8cc4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="8cc5" href="#8cc5">[8cc5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4f</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="8cc6" href="#8cc6">[8cc6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$52</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="8cc7" href="#8cc7">[8cc7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$54</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="8cc8" href="#8cc8">[8cc8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="8cc9" href="#8cc9">[8cc9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$58</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="8cca" href="#8cca">[8cca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$5b</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="8ccb" href="#8ccb">[8ccb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$5d</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="8ccc" href="#8ccc">[8ccc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$79</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="8ccd" href="#8ccd">[8ccd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$75</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="8cce" href="#8cce">[8cce]</a><span class="cd"><span class="i">.byte</span> <span class="o">$64</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="8ccf" href="#8ccf">[8ccf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$7d</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="8cd0" href="#8cd0">[8cd0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$83</span></span><span class="ce">; [49]: Boss: Zorugeriru</span></span>
<span class="l"><a class="anc" name="8cd1" href="#8cd1">[8cd1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">; [50]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="8cd2" href="#8cd2">[8cd2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$89</span></span><span class="ce">; [51]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="8cd3" href="#8cd3">[8cd3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ae</span></span><span class="ce">; [52]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="8cd4" href="#8cd4">[8cd4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$b1</span></span><span class="ce">; [53]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="8cd5" href="#8cd5">[8cd5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$b4</span></span><span class="ce">; [54]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="8cd6" href="#8cd6">[8cd6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$b7</span></span><span class="ce">; [55]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="8cd7" href="#8cd7">[8cd7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$b9</span></span><span class="ce">; [56]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="8cd8" href="#8cd8">[8cd8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$bb</span></span><span class="ce">; [57]: NPC: Guru</span></span>
<span class="l"><a class="anc" name="8cd9" href="#8cd9">[8cd9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$bd</span></span><span class="ce">; [58]: NPC: King</span></span>
<span class="l"><a class="anc" name="8cda" href="#8cda">[8cda]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c1</span></span><span class="ce">; [59]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="8cdb" href="#8cdb">[8cdb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c3</span></span><span class="ce">; [60]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="8cdc" href="#8cdc">[8cdc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c5</span></span><span class="ce">; [61]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="8cdd" href="#8cdd">[8cdd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c7</span></span><span class="ce">; [62]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="8cde" href="#8cde">[8cde]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c9</span></span><span class="ce">; [63]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="8cdf" href="#8cdf">[8cdf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$cb</span></span><span class="ce">; [64]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="8ce0" href="#8ce0">[8ce0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$cd</span></span><span class="ce">; [65]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="8ce1" href="#8ce1">[8ce1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$cf</span></span><span class="ce">; [66]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="8ce2" href="#8ce2">[8ce2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$d1</span></span><span class="ce">; [67]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="8ce3" href="#8ce3">[8ce3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$d3</span></span><span class="ce">; [68]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="8ce4" href="#8ce4">[8ce4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$d5</span></span><span class="ce">; [69]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="8ce5" href="#8ce5">[8ce5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$d7</span></span><span class="ce">; [70]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="8ce6" href="#8ce6">[8ce6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$d9</span></span><span class="ce">; [71]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="8ce7" href="#8ce7">[8ce7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$dc</span></span><span class="ce">; [72]: Item: Glove</span></span>
<span class="l"><a class="anc" name="8ce8" href="#8ce8">[8ce8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$dd</span></span><span class="ce">; [73]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="8ce9" href="#8ce9">[8ce9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$de</span></span><span class="ce">; [74]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="8cea" href="#8cea">[8cea]</a><span class="cd"><span class="i">.byte</span> <span class="o">$df</span></span><span class="ce">; [75]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="8ceb" href="#8ceb">[8ceb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [76]: Item: Poison</span></span>
<span class="l"><a class="anc" name="8cec" href="#8cec">[8cec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e1</span></span><span class="ce">; [77]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="8ced" href="#8ced">[8ced]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e2</span></span><span class="ce">; [78]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="8cee" href="#8cee">[8cee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [79]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="8cef" href="#8cef">[8cef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e3</span></span><span class="ce">; [80]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="8cf0" href="#8cf0">[8cf0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f1</span></span><span class="ce">; [81]: Magic: ?</span></span>
<span class="l"><a class="anc" name="8cf1" href="#8cf1">[8cf1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e8</span></span><span class="ce">; [82]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="8cf2" href="#8cf2">[8cf2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f3</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="8cf3" href="#8cf3">[8cf3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$95</span></span><span class="ce">; [84]: Magic: Enemy Fireball</span></span>
<span class="l"><a class="anc" name="8cf4" href="#8cf4">[8cf4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f6</span></span><span class="ce">; [85]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="8cf5" href="#8cf5">[8cf5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f7</span></span><span class="ce">; [86]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="8cf6" href="#8cf6">[8cf6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8</span></span><span class="ce">; [87]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="8cf7" href="#8cf7">[8cf7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f9</span></span><span class="ce">; [88]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="8cf8" href="#8cf8">[8cf8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fa</span></span><span class="ce">; [89]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="8cf9" href="#8cf9">[8cf9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fb</span></span><span class="ce">; [90]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="8cfa" href="#8cfa">[8cfa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e3</span></span><span class="ce">; [91]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="8cfb" href="#8cfb">[8cfb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f6</span></span><span class="ce">; [92]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="8cfc" href="#8cfc">[8cfc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$df</span></span><span class="ce">; [93]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="8cfd" href="#8cfd">[8cfd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [94]: Item: Poison</span></span>
<span class="l"><a class="anc" name="8cfe" href="#8cfe">[8cfe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$dc</span></span><span class="ce">; [95]: Item: Glove</span></span>
<span class="l"><a class="anc" name="8cff" href="#8cff">[8cff]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e2</span></span><span class="ce">; [96]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="8d00" href="#8d00">[8d00]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e8</span></span><span class="ce">; [97]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="8d01" href="#8d01">[8d01]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e8</span></span><span class="ce">; [98]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="8d02" href="#8d02">[8d02]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e8</span></span><span class="ce">; [99]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="8d03" href="#8d03">[8d03]</a><span class="cd"><span class="i">.byte</span> <span class="o">$a9</span></span><span class="ce">; [100]: Effect: Boss Death</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_MaybeFallingRocks__ClearEntity"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_MaybeFallingRocks__ClearEntity
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;============================================================================
</div><span class="l"><a class="anc" name="8d04" href="#8d04">[8d04]</a><a href="#SpriteBehavior_MaybeFallingRocks__ClearEntity" class="la">SpriteBehavior_MaybeFallingRocks__ClearEntity:</a><span class="ce">; [$8d04]</span></span>
<span class="l"><a class="anc" name="8d04" href="#8d04">[8d04]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="8d06" href="#8d06">[8d06]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d09" href="#8d09">[8d09]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_BounceAndExpire"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_BounceAndExpire
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5eb]
;============================================================================
</div><span class="l"><a class="anc" name="8d0a" href="#8d0a">[8d0a]</a><a href="#SpriteBehavior_BounceAndExpire" class="la">SpriteBehavior_BounceAndExpire:</a><span class="ce">; [$8d0a]</span></span>
<span class="l"><a class="anc" name="8d0a" href="#8d0a">[8d0a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="8d0d" href="#8d0d">[8d0d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8d22">@LAB_PRG14__8d22</a></span></span></span>
<span class="l"><a class="anc" name="8d0f" href="#8d0f">[8d0f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8d11" href="#8d11">[8d11]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d14" href="#8d14">[8d14]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d17" href="#8d17">[8d17]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d1a" href="#8d1a">[8d1a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8d1c" href="#8d1c">[8d1c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d1f" href="#8d1f">[8d1f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":8d22:@LAB_PRG14__8d22"></a><span class="l"><a class="anc" name="8d22" href="#8d22">[8d22]</a><a href="#:8d22:@LAB_PRG14__8d22" class="lla">@LAB_PRG14__8d22:</a><span class="ce">; [$8d22]</span></span>
<span class="l"><a class="anc" name="8d22" href="#8d22">[8d22]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d25" href="#8d25">[8d25]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteBehavior_MaybeFallingRocks__ClearEntity">SpriteBehavior_MaybeFallingRocks__ClearEntity</a></span></span></span>
<span class="l"><a class="anc" name="8d27" href="#8d27">[8d27]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d2a" href="#8d2a">[8d2a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8d4c">@LAB_PRG14__8d4c</a></span></span></span>
<span class="l"><a class="anc" name="8d2c" href="#8d2c">[8d2c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8d2e" href="#8d2e">[8d2e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="8d31" href="#8d31">[8d31]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8d33" href="#8d33">[8d33]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8d36" href="#8d36">[8d36]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="8d39" href="#8d39">[8d39]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="8d3b" href="#8d3b">[8d3b]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d3e" href="#8d3e">[8d3e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="8d40" href="#8d40">[8d40]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d43" href="#8d43">[8d43]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d46" href="#8d46">[8d46]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="8d48" href="#8d48">[8d48]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":8d4b:@_return1"></a><span class="l"><a class="anc" name="8d4b" href="#8d4b">[8d4b]</a><a href="#:8d4b:@_return1" class="lla">@_return1:</a><span class="ce">; [$8d4b]</span></span>
<span class="l"><a class="anc" name="8d4b" href="#8d4b">[8d4b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":8d4c:@LAB_PRG14__8d4c"></a><span class="l"><a class="anc" name="8d4c" href="#8d4c">[8d4c]</a><a href="#:8d4c:@LAB_PRG14__8d4c" class="lla">@LAB_PRG14__8d4c:</a><span class="ce">; [$8d4c]</span></span>
<span class="l"><a class="anc" name="8d4c" href="#8d4c">[8d4c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d4f" href="#8d4f">[8d4f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8d51" href="#8d51">[8d51]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="8d54" href="#8d54">[8d54]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8d56" href="#8d56">[8d56]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="8d59" href="#8d59">[8d59]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="8d5c" href="#8d5c">[8d5c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d5f" href="#8d5f">[8d5f]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8d60" href="#8d60">[8d60]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d63" href="#8d63">[8d63]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d66" href="#8d66">[8d66]</a><span class="cd"><span class="i">AND</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="8d68" href="#8d68">[8d68]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="8d6a" href="#8d6a">[8d6a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a></span></span></span>
<span class="l"></span>
<a name=":8d6d:@_return2"></a><span class="l"><a class="anc" name="8d6d" href="#8d6d">[8d6d]</a><a href="#:8d6d:@_return2" class="lla">@_return2:</a><span class="ce">; [$8d6d]</span></span>
<span class="l"><a class="anc" name="8d6d" href="#8d6d">[8d6d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Coin"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Coin
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::808b]
;============================================================================
</div><span class="l"><a class="anc" name="8d6e" href="#8d6e">[8d6e]</a><a href="#SpriteUpdateHandler_Coin" class="la">SpriteUpdateHandler_Coin:</a><span class="ce">; [$8d6e]</span></span>
<span class="l"><a class="anc" name="8d6e" href="#8d6e">[8d6e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8d70" href="#8d70">[8d70]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="8d72" href="#8d72">[8d72]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8d74" href="#8d74">[8d74]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="8d77" href="#8d77">[8d77]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="8d79" href="#8d79">[8d79]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8d7c">@LAB_PRG14__8d7c</a></span></span></span>
<span class="l"><a class="anc" name="8d7b" href="#8d7b">[8d7b]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":8d7c:@LAB_PRG14__8d7c"></a><span class="l"><a class="anc" name="8d7c" href="#8d7c">[8d7c]</a><a href="#:8d7c:@LAB_PRG14__8d7c" class="lla">@LAB_PRG14__8d7c:</a><span class="ce">; [$8d7c]</span></span>
<span class="l"><a class="anc" name="8d7c" href="#8d7c">[8d7c]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="8d7d" href="#8d7d">[8d7d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Raiden"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Raiden
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::808f]
;============================================================================
</div><span class="l"><a class="anc" name="8d80" href="#8d80">[8d80]</a><a href="#SpriteUpdateHandler_Enemy_Raiden" class="la">SpriteUpdateHandler_Enemy_Raiden:</a><span class="ce">; [$8d80]</span></span>
<span class="l"><a class="anc" name="8d80" href="#8d80">[8d80]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span><span class="ce">; Update the flip mask for the sprite based on its facing direction.</span></span>
<span class="l"><a class="anc" name="8d83" href="#8d83">[8d83]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8d85" href="#8d85">[8d85]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span><span class="ce">; Load the current phase.</span></span>
<span class="l"><a class="anc" name="8d88" href="#8d88">[8d88]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span><span class="ce">; Is it 2?</span></span>
<span class="l"><a class="anc" name="8d8a" href="#8d8a">[8d8a]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_isPhase2">@_isPhase2</a></span></span><span class="ce">; If so, jump.</span></span>
<span class="l"><a class="anc" name="8d8c" href="#8d8c">[8d8c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span><span class="ce">; Load the sprite's update counter.</span></span>
<span class="l"><a class="anc" name="8d8f" href="#8d8f">[8d8f]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; Divide by 4.</span></span>
<span class="l"><a class="anc" name="8d90" href="#8d90">[8d90]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8d91" href="#8d91">[8d91]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span><span class="ce">; Use the odd/even bit as the phase, giving phases 0 or 1.</span></span>
<span class="l"><a class="anc" name="8d93" href="#8d93">[8d93]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span><span class="ce">; Set that as the new phase.</span></span>
<span class="l"></span>
<a name=":8d96:@_isPhase2"></a><span class="l"><a class="anc" name="8d96" href="#8d96">[8d96]</a><a href="#:8d96:@_isPhase2" class="lla">@_isPhase2:</a><span class="ce">; [$8d96]</span></span>
<span class="l"><a class="anc" name="8d96" href="#8d96">[8d96]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span><span class="ce">; Load the sprite's update counter.</span></span>
<span class="l"><a class="anc" name="8d99" href="#8d99">[8d99]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; Divide by 8.</span></span>
<span class="l"><a class="anc" name="8d9a" href="#8d9a">[8d9a]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8d9b" href="#8d9b">[8d9b]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8d9c" href="#8d9c">[8d9c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span><span class="ce">; Keep the odd/even bit for the phase.</span></span>
<span class="l"><a class="anc" name="8d9e" href="#8d9e">[8d9e]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span><span class="ce">; And OR with 2, giving phases 2 or 3.</span></span>
<span class="l"><a class="anc" name="8da0" href="#8da0">[8da0]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span><span class="ce">; Set that as the new phase.</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_NecronAides"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_NecronAides
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a613]
;============================================================================
</div><span class="l"><a class="anc" name="8da3" href="#8da3">[8da3]</a><a href="#SpriteBehavior_NecronAides" class="la">SpriteBehavior_NecronAides:</a><span class="ce">; [$8da3]</span></span>
<span class="l"><a class="anc" name="8da3" href="#8da3">[8da3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="8da6" href="#8da6">[8da6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8db3">@LAB_PRG14__8db3</a></span></span></span>
<span class="l"><a class="anc" name="8da8" href="#8da8">[8da8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8daa" href="#8daa">[8daa]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8dad" href="#8dad">[8dad]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8db0" href="#8db0">[8db0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":8db3:@LAB_PRG14__8db3"></a><span class="l"><a class="anc" name="8db3" href="#8db3">[8db3]</a><a href="#:8db3:@LAB_PRG14__8db3" class="lla">@LAB_PRG14__8db3:</a><span class="ce">; [$8db3]</span></span>
<span class="l"><a class="anc" name="8db3" href="#8db3">[8db3]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8db6" href="#8db6">[8db6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8db9" href="#8db9">[8db9]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__8e0e">@LAB_PRG14__8e0e</a></span></span></span>
<span class="l"><a class="anc" name="8dbb" href="#8dbb">[8dbb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8dbe" href="#8dbe">[8dbe]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8dbf" href="#8dbf">[8dbf]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8dc0" href="#8dc0">[8dc0]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8dc2" href="#8dc2">[8dc2]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8dc3" href="#8dc3">[8dc3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="8dc5" href="#8dc5">[8dc5]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="8dc6" href="#8dc6">[8dc6]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__8e3a">BYTE_ARRAY_PRG14__8e3a</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8dc9" href="#8dc9">[8dc9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="8dcb" href="#8dcb">[8dcb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="8dcd" href="#8dcd">[8dcd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="8dcf" href="#8dcf">[8dcf]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="8dd2" href="#8dd2">[8dd2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_LoadBlockProperty">ScreenBuffer_LoadBlockProperty</a></span></span></span>
<span class="l"><a class="anc" name="8dd5" href="#8dd5">[8dd5]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="8dd8" href="#8dd8">[8dd8]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8dda" href="#8dda">[8dda]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8de4">@LAB_PRG14__8de4</a></span></span></span>
<span class="l"><a class="anc" name="8ddc" href="#8ddc">[8ddc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ddf" href="#8ddf">[8ddf]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8de1" href="#8de1">[8de1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":8de4:@LAB_PRG14__8de4"></a><span class="l"><a class="anc" name="8de4" href="#8de4">[8de4]</a><a href="#:8de4:@LAB_PRG14__8de4" class="lla">@LAB_PRG14__8de4:</a><span class="ce">; [$8de4]</span></span>
<span class="l"><a class="anc" name="8de4" href="#8de4">[8de4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8de7" href="#8de7">[8de7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$17</span></span></span>
<span class="l"><a class="anc" name="8de9" href="#8de9">[8de9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8def">@LAB_PRG14__8def</a></span></span></span>
<span class="l"><a class="anc" name="8deb" href="#8deb">[8deb]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$75</span></span></span>
<span class="l"><a class="anc" name="8ded" href="#8ded">[8ded]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8df7">@LAB_PRG14__8df7</a></span></span></span>
<span class="l"></span>
<a name=":8def:@LAB_PRG14__8def"></a><span class="l"><a class="anc" name="8def" href="#8def">[8def]</a><a href="#:8def:@LAB_PRG14__8def" class="lla">@LAB_PRG14__8def:</a><span class="ce">; [$8def]</span></span>
<span class="l"><a class="anc" name="8def" href="#8def">[8def]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8df2" href="#8df2">[8df2]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8df4" href="#8df4">[8df4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":8df7:@LAB_PRG14__8df7"></a><span class="l"><a class="anc" name="8df7" href="#8df7">[8df7]</a><a href="#:8df7:@LAB_PRG14__8df7" class="lla">@LAB_PRG14__8df7:</a><span class="ce">; [$8df7]</span></span>
<span class="l"><a class="anc" name="8df7" href="#8df7">[8df7]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8dfa" href="#8dfa">[8dfa]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8dfb" href="#8dfb">[8dfb]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8dfc" href="#8dfc">[8dfc]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8dfe" href="#8dfe">[8dfe]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8dff" href="#8dff">[8dff]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__8e3c">BYTE_ARRAY_PRG14__8e3c</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8e02" href="#8e02">[8e02]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8e05" href="#8e05">[8e05]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__8e40">BYTE_ARRAY_PRG14__8e40</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8e08" href="#8e08">[8e08]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="8e0b" href="#8e0b">[8e0b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_CalculateNewVertPos">Sprite_CalculateNewVertPos</a></span></span></span>
<span class="l"></span>
<a name=":8e0e:@LAB_PRG14__8e0e"></a><span class="l"><a class="anc" name="8e0e" href="#8e0e">[8e0e]</a><a href="#:8e0e:@LAB_PRG14__8e0e" class="lla">@LAB_PRG14__8e0e:</a><span class="ce">; [$8e0e]</span></span>
<span class="l"><a class="anc" name="8e0e" href="#8e0e">[8e0e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="8e11" href="#8e11">[8e11]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__8e16">@LAB_PRG14__8e16</a></span></span></span>
<span class="l"><a class="anc" name="8e13" href="#8e13">[8e13]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"></span>
<a name=":8e16:@LAB_PRG14__8e16"></a><span class="l"><a class="anc" name="8e16" href="#8e16">[8e16]</a><a href="#:8e16:@LAB_PRG14__8e16" class="lla">@LAB_PRG14__8e16:</a><span class="ce">; [$8e16]</span></span>
<span class="l"><a class="anc" name="8e16" href="#8e16">[8e16]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8e19" href="#8e19">[8e19]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$26</span></span></span>
<span class="l"><a class="anc" name="8e1b" href="#8e1b">[8e1b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8e25">@LAB_PRG14__8e25</a></span></span></span>
<span class="l"><a class="anc" name="8e1d" href="#8e1d">[8e1d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$48</span></span></span>
<span class="l"><a class="anc" name="8e1f" href="#8e1f">[8e1f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8e25">@LAB_PRG14__8e25</a></span></span></span>
<span class="l"><a class="anc" name="8e21" href="#8e21">[8e21]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$93</span></span></span>
<span class="l"><a class="anc" name="8e23" href="#8e23">[8e23]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8e2d">@LAB_PRG14__8e2d</a></span></span></span>
<span class="l"></span>
<a name=":8e25:@LAB_PRG14__8e25"></a><span class="l"><a class="anc" name="8e25" href="#8e25">[8e25]</a><a href="#:8e25:@LAB_PRG14__8e25" class="lla">@LAB_PRG14__8e25:</a><span class="ce">; [$8e25]</span></span>
<span class="l"><a class="anc" name="8e25" href="#8e25">[8e25]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8e28" href="#8e28">[8e28]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8e2a" href="#8e2a">[8e2a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":8e2d:@LAB_PRG14__8e2d"></a><span class="l"><a class="anc" name="8e2d" href="#8e2d">[8e2d]</a><a href="#:8e2d:@LAB_PRG14__8e2d" class="lla">@LAB_PRG14__8e2d:</a><span class="ce">; [$8e2d]</span></span>
<span class="l"><a class="anc" name="8e2d" href="#8e2d">[8e2d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8e2f" href="#8e2f">[8e2f]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8e32" href="#8e32">[8e32]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8e34" href="#8e34">[8e34]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8e37" href="#8e37">[8e37]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__8e3a"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;
</div><span class="l"><a class="anc" name="8e3a" href="#8e3a">[8e3a]</a><a href="#BYTE_ARRAY_PRG14__8e3a" class="la">BYTE_ARRAY_PRG14__8e3a:</a><span class="ce">; [$8e3a]</span></span>
<span class="l"><a class="anc" name="8e3a" href="#8e3a">[8e3a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8e3b" href="#8e3b">[8e3b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__8e3c"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;
</div><span class="l"><a class="anc" name="8e3c" href="#8e3c">[8e3c]</a><a href="#BYTE_ARRAY_PRG14__8e3c" class="la">BYTE_ARRAY_PRG14__8e3c:</a><span class="ce">; [$8e3c]</span></span>
<span class="l"><a class="anc" name="8e3c" href="#8e3c">[8e3c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8e3d" href="#8e3d">[8e3d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8e3e" href="#8e3e">[8e3e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8e3f" href="#8e3f">[8e3f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__8e40"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;
</div><span class="l"><a class="anc" name="8e40" href="#8e40">[8e40]</a><a href="#BYTE_ARRAY_PRG14__8e40" class="la">BYTE_ARRAY_PRG14__8e40:</a><span class="ce">; [$8e40]</span></span>
<span class="l"><a class="anc" name="8e40" href="#8e40">[8e40]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8e41" href="#8e41">[8e41]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8e42" href="#8e42">[8e42]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8e43" href="#8e43">[8e43]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_NecronAides"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_NecronAides
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8091]
;============================================================================
</div><span class="l"><a class="anc" name="8e44" href="#8e44">[8e44]</a><a href="#SpriteUpdateHandler_Enemy_NecronAides" class="la">SpriteUpdateHandler_Enemy_NecronAides:</a><span class="ce">; [$8e44]</span></span>
<span class="l"><a class="anc" name="8e44" href="#8e44">[8e44]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span><span class="ce">; Update the flip mask for the sprite based on its facing direction.</span></span>
<span class="l"><a class="anc" name="8e47" href="#8e47">[8e47]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span><span class="ce">; Load the sprite's update counter.</span></span>
<span class="l"><a class="anc" name="8e4a" href="#8e4a">[8e4a]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; Divide it by 4.</span></span>
<span class="l"><a class="anc" name="8e4b" href="#8e4b">[8e4b]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e4c" href="#8e4c">[8e4c]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span><span class="ce">; Load the current sprite phase.</span></span>
<span class="l"><a class="anc" name="8e4f" href="#8e4f">[8e4f]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_setPhase">@_setPhase</a></span></span><span class="ce">; If unset, jump.</span></span>
<span class="l"><a class="anc" name="8e51" href="#8e51">[8e51]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; Divide again by 2 (total of 8).</span></span>
<span class="l"></span>
<a name=":8e52:@_setPhase"></a><span class="l"><a class="anc" name="8e52" href="#8e52">[8e52]</a><a href="#:8e52:@_setPhase" class="lla">@_setPhase:</a><span class="ce">; [$8e52]</span></span>
<span class="l"><a class="anc" name="8e52" href="#8e52">[8e52]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span><span class="ce">; Keep the odd/even bit, yielding a phase of 0 or 1.</span></span>
<span class="l"><a class="anc" name="8e54" href="#8e54">[8e54]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span><span class="ce">; Set the appearance phase.</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Zombie"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Zombie
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8093]
;============================================================================
</div><span class="l"><a class="anc" name="8e57" href="#8e57">[8e57]</a><a href="#SpriteUpdateHandler_Enemy_Zombie" class="la">SpriteUpdateHandler_Enemy_Zombie:</a><span class="ce">; [$8e57]</span></span>
<span class="l"><a class="anc" name="8e57" href="#8e57">[8e57]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span><span class="ce">; Update the flip mask for the sprite based on its facing direction.</span></span>
<span class="l"><a class="anc" name="8e5a" href="#8e5a">[8e5a]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8e5c" href="#8e5c">[8e5c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_GetPreviousSpritePhase">Sprite_GetPreviousSpritePhase</a></span></span><span class="ce">; Get the previous phase for the sprite.</span></span>
<span class="l"><a class="anc" name="8e5f" href="#8e5f">[8e5f]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; Divide it by 2.</span></span>
<span class="l"><a class="anc" name="8e60" href="#8e60">[8e60]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__8e6f">@LAB_PRG14__8e6f</a></span></span></span>
<span class="l"><a class="anc" name="8e62" href="#8e62">[8e62]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8e65" href="#8e65">[8e65]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e66" href="#8e66">[8e66]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e67" href="#8e67">[8e67]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e68" href="#8e68">[8e68]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8e6a" href="#8e6a">[8e6a]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8e6b" href="#8e6b">[8e6b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITEBEHAVIOR_ENEMY_ZOMBIE_PHASES">SPRITEBEHAVIOR_ENEMY_ZOMBIE_PHASES</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8e6e" href="#8e6e">[8e6e]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":8e6f:@LAB_PRG14__8e6f"></a><span class="l"><a class="anc" name="8e6f" href="#8e6f">[8e6f]</a><a href="#:8e6f:@LAB_PRG14__8e6f" class="lla">@LAB_PRG14__8e6f:</a><span class="ce">; [$8e6f]</span></span>
<span class="l"><a class="anc" name="8e6f" href="#8e6f">[8e6f]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="8e70" href="#8e70">[8e70]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="SPRITEBEHAVIOR_ENEMY_ZOMBIE_PHASES"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Zombie">SpriteUpdateHandler_Enemy_Zombie</a>
;
</div><span class="l"><a class="anc" name="8e73" href="#8e73">[8e73]</a><a href="#SPRITEBEHAVIOR_ENEMY_ZOMBIE_PHASES" class="la">SPRITEBEHAVIOR_ENEMY_ZOMBIE_PHASES:</a><span class="ce">; [$8e73]</span></span>
<span class="l"><a class="anc" name="8e73" href="#8e73">[8e73]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8e74" href="#8e74">[8e74]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8e75" href="#8e75">[8e75]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8e76" href="#8e76">[8e76]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_BuzzAround"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_BuzzAround
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a665]
;============================================================================
</div><span class="l"><a class="anc" name="8e77" href="#8e77">[8e77]</a><a href="#SpriteBehavior_BuzzAround" class="la">SpriteBehavior_BuzzAround:</a><span class="ce">; [$8e77]</span></span>
<span class="l"><a class="anc" name="8e77" href="#8e77">[8e77]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="8e7a" href="#8e7a">[8e7a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8e87">@LAB_PRG14__8e87</a></span></span></span>
<span class="l"><a class="anc" name="8e7c" href="#8e7c">[8e7c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8e7e" href="#8e7e">[8e7e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8e81" href="#8e81">[8e81]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8e84" href="#8e84">[8e84]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":8e87:@LAB_PRG14__8e87"></a><span class="l"><a class="anc" name="8e87" href="#8e87">[8e87]</a><a href="#:8e87:@LAB_PRG14__8e87" class="lla">@LAB_PRG14__8e87:</a><span class="ce">; [$8e87]</span></span>
<span class="l"><a class="anc" name="8e87" href="#8e87">[8e87]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8e89" href="#8e89">[8e89]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8e8c" href="#8e8c">[8e8c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8e8e" href="#8e8e">[8e8e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8e91" href="#8e91">[8e91]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="8e94" href="#8e94">[8e94]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8e97" href="#8e97">[8e97]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e98" href="#8e98">[8e98]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e99" href="#8e99">[8e99]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8e9a" href="#8e9a">[8e9a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="8e9c" href="#8e9c">[8e9c]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="8e9d" href="#8e9d">[8e9d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOR_BUZZ_AROUND_Y_FRAC">SPRITE_BEHAVIOR_BUZZ_AROUND_Y_FRAC</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8ea0" href="#8ea0">[8ea0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8ea3" href="#8ea3">[8ea3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOR_BUZZ_AROUND_X_FRAC">SPRITE_BEHAVIOR_BUZZ_AROUND_X_FRAC</a>,Y</span></span></span>
<span class="l"><a class="anc" name="8ea6" href="#8ea6">[8ea6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="8ea9" href="#8ea9">[8ea9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertAndFlipIfNeeded">Sprite_MoveVertAndFlipIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="8eac" href="#8eac">[8eac]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span><span class="ce">; Increment the sprite's tick counter.</span></span>
<span class="l"><a class="anc" name="8eaf" href="#8eaf">[8eaf]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOR_BUZZ_AROUND_Y_FRAC"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>
;
</div><span class="l"><a class="anc" name="8eb0" href="#8eb0">[8eb0]</a><a href="#SPRITE_BEHAVIOR_BUZZ_AROUND_Y_FRAC" class="la">SPRITE_BEHAVIOR_BUZZ_AROUND_Y_FRAC:</a><span class="ce">; [$8eb0]</span></span>
<span class="l"><a class="anc" name="8eb0" href="#8eb0">[8eb0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8eb1" href="#8eb1">[8eb1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8eb2" href="#8eb2">[8eb2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8eb3" href="#8eb3">[8eb3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="8eb4" href="#8eb4">[8eb4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="8eb5" href="#8eb5">[8eb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="8eb6" href="#8eb6">[8eb6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="8eb7" href="#8eb7">[8eb7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOR_BUZZ_AROUND_X_FRAC"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>
;
</div><span class="l"><a class="anc" name="8eb8" href="#8eb8">[8eb8]</a><a href="#SPRITE_BEHAVIOR_BUZZ_AROUND_X_FRAC" class="la">SPRITE_BEHAVIOR_BUZZ_AROUND_X_FRAC:</a><span class="ce">; [$8eb8]</span></span>
<span class="l"><a class="anc" name="8eb8" href="#8eb8">[8eb8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="8eb9" href="#8eb9">[8eb9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="8eba" href="#8eba">[8eba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="8ebb" href="#8ebb">[8ebb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="8ebc" href="#8ebc">[8ebc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="8ebd" href="#8ebd">[8ebd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="8ebe" href="#8ebe">[8ebe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="8ebf" href="#8ebf">[8ebf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="8ec0" href="#8ec0">[8ec0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$01</span></span><span class="ce">; [$8ec0] undefined</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Hornet"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Hornet
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8095]
;============================================================================
</div><span class="l"><a class="anc" name="8ec2" href="#8ec2">[8ec2]</a><a href="#SpriteUpdateHandler_Enemy_Hornet" class="la">SpriteUpdateHandler_Enemy_Hornet:</a><span class="ce">; [$8ec2]</span></span>
<span class="l"><a class="anc" name="8ec2" href="#8ec2">[8ec2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="8ec5" href="#8ec5">[8ec5]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8ec8" href="#8ec8">[8ec8]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8ec9" href="#8ec9">[8ec9]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8eca" href="#8eca">[8eca]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8ecc" href="#8ecc">[8ecc]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Bihoruda"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Bihoruda
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a615]
;============================================================================
</div><span class="l"><a class="anc" name="8ecf" href="#8ecf">[8ecf]</a><a href="#SpriteBehavior_Bihoruda" class="la">SpriteBehavior_Bihoruda:</a><span class="ce">; [$8ecf]</span></span>
<span class="l"><a class="anc" name="8ecf" href="#8ecf">[8ecf]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="8ed2" href="#8ed2">[8ed2]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8ee1">@LAB_PRG14__8ee1</a></span></span></span>
<span class="l"><a class="anc" name="8ed4" href="#8ed4">[8ed4]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8ed6" href="#8ed6">[8ed6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ed9" href="#8ed9">[8ed9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="8edb" href="#8edb">[8edb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ede" href="#8ede">[8ede]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":8ee1:@LAB_PRG14__8ee1"></a><span class="l"><a class="anc" name="8ee1" href="#8ee1">[8ee1]</a><a href="#:8ee1:@LAB_PRG14__8ee1" class="lla">@LAB_PRG14__8ee1:</a><span class="ce">; [$8ee1]</span></span>
<span class="l"><a class="anc" name="8ee1" href="#8ee1">[8ee1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ee4" href="#8ee4">[8ee4]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8ee6" href="#8ee6">[8ee6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="8ee9" href="#8ee9">[8ee9]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8eeb" href="#8eeb">[8eeb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcHorizSpriteMovement">Sprites_CalcHorizSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="8eee" href="#8eee">[8eee]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8ef1" href="#8ef1">[8ef1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8ef3" href="#8ef3">[8ef3]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8ef6" href="#8ef6">[8ef6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="8ef9" href="#8ef9">[8ef9]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8efc" href="#8efc">[8efc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8eff" href="#8eff">[8eff]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="8f01" href="#8f01">[8f01]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="8f04" href="#8f04">[8f04]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8f06" href="#8f06">[8f06]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="8f09" href="#8f09">[8f09]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="8f0c" href="#8f0c">[8f0c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8f0e" href="#8f0e">[8f0e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="8f11" href="#8f11">[8f11]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertAndFlipIfNeeded">Sprite_MoveVertAndFlipIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="8f14" href="#8f14">[8f14]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f17" href="#8f17">[8f17]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Bihoruda"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Bihoruda
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8097]
;============================================================================
</div><span class="l"><a class="anc" name="8f18" href="#8f18">[8f18]</a><a href="#SpriteUpdateHandler_Enemy_Bihoruda" class="la">SpriteUpdateHandler_Enemy_Bihoruda:</a><span class="ce">; [$8f18]</span></span>
<span class="l"><a class="anc" name="8f18" href="#8f18">[8f18]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="8f1b" href="#8f1b">[8f1b]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8f1d" href="#8f1d">[8f1d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f20" href="#8f20">[8f20]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="8f22" href="#8f22">[8f22]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="8f23" href="#8f23">[8f23]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="8f25" href="#8f25">[8f25]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="8f27" href="#8f27">[8f27]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__8f2a">@LAB_PRG14__8f2a</a></span></span></span>
<span class="l"><a class="anc" name="8f29" href="#8f29">[8f29]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":8f2a:@LAB_PRG14__8f2a"></a><span class="l"><a class="anc" name="8f2a" href="#8f2a">[8f2a]</a><a href="#:8f2a:@LAB_PRG14__8f2a" class="lla">@LAB_PRG14__8f2a:</a><span class="ce">; [$8f2a]</span></span>
<span class="l"><a class="anc" name="8f2a" href="#8f2a">[8f2a]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="8f2b" href="#8f2b">[8f2b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Lilith"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Lilith
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a617]
;============================================================================
</div><span class="l"><a class="anc" name="8f2e" href="#8f2e">[8f2e]</a><a href="#SpriteBehavior_Lilith" class="la">SpriteBehavior_Lilith:</a><span class="ce">; [$8f2e]</span></span>
<span class="l"><a class="anc" name="8f2e" href="#8f2e">[8f2e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="8f31" href="#8f31">[8f31]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8f51">@LAB_PRG14__8f51</a></span></span></span>
<span class="l"><a class="anc" name="8f33" href="#8f33">[8f33]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8f35" href="#8f35">[8f35]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f38" href="#8f38">[8f38]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f3b" href="#8f3b">[8f3b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f3e" href="#8f3e">[8f3e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f41" href="#8f41">[8f41]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8f43" href="#8f43">[8f43]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f46" href="#8f46">[8f46]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="8f48" href="#8f48">[8f48]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f4b" href="#8f4b">[8f4b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"><a class="anc" name="8f4e" href="#8f4e">[8f4e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_RandomlyFlipXDirection">BScript_Action_RandomlyFlipXDirection</a></span></span></span>
<span class="l"></span>
<a name=":8f51:@LAB_PRG14__8f51"></a><span class="l"><a class="anc" name="8f51" href="#8f51">[8f51]</a><a href="#:8f51:@LAB_PRG14__8f51" class="lla">@LAB_PRG14__8f51:</a><span class="ce">; [$8f51]</span></span>
<span class="l"><a class="anc" name="8f51" href="#8f51">[8f51]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f54" href="#8f54">[8f54]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8f59">@LAB_PRG14__8f59</a></span></span></span>
<span class="l"><a class="anc" name="8f56" href="#8f56">[8f56]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior__8f9a">SpriteBehavior__8f9a</a></span></span></span>
<span class="l"></span>
<a name=":8f59:@LAB_PRG14__8f59"></a><span class="l"><a class="anc" name="8f59" href="#8f59">[8f59]</a><a href="#:8f59:@LAB_PRG14__8f59" class="lla">@LAB_PRG14__8f59:</a><span class="ce">; [$8f59]</span></span>
<span class="l"><a class="anc" name="8f59" href="#8f59">[8f59]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8f5b" href="#8f5b">[8f5b]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="8f5e" href="#8f5e">[8f5e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8f60" href="#8f60">[8f60]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8f63" href="#8f63">[8f63]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="8f66" href="#8f66">[8f66]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="8f68" href="#8f68">[8f68]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f6b" href="#8f6b">[8f6b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="8f6e" href="#8f6e">[8f6e]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="8f70" href="#8f70">[8f70]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="8f73" href="#8f73">[8f73]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalculateNewVertPos">Sprite_CalculateNewVertPos</a></span></span></span>
<span class="l"><a class="anc" name="8f76" href="#8f76">[8f76]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f79" href="#8f79">[8f79]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f7c" href="#8f7c">[8f7c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="8f7e" href="#8f7e">[8f7e]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8f83">@LAB_PRG14__8f83</a></span></span></span>
<span class="l"><a class="anc" name="8f80" href="#8f80">[8f80]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a></span></span></span>
<span class="l"></span>
<a name=":8f83:@LAB_PRG14__8f83"></a><span class="l"><a class="anc" name="8f83" href="#8f83">[8f83]</a><a href="#:8f83:@LAB_PRG14__8f83" class="lla">@LAB_PRG14__8f83:</a><span class="ce">; [$8f83]</span></span>
<span class="l"><a class="anc" name="8f83" href="#8f83">[8f83]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f86" href="#8f86">[8f86]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="8f88" href="#8f88">[8f88]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f8b" href="#8f8b">[8f8b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="8f8e" href="#8f8e">[8f8e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerY">BScript_Action_FacePlayerY</a></span></span></span>
<span class="l"><a class="anc" name="8f91" href="#8f91">[8f91]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8f93" href="#8f93">[8f93]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f96" href="#8f96">[8f96]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":8f99:@_return"></a><span class="l"><a class="anc" name="8f99" href="#8f99">[8f99]</a><a href="#:8f99:@_return" class="lla">@_return:</a><span class="ce">; [$8f99]</span></span>
<span class="l"><a class="anc" name="8f99" href="#8f99">[8f99]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SpriteBehavior__8f9a"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;
</div><span class="l"><a class="anc" name="8f9a" href="#8f9a">[8f9a]</a><a href="#SpriteBehavior__8f9a" class="la">SpriteBehavior__8f9a:</a><span class="ce">; [$8f9a]</span></span>
<span class="l"><a class="anc" name="8f9a" href="#8f9a">[8f9a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8f9d" href="#8f9d">[8f9d]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="8f9f" href="#8f9f">[8f9f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="8fa2" href="#8fa2">[8fa2]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="8fa4" href="#8fa4">[8fa4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcHorizSpriteMovement">Sprites_CalcHorizSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="8fa7" href="#8fa7">[8fa7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a></span></span></span>
<span class="l"><a class="anc" name="8faa" href="#8faa">[8faa]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8fad" href="#8fad">[8fad]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8fb0" href="#8fb0">[8fb0]</a><span class="cd"><span class="i">AND</span> <span class="o">#$3f</span></span></span>
<span class="l"><a class="anc" name="8fb2" href="#8fb2">[8fb2]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8fb7">@LAB_PRG14__8fb7</a></span></span></span>
<span class="l"><a class="anc" name="8fb4" href="#8fb4">[8fb4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"></span>
<a name=":8fb7:@LAB_PRG14__8fb7"></a><span class="l"><a class="anc" name="8fb7" href="#8fb7">[8fb7]</a><a href="#:8fb7:@LAB_PRG14__8fb7" class="lla">@LAB_PRG14__8fb7:</a><span class="ce">; [$8fb7]</span></span>
<span class="l"><a class="anc" name="8fb7" href="#8fb7">[8fb7]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8fba" href="#8fba">[8fba]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8fbd" href="#8fbd">[8fbd]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$27</span></span></span>
<span class="l"><a class="anc" name="8fbf" href="#8fbf">[8fbf]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__8fc9">@LAB_PRG14__8fc9</a></span></span></span>
<span class="l"><a class="anc" name="8fc1" href="#8fc1">[8fc1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8fc3" href="#8fc3">[8fc3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8fc6" href="#8fc6">[8fc6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerY">BScript_Action_FacePlayerY</a></span></span></span>
<span class="l"></span>
<a name=":8fc9:@LAB_PRG14__8fc9"></a><span class="l"><a class="anc" name="8fc9" href="#8fc9">[8fc9]</a><a href="#:8fc9:@LAB_PRG14__8fc9" class="lla">@LAB_PRG14__8fc9:</a><span class="ce">; [$8fc9]</span></span>
<span class="l"><a class="anc" name="8fc9" href="#8fc9">[8fc9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8fcb" href="#8fcb">[8fcb]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="8fce" href="#8fce">[8fce]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8fd0" href="#8fd0">[8fd0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="8fd3" href="#8fd3">[8fd3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"></span>
<a name=":8fd6:@_return"></a><span class="l"><a class="anc" name="8fd6" href="#8fd6">[8fd6]</a><a href="#:8fd6:@_return" class="lla">@_return:</a><span class="ce">; [$8fd6]</span></span>
<span class="l"><a class="anc" name="8fd6" href="#8fd6">[8fd6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__8fd7"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="8fd7" href="#8fd7">[8fd7]</a><a href="#FUN_PRG14__8fd7" class="la">FUN_PRG14__8fd7:</a><span class="ce">; [$8fd7]</span></span>
<span class="l"><a class="anc" name="8fd7" href="#8fd7">[8fd7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Lilith"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Lilith
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8099]
;============================================================================
</div><span class="l"><a class="anc" name="8fd9" href="#8fd9">[8fd9]</a><a href="#SpriteUpdateHandler_Enemy_Lilith" class="la">SpriteUpdateHandler_Enemy_Lilith:</a><span class="ce">; [$8fd9]</span></span>
<span class="l"><a class="anc" name="8fd9" href="#8fd9">[8fd9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="8fdc" href="#8fdc">[8fdc]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="8fdf" href="#8fdf">[8fdf]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8fe0" href="#8fe0">[8fe0]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8fe1" href="#8fe1">[8fe1]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="8fe2" href="#8fe2">[8fe2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8fe4" href="#8fe4">[8fe4]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Yuinaru"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Yuinaru
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a619]
;============================================================================
</div><span class="l"><a class="anc" name="8fe7" href="#8fe7">[8fe7]</a><a href="#SpriteBehavior_Yuinaru" class="la">SpriteBehavior_Yuinaru:</a><span class="ce">; [$8fe7]</span></span>
<span class="l"><a class="anc" name="8fe7" href="#8fe7">[8fe7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="8fea" href="#8fea">[8fea]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__8ff9">@LAB_PRG14__8ff9</a></span></span></span>
<span class="l"><a class="anc" name="8fec" href="#8fec">[8fec]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="8fee" href="#8fee">[8fee]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ff1" href="#8ff1">[8ff1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="8ff3" href="#8ff3">[8ff3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ff6" href="#8ff6">[8ff6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":8ff9:@LAB_PRG14__8ff9"></a><span class="l"><a class="anc" name="8ff9" href="#8ff9">[8ff9]</a><a href="#:8ff9:@LAB_PRG14__8ff9" class="lla">@LAB_PRG14__8ff9:</a><span class="ce">; [$8ff9]</span></span>
<span class="l"><a class="anc" name="8ff9" href="#8ff9">[8ff9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="8ffc" href="#8ffc">[8ffc]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="8ffe" href="#8ffe">[8ffe]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="9001" href="#9001">[9001]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9003" href="#9003">[9003]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcHorizSpriteMovement">Sprites_CalcHorizSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9006" href="#9006">[9006]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9009" href="#9009">[9009]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="900b" href="#900b">[900b]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="900e" href="#900e">[900e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a></span></span></span>
<span class="l"><a class="anc" name="9011" href="#9011">[9011]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9014" href="#9014">[9014]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9017" href="#9017">[9017]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="901a" href="#901a">[901a]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="901c" href="#901c">[901c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="901f" href="#901f">[901f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9021" href="#9021">[9021]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9024" href="#9024">[9024]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9027" href="#9027">[9027]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9029" href="#9029">[9029]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="902c" href="#902c">[902c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"><a class="anc" name="902f" href="#902f">[902f]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9032" href="#9032">[9032]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Yuinaru"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Yuinaru
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::809d]
;============================================================================
</div><span class="l"><a class="anc" name="9033" href="#9033">[9033]</a><a href="#SpriteUpdateHandler_Enemy_Yuinaru" class="la">SpriteUpdateHandler_Enemy_Yuinaru:</a><span class="ce">; [$9033]</span></span>
<span class="l"><a class="anc" name="9033" href="#9033">[9033]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9036" href="#9036">[9036]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9038" href="#9038">[9038]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="903b" href="#903b">[903b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="903d" href="#903d">[903d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9040">@LAB_PRG14__9040</a></span></span></span>
<span class="l"><a class="anc" name="903f" href="#903f">[903f]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9040:@LAB_PRG14__9040"></a><span class="l"><a class="anc" name="9040" href="#9040">[9040]</a><a href="#:9040:@LAB_PRG14__9040" class="lla">@LAB_PRG14__9040:</a><span class="ce">; [$9040]</span></span>
<span class="l"><a class="anc" name="9040" href="#9040">[9040]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9041" href="#9041">[9041]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Snowman"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Snowman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::809f]
;============================================================================
</div><span class="l"><a class="anc" name="9044" href="#9044">[9044]</a><a href="#SpriteUpdateHandler_Enemy_Snowman" class="la">SpriteUpdateHandler_Enemy_Snowman:</a><span class="ce">; [$9044]</span></span>
<span class="l"><a class="anc" name="9044" href="#9044">[9044]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9047" href="#9047">[9047]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9049" href="#9049">[9049]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="904c" href="#904c">[904c]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__905c">@LAB_PRG14__905c</a></span></span></span>
<span class="l"><a class="anc" name="904e" href="#904e">[904e]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="904f" href="#904f">[904f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9052" href="#9052">[9052]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9053" href="#9053">[9053]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9054" href="#9054">[9054]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9056" href="#9056">[9056]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9059">@LAB_PRG14__9059</a></span></span></span>
<span class="l"><a class="anc" name="9058" href="#9058">[9058]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"></span>
<a name=":9059:@LAB_PRG14__9059"></a><span class="l"><a class="anc" name="9059" href="#9059">[9059]</a><a href="#:9059:@LAB_PRG14__9059" class="lla">@LAB_PRG14__9059:</a><span class="ce">; [$9059]</span></span>
<span class="l"><a class="anc" name="9059" href="#9059">[9059]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="905b" href="#905b">[905b]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":905c:@LAB_PRG14__905c"></a><span class="l"><a class="anc" name="905c" href="#905c">[905c]</a><a href="#:905c:@LAB_PRG14__905c" class="lla">@LAB_PRG14__905c:</a><span class="ce">; [$905c]</span></span>
<span class="l"><a class="anc" name="905c" href="#905c">[905c]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="905d" href="#905d">[905d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Nash"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Nash
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a61b]
;============================================================================
</div><span class="l"><a class="anc" name="9060" href="#9060">[9060]</a><a href="#SpriteBehavior_Nash" class="la">SpriteBehavior_Nash:</a><span class="ce">; [$9060]</span></span>
<span class="l"><a class="anc" name="9060" href="#9060">[9060]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9063" href="#9063">[9063]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__906d">@LAB_PRG14__906d</a></span></span></span>
<span class="l"><a class="anc" name="9065" href="#9065">[9065]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$78</span></span></span>
<span class="l"><a class="anc" name="9067" href="#9067">[9067]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="906a" href="#906a">[906a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":906d:@LAB_PRG14__906d"></a><span class="l"><a class="anc" name="906d" href="#906d">[906d]</a><a href="#:906d:@LAB_PRG14__906d" class="lla">@LAB_PRG14__906d:</a><span class="ce">; [$906d]</span></span>
<span class="l"><a class="anc" name="906d" href="#906d">[906d]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9070" href="#9070">[9070]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__908f">@LAB_PRG14__908f</a></span></span></span>
<span class="l"><a class="anc" name="9072" href="#9072">[9072]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9073" href="#9073">[9073]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__90ce">@LAB_PRG14__90ce</a></span></span></span>
<span class="l"><a class="anc" name="9075" href="#9075">[9075]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9078" href="#9078">[9078]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9084">@LAB_PRG14__9084</a></span></span></span>
<span class="l"><a class="anc" name="907a" href="#907a">[907a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="907d" href="#907d">[907d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="907f" href="#907f">[907f]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9081" href="#9081">[9081]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__a0a0">FUN_PRG14__a0a0</a></span></span></span>
<span class="l"></span>
<a name=":9084:@LAB_PRG14__9084"></a><span class="l"><a class="anc" name="9084" href="#9084">[9084]</a><a href="#:9084:@LAB_PRG14__9084" class="lla">@LAB_PRG14__9084:</a><span class="ce">; [$9084]</span></span>
<span class="l"><a class="anc" name="9084" href="#9084">[9084]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9086" href="#9086">[9086]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9089" href="#9089">[9089]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$78</span></span></span>
<span class="l"><a class="anc" name="908b" href="#908b">[908b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":908e:@_return"></a><span class="l"><a class="anc" name="908e" href="#908e">[908e]</a><a href="#:908e:@_return" class="lla">@_return:</a><span class="ce">; [$908e]</span></span>
<span class="l"><a class="anc" name="908e" href="#908e">[908e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":908f:@LAB_PRG14__908f"></a><span class="l"><a class="anc" name="908f" href="#908f">[908f]</a><a href="#:908f:@LAB_PRG14__908f" class="lla">@LAB_PRG14__908f:</a><span class="ce">; [$908f]</span></span>
<span class="l"><a class="anc" name="908f" href="#908f">[908f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"><a class="anc" name="9092" href="#9092">[9092]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9095" href="#9095">[9095]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9097" href="#9097">[9097]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"><a class="anc" name="909a" href="#909a">[909a]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="909d" href="#909d">[909d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="909f" href="#909f">[909f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="90a2" href="#90a2">[90a2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="90a4" href="#90a4">[90a4]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="90a6" href="#90a6">[90a6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__90bd">@LAB_PRG14__90bd</a></span></span></span>
<span class="l"><a class="anc" name="90a8" href="#90a8">[90a8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="90aa" href="#90aa">[90aa]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="90ab" href="#90ab">[90ab]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="90ad" href="#90ad">[90ad]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="90af" href="#90af">[90af]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__90b5">@LAB_PRG14__90b5</a></span></span></span>
<span class="l"><a class="anc" name="90b1" href="#90b1">[90b1]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="90b3" href="#90b3">[90b3]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"></span>
<a name=":90b5:@LAB_PRG14__90b5"></a><span class="l"><a class="anc" name="90b5" href="#90b5">[90b5]</a><a href="#:90b5:@LAB_PRG14__90b5" class="lla">@LAB_PRG14__90b5:</a><span class="ce">; [$90b5]</span></span>
<span class="l"><a class="anc" name="90b5" href="#90b5">[90b5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="90b7" href="#90b7">[90b7]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="90b8" href="#90b8">[90b8]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="90ba" href="#90ba">[90ba]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="90bc" href="#90bc">[90bc]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":90bd:@LAB_PRG14__90bd"></a><span class="l"><a class="anc" name="90bd" href="#90bd">[90bd]</a><a href="#:90bd:@LAB_PRG14__90bd" class="lla">@LAB_PRG14__90bd:</a><span class="ce">; [$90bd]</span></span>
<span class="l"><a class="anc" name="90bd" href="#90bd">[90bd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="90bf" href="#90bf">[90bf]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="90c0" href="#90c0">[90c0]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="90c2" href="#90c2">[90c2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="90c4" href="#90c4">[90c4]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="90c6" href="#90c6">[90c6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="90c8" href="#90c8">[90c8]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="90c9" href="#90c9">[90c9]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="90cb" href="#90cb">[90cb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"></span>
<a name=":90cd:@_return1"></a><span class="l"><a class="anc" name="90cd" href="#90cd">[90cd]</a><a href="#:90cd:@_return1" class="lla">@_return1:</a><span class="ce">; [$90cd]</span></span>
<span class="l"><a class="anc" name="90cd" href="#90cd">[90cd]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":90ce:@LAB_PRG14__90ce"></a><span class="l"><a class="anc" name="90ce" href="#90ce">[90ce]</a><a href="#:90ce:@LAB_PRG14__90ce" class="lla">@LAB_PRG14__90ce:</a><span class="ce">; [$90ce]</span></span>
<span class="l"><a class="anc" name="90ce" href="#90ce">[90ce]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="90d1" href="#90d1">[90d1]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="90d4" href="#90d4">[90d4]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="90d6" href="#90d6">[90d6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="90d8" href="#90d8">[90d8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="90db" href="#90db">[90db]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":90de:@_return2"></a><span class="l"><a class="anc" name="90de" href="#90de">[90de]</a><a href="#:90de:@_return2" class="lla">@_return2:</a><span class="ce">; [$90de]</span></span>
<span class="l"><a class="anc" name="90de" href="#90de">[90de]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Nash"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Nash
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80a1]
;============================================================================
</div><span class="l"><a class="anc" name="90df" href="#90df">[90df]</a><a href="#SpriteUpdateHandler_Enemy_Nash" class="la">SpriteUpdateHandler_Enemy_Nash:</a><span class="ce">; [$90df]</span></span>
<span class="l"><a class="anc" name="90df" href="#90df">[90df]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="90e2" href="#90e2">[90e2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="90e5" href="#90e5">[90e5]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="90e7" href="#90e7">[90e7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="90e9" href="#90e9">[90e9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__90f7">@LAB_PRG14__90f7</a></span></span></span>
<span class="l"><a class="anc" name="90eb" href="#90eb">[90eb]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="90ee" href="#90ee">[90ee]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="90f0" href="#90f0">[90f0]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="90f2" href="#90f2">[90f2]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="90f4" href="#90f4">[90f4]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__910b">@LAB_PRG14__910b</a></span></span></span>
<span class="l"></span>
<a name=":90f6:@_return"></a><span class="l"><a class="anc" name="90f6" href="#90f6">[90f6]</a><a href="#:90f6:@_return" class="lla">@_return:</a><span class="ce">; [$90f6]</span></span>
<span class="l"><a class="anc" name="90f6" href="#90f6">[90f6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":90f7:@LAB_PRG14__90f7"></a><span class="l"><a class="anc" name="90f7" href="#90f7">[90f7]</a><a href="#:90f7:@LAB_PRG14__90f7" class="lla">@LAB_PRG14__90f7:</a><span class="ce">; [$90f7]</span></span>
<span class="l"><a class="anc" name="90f7" href="#90f7">[90f7]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="90f9" href="#90f9">[90f9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="90fc" href="#90fc">[90fc]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="90fd" href="#90fd">[90fd]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="90ff" href="#90ff">[90ff]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$28</span></span></span>
<span class="l"><a class="anc" name="9101" href="#9101">[9101]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__910b">@LAB_PRG14__910b</a></span></span></span>
<span class="l"><a class="anc" name="9103" href="#9103">[9103]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9105" href="#9105">[9105]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="9107" href="#9107">[9107]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__910b">@LAB_PRG14__910b</a></span></span></span>
<span class="l"><a class="anc" name="9109" href="#9109">[9109]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<a name=":910b:@LAB_PRG14__910b"></a><span class="l"><a class="anc" name="910b" href="#910b">[910b]</a><a href="#:910b:@LAB_PRG14__910b" class="lla">@LAB_PRG14__910b:</a><span class="ce">; [$910b]</span></span>
<span class="l"><a class="anc" name="910b" href="#910b">[910b]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="910c" href="#910c">[910c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_FireGiant"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_FireGiant
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80a3]
;============================================================================
</div><span class="l"><a class="anc" name="910f" href="#910f">[910f]</a><a href="#SpriteUpdateHandler_Enemy_FireGiant" class="la">SpriteUpdateHandler_Enemy_FireGiant:</a><span class="ce">; [$910f]</span></span>
<span class="l"><a class="anc" name="910f" href="#910f">[910f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9112" href="#9112">[9112]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9114" href="#9114">[9114]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9117" href="#9117">[9117]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9119" href="#9119">[9119]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9125">@LAB_PRG14__9125</a></span></span></span>
<span class="l"><a class="anc" name="911b" href="#911b">[911b]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="911d" href="#911d">[911d]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9120" href="#9120">[9120]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9122" href="#9122">[9122]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9125">@LAB_PRG14__9125</a></span></span></span>
<span class="l"><a class="anc" name="9124" href="#9124">[9124]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9125:@LAB_PRG14__9125"></a><span class="l"><a class="anc" name="9125" href="#9125">[9125]</a><a href="#:9125:@LAB_PRG14__9125" class="lla">@LAB_PRG14__9125:</a><span class="ce">; [$9125]</span></span>
<span class="l"><a class="anc" name="9125" href="#9125">[9125]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9126" href="#9126">[9126]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Ishiisu"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Ishiisu
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a667]
;============================================================================
</div><span class="l"><a class="anc" name="9129" href="#9129">[9129]</a><a href="#SpriteBehavior_Ishiisu" class="la">SpriteBehavior_Ishiisu:</a><span class="ce">; [$9129]</span></span>
<span class="l"><a class="anc" name="9129" href="#9129">[9129]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="912c" href="#912c">[912c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9136">@LAB_PRG14__9136</a></span></span></span>
<span class="l"><a class="anc" name="912e" href="#912e">[912e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9130" href="#9130">[9130]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9133" href="#9133">[9133]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9136:@LAB_PRG14__9136"></a><span class="l"><a class="anc" name="9136" href="#9136">[9136]</a><a href="#:9136:@LAB_PRG14__9136" class="lla">@LAB_PRG14__9136:</a><span class="ce">; [$9136]</span></span>
<span class="l"><a class="anc" name="9136" href="#9136">[9136]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9139" href="#9139">[9139]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="913a" href="#913a">[913a]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9176">@LAB_PRG14__9176</a></span></span></span>
<span class="l"><a class="anc" name="913c" href="#913c">[913c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="913e" href="#913e">[913e]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="913f" href="#913f">[913f]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="9141" href="#9141">[9141]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9147">@LAB_PRG14__9147</a></span></span></span>
<span class="l"><a class="anc" name="9143" href="#9143">[9143]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9145" href="#9145">[9145]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":9147:@LAB_PRG14__9147"></a><span class="l"><a class="anc" name="9147" href="#9147">[9147]</a><a href="#:9147:@LAB_PRG14__9147" class="lla">@LAB_PRG14__9147:</a><span class="ce">; [$9147]</span></span>
<span class="l"><a class="anc" name="9147" href="#9147">[9147]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9149" href="#9149">[9149]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__915e">@LAB_PRG14__915e</a></span></span></span>
<span class="l"><a class="anc" name="914b" href="#914b">[914b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="914e" href="#914e">[914e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$c0</span></span></span>
<span class="l"><a class="anc" name="9150" href="#9150">[9150]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9153" href="#9153">[9153]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9155" href="#9155">[9155]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9158" href="#9158">[9158]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="915b" href="#915b">[915b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_Ishiisu_Something_915b">SpriteBehavior_Ishiisu_Something_915b</a></span></span></span>
<span class="l"></span>
<a name=":915e:@LAB_PRG14__915e"></a><span class="l"><a class="anc" name="915e" href="#915e">[915e]</a><a href="#:915e:@LAB_PRG14__915e" class="lla">@LAB_PRG14__915e:</a><span class="ce">; [$915e]</span></span>
<span class="l"><a class="anc" name="915e" href="#915e">[915e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9161" href="#9161">[9161]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9163" href="#9163">[9163]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9164" href="#9164">[9164]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="9166" href="#9166">[9166]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9168" href="#9168">[9168]</a><span class="cd"><span class="i">EOR</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__918c">BYTE_ARRAY_PRG14__918c</a>,Y</span></span></span>
<span class="l"><a class="anc" name="916b" href="#916b">[916b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="916d" href="#916d">[916d]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9170" href="#9170">[9170]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$1e</span></span></span>
<span class="l"><a class="anc" name="9172" href="#9172">[9172]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9175:@_return1"></a><span class="l"><a class="anc" name="9175" href="#9175">[9175]</a><a href="#:9175:@_return1" class="lla">@_return1:</a><span class="ce">; [$9175]</span></span>
<span class="l"><a class="anc" name="9175" href="#9175">[9175]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9176:@LAB_PRG14__9176"></a><span class="l"><a class="anc" name="9176" href="#9176">[9176]</a><a href="#:9176:@LAB_PRG14__9176" class="lla">@LAB_PRG14__9176:</a><span class="ce">; [$9176]</span></span>
<span class="l"><a class="anc" name="9176" href="#9176">[9176]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9179" href="#9179">[9179]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="917c" href="#917c">[917c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="917f" href="#917f">[917f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9188">@LAB_PRG14__9188</a></span></span></span>
<span class="l"><a class="anc" name="9181" href="#9181">[9181]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="9183" href="#9183">[9183]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9185" href="#9185">[9185]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__a0a0">FUN_PRG14__a0a0</a></span></span></span>
<span class="l"></span>
<a name=":9188:@LAB_PRG14__9188"></a><span class="l"><a class="anc" name="9188" href="#9188">[9188]</a><a href="#:9188:@LAB_PRG14__9188" class="lla">@LAB_PRG14__9188:</a><span class="ce">; [$9188]</span></span>
<span class="l"><a class="anc" name="9188" href="#9188">[9188]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":918b:@_return2"></a><span class="l"><a class="anc" name="918b" href="#918b">[918b]</a><a href="#:918b:@_return2" class="lla">@_return2:</a><span class="ce">; [$918b]</span></span>
<span class="l"><a class="anc" name="918b" href="#918b">[918b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__918c"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;
</div><span class="l"><a class="anc" name="918c" href="#918c">[918c]</a><a href="#BYTE_ARRAY_PRG14__918c" class="la">BYTE_ARRAY_PRG14__918c:</a><span class="ce">; [$918c]</span></span>
<span class="l"><a class="anc" name="918c" href="#918c">[918c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="918d" href="#918d">[918d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Ishiisu"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Ishiisu
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80a5]
;============================================================================
</div><span class="l"><a class="anc" name="918e" href="#918e">[918e]</a><a href="#SpriteUpdateHandler_Enemy_Ishiisu" class="la">SpriteUpdateHandler_Enemy_Ishiisu:</a><span class="ce">; [$918e]</span></span>
<span class="l"><a class="anc" name="918e" href="#918e">[918e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9191" href="#9191">[9191]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9194" href="#9194">[9194]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9195" href="#9195">[9195]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__91a4">@LAB_PRG14__91a4</a></span></span></span>
<span class="l"><a class="anc" name="9197" href="#9197">[9197]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9199" href="#9199">[9199]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="919c" href="#919c">[919c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="919e" href="#919e">[919e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__91af">@LAB_PRG14__91af</a></span></span></span>
<span class="l"><a class="anc" name="91a0" href="#91a0">[91a0]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="91a2" href="#91a2">[91a2]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__91af">@LAB_PRG14__91af</a></span></span></span>
<span class="l"></span>
<a name=":91a4:@LAB_PRG14__91a4"></a><span class="l"><a class="anc" name="91a4" href="#91a4">[91a4]</a><a href="#:91a4:@LAB_PRG14__91a4" class="lla">@LAB_PRG14__91a4:</a><span class="ce">; [$91a4]</span></span>
<span class="l"><a class="anc" name="91a4" href="#91a4">[91a4]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="91a6" href="#91a6">[91a6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="91a9" href="#91a9">[91a9]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="91ab" href="#91ab">[91ab]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__91af">@LAB_PRG14__91af</a></span></span></span>
<span class="l"><a class="anc" name="91ad" href="#91ad">[91ad]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"></span>
<a name=":91af:@LAB_PRG14__91af"></a><span class="l"><a class="anc" name="91af" href="#91af">[91af]</a><a href="#:91af:@LAB_PRG14__91af" class="lla">@LAB_PRG14__91af:</a><span class="ce">; [$91af]</span></span>
<span class="l"><a class="anc" name="91af" href="#91af">[91af]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="91b0" href="#91b0">[91b0]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_ExecutionHood"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ExecutionHood
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a669]
;============================================================================
</div><span class="l"><a class="anc" name="91b3" href="#91b3">[91b3]</a><a href="#SpriteBehavior_ExecutionHood" class="la">SpriteBehavior_ExecutionHood:</a><span class="ce">; [$91b3]</span></span>
<span class="l"><a class="anc" name="91b3" href="#91b3">[91b3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="91b6" href="#91b6">[91b6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__91c3">@LAB_PRG14__91c3</a></span></span></span>
<span class="l"><a class="anc" name="91b8" href="#91b8">[91b8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="91ba" href="#91ba">[91ba]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="91bd" href="#91bd">[91bd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="91c0" href="#91c0">[91c0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":91c3:@LAB_PRG14__91c3"></a><span class="l"><a class="anc" name="91c3" href="#91c3">[91c3]</a><a href="#:91c3:@LAB_PRG14__91c3" class="lla">@LAB_PRG14__91c3:</a><span class="ce">; [$91c3]</span></span>
<span class="l"><a class="anc" name="91c3" href="#91c3">[91c3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="91c6" href="#91c6">[91c6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="91c8" href="#91c8">[91c8]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="91ca" href="#91ca">[91ca]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__920b">@LAB_PRG14__920b</a></span></span></span>
<span class="l"><a class="anc" name="91cc" href="#91cc">[91cc]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="91ce" href="#91ce">[91ce]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="91d1" href="#91d1">[91d1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="91d3" href="#91d3">[91d3]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="91d6" href="#91d6">[91d6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="91d9" href="#91d9">[91d9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="91dc" href="#91dc">[91dc]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="91de" href="#91de">[91de]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="91e1" href="#91e1">[91e1]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="91e3" href="#91e3">[91e3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="91e6" href="#91e6">[91e6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="91e8" href="#91e8">[91e8]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="91eb" href="#91eb">[91eb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"><a class="anc" name="91ee" href="#91ee">[91ee]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="91f1" href="#91f1">[91f1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="91f4" href="#91f4">[91f4]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="91f6" href="#91f6">[91f6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__91fb">@LAB_PRG14__91fb</a></span></span></span>
<span class="l"><a class="anc" name="91f8" href="#91f8">[91f8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a></span></span></span>
<span class="l"></span>
<a name=":91fb:@LAB_PRG14__91fb"></a><span class="l"><a class="anc" name="91fb" href="#91fb">[91fb]</a><a href="#:91fb:@LAB_PRG14__91fb" class="lla">@LAB_PRG14__91fb:</a><span class="ce">; [$91fb]</span></span>
<span class="l"><a class="anc" name="91fb" href="#91fb">[91fb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="91fe" href="#91fe">[91fe]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="9200" href="#9200">[9200]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9202" href="#9202">[9202]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9205" href="#9205">[9205]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="9207" href="#9207">[9207]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":920a:@_return1"></a><span class="l"><a class="anc" name="920a" href="#920a">[920a]</a><a href="#:920a:@_return1" class="lla">@_return1:</a><span class="ce">; [$920a]</span></span>
<span class="l"><a class="anc" name="920a" href="#920a">[920a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":920b:@LAB_PRG14__920b"></a><span class="l"><a class="anc" name="920b" href="#920b">[920b]</a><a href="#:920b:@LAB_PRG14__920b" class="lla">@LAB_PRG14__920b:</a><span class="ce">; [$920b]</span></span>
<span class="l"><a class="anc" name="920b" href="#920b">[920b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="920e" href="#920e">[920e]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9211" href="#9211">[9211]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9213" href="#9213">[9213]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9216" href="#9216">[9216]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9218" href="#9218">[9218]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="921b" href="#921b">[921b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_ExecutionHood__a093">SpriteBehavior_ExecutionHood__a093</a></span></span></span>
<span class="l"></span>
<a name=":921e:@_return2"></a><span class="l"><a class="anc" name="921e" href="#921e">[921e]</a><a href="#:921e:@_return2" class="lla">@_return2:</a><span class="ce">; [$921e]</span></span>
<span class="l"><a class="anc" name="921e" href="#921e">[921e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_ExecutionHood"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_ExecutionHood
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80a7]
;============================================================================
</div><span class="l"><a class="anc" name="921f" href="#921f">[921f]</a><a href="#SpriteUpdateHandler_Enemy_ExecutionHood" class="la">SpriteUpdateHandler_Enemy_ExecutionHood:</a><span class="ce">; [$921f]</span></span>
<span class="l"><a class="anc" name="921f" href="#921f">[921f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9222" href="#9222">[9222]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9224" href="#9224">[9224]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9227" href="#9227">[9227]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9229" href="#9229">[9229]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="922b" href="#922b">[922b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9235">@LAB_PRG14__9235</a></span></span></span>
<span class="l"><a class="anc" name="922d" href="#922d">[922d]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9230" href="#9230">[9230]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9232" href="#9232">[9232]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9235">@LAB_PRG14__9235</a></span></span></span>
<span class="l"><a class="anc" name="9234" href="#9234">[9234]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9235:@LAB_PRG14__9235"></a><span class="l"><a class="anc" name="9235" href="#9235">[9235]</a><a href="#:9235:@LAB_PRG14__9235" class="lla">@LAB_PRG14__9235:</a><span class="ce">; [$9235]</span></span>
<span class="l"><a class="anc" name="9235" href="#9235">[9235]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9236" href="#9236">[9236]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_CastMagic"></a><div class="cp">;============================================================================
; TODO: Document BScript_Action_CastMagic
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a7a2]
;============================================================================
</div><span class="l"><a class="anc" name="9239" href="#9239">[9239]</a><a href="#BScript_Action_CastMagic" class="la">BScript_Action_CastMagic:</a><span class="ce">; [$9239]</span></span>
<span class="l"><a class="anc" name="9239" href="#9239">[9239]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="923c" href="#923c">[923c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="923e" href="#923e">[923e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9241" href="#9241">[9241]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9243" href="#9243">[9243]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9246" href="#9246">[9246]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9248" href="#9248">[9248]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="924b" href="#924b">[924b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="924d" href="#924d">[924d]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="924e" href="#924e">[924e]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9250" href="#9250">[9250]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9253" href="#9253">[9253]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$54</span></span></span>
<span class="l"><a class="anc" name="9255" href="#9255">[9255]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9258" href="#9258">[9258]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="925a" href="#925a">[925a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="925d" href="#925d">[925d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
<a name=":9260:@_return"></a><span class="l"><a class="anc" name="9260" href="#9260">[9260]</a><a href="#:9260:@_return" class="lla">@_return:</a><span class="ce">; [$9260]</span></span>
<span class="l"><a class="anc" name="9260" href="#9260">[9260]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Charron"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Charron
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80b1]
;============================================================================
</div><span class="l"><a class="anc" name="9261" href="#9261">[9261]</a><a href="#SpriteUpdateHandler_Enemy_Charron" class="la">SpriteUpdateHandler_Enemy_Charron:</a><span class="ce">; [$9261]</span></span>
<span class="l"><a class="anc" name="9261" href="#9261">[9261]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9264" href="#9264">[9264]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9267" href="#9267">[9267]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__927b">@LAB_PRG14__927b</a></span></span></span>
<span class="l"><a class="anc" name="9269" href="#9269">[9269]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="926b" href="#926b">[926b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9280">@LAB_PRG14__9280</a></span></span></span>
<span class="l"><a class="anc" name="926d" href="#926d">[926d]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="926e" href="#926e">[926e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__927b">@LAB_PRG14__927b</a></span></span></span>
<span class="l"><a class="anc" name="9270" href="#9270">[9270]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9273" href="#9273">[9273]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9274" href="#9274">[9274]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9275" href="#9275">[9275]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9276" href="#9276">[9276]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9278" href="#9278">[9278]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__927d">@LAB_PRG14__927d</a></span></span></span>
<span class="l"></span>
<a name=":927b:@LAB_PRG14__927b"></a><span class="l"><a class="anc" name="927b" href="#927b">[927b]</a><a href="#:927b:@LAB_PRG14__927b" class="lla">@LAB_PRG14__927b:</a><span class="ce">; [$927b]</span></span>
<span class="l"><a class="anc" name="927b" href="#927b">[927b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":927d:@LAB_PRG14__927d"></a><span class="l"><a class="anc" name="927d" href="#927d">[927d]</a><a href="#:927d:@LAB_PRG14__927d" class="lla">@LAB_PRG14__927d:</a><span class="ce">; [$927d]</span></span>
<span class="l"><a class="anc" name="927d" href="#927d">[927d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name=":9280:@LAB_PRG14__9280"></a><span class="l"><a class="anc" name="9280" href="#9280">[9280]</a><a href="#:9280:@LAB_PRG14__9280" class="lla">@LAB_PRG14__9280:</a><span class="ce">; [$9280]</span></span>
<span class="l"><a class="anc" name="9280" href="#9280">[9280]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9282" href="#9282">[9282]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__927d">@LAB_PRG14__927d</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7"></a><div class="cp">;============================================================================
; TODO: Document _thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a623]
;============================================================================
</div><span class="l"><a class="anc" name="9284" href="#9284">[9284]</a><a href="#_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7" class="la">_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7:</a><span class="ce">; [$9284]</span></span>
<span class="l"><a class="anc" name="9284" href="#9284">[9284]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Geributa"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Geributa
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80b5]
;============================================================================
</div><span class="l"><a class="anc" name="9287" href="#9287">[9287]</a><a href="#SpriteUpdateHandler_Enemy_Geributa" class="la">SpriteUpdateHandler_Enemy_Geributa:</a><span class="ce">; [$9287]</span></span>
<span class="l"><a class="anc" name="9287" href="#9287">[9287]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="928a" href="#928a">[928a]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="928c" href="#928c">[928c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="928f" href="#928f">[928f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__929b">@LAB_PRG14__929b</a></span></span></span>
<span class="l"><a class="anc" name="9291" href="#9291">[9291]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9293" href="#9293">[9293]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9296" href="#9296">[9296]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9298" href="#9298">[9298]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__929b">@LAB_PRG14__929b</a></span></span></span>
<span class="l"><a class="anc" name="929a" href="#929a">[929a]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":929b:@LAB_PRG14__929b"></a><span class="l"><a class="anc" name="929b" href="#929b">[929b]</a><a href="#:929b:@LAB_PRG14__929b" class="lla">@LAB_PRG14__929b:</a><span class="ce">; [$929b]</span></span>
<span class="l"><a class="anc" name="929b" href="#929b">[929b]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="929c" href="#929c">[929c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Sugata"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Sugata
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80b7]
;============================================================================
</div><span class="l"><a class="anc" name="929f" href="#929f">[929f]</a><a href="#SpriteUpdateHandler_Enemy_Sugata" class="la">SpriteUpdateHandler_Enemy_Sugata:</a><span class="ce">; [$929f]</span></span>
<span class="l"><a class="anc" name="929f" href="#929f">[929f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="92a2" href="#92a2">[92a2]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="92a4" href="#92a4">[92a4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="92a7" href="#92a7">[92a7]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="92a9" href="#92a9">[92a9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__92ac">@LAB_PRG14__92ac</a></span></span></span>
<span class="l"><a class="anc" name="92ab" href="#92ab">[92ab]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":92ac:@LAB_PRG14__92ac"></a><span class="l"><a class="anc" name="92ac" href="#92ac">[92ac]</a><a href="#:92ac:@LAB_PRG14__92ac" class="lla">@LAB_PRG14__92ac:</a><span class="ce">; [$92ac]</span></span>
<span class="l"><a class="anc" name="92ac" href="#92ac">[92ac]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="92ad" href="#92ad">[92ad]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Grimlock"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Grimlock
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80b9]
;============================================================================
</div><span class="l"><a class="anc" name="92b0" href="#92b0">[92b0]</a><a href="#SpriteUpdateHandler_Enemy_Grimlock" class="la">SpriteUpdateHandler_Enemy_Grimlock:</a><span class="ce">; [$92b0]</span></span>
<span class="l"><a class="anc" name="92b0" href="#92b0">[92b0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="92b3" href="#92b3">[92b3]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="92b5" href="#92b5">[92b5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="92b8" href="#92b8">[92b8]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="92ba" href="#92ba">[92ba]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__92d8">@LAB_PRG14__92d8</a></span></span></span>
<span class="l"><a class="anc" name="92bc" href="#92bc">[92bc]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="92be" href="#92be">[92be]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__92d8">@LAB_PRG14__92d8</a></span></span></span>
<span class="l"><a class="anc" name="92c0" href="#92c0">[92c0]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="92c2" href="#92c2">[92c2]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="92c4" href="#92c4">[92c4]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__92d8">@LAB_PRG14__92d8</a></span></span></span>
<span class="l"><a class="anc" name="92c6" href="#92c6">[92c6]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="92c7" href="#92c7">[92c7]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="92ca" href="#92ca">[92ca]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="92cc" href="#92cc">[92cc]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__92cf">@LAB_PRG14__92cf</a></span></span></span>
<span class="l"><a class="anc" name="92ce" href="#92ce">[92ce]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"></span>
<a name=":92cf:@LAB_PRG14__92cf"></a><span class="l"><a class="anc" name="92cf" href="#92cf">[92cf]</a><a href="#:92cf:@LAB_PRG14__92cf" class="lla">@LAB_PRG14__92cf:</a><span class="ce">; [$92cf]</span></span>
<span class="l"><a class="anc" name="92cf" href="#92cf">[92cf]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="92d0" href="#92d0">[92d0]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="92d1" href="#92d1">[92d1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="92d3" href="#92d3">[92d3]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="92d4" href="#92d4">[92d4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_GRIMLOCK_PHASES">SPRITE_GRIMLOCK_PHASES</a>,Y</span></span></span>
<span class="l"><a class="anc" name="92d7" href="#92d7">[92d7]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":92d8:@LAB_PRG14__92d8"></a><span class="l"><a class="anc" name="92d8" href="#92d8">[92d8]</a><a href="#:92d8:@LAB_PRG14__92d8" class="lla">@LAB_PRG14__92d8:</a><span class="ce">; [$92d8]</span></span>
<span class="l"><a class="anc" name="92d8" href="#92d8">[92d8]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="92d9" href="#92d9">[92d9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="SPRITE_GRIMLOCK_PHASES"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Grimlock">SpriteUpdateHandler_Enemy_Grimlock</a>
;
</div><span class="l"><a class="anc" name="92dc" href="#92dc">[92dc]</a><a href="#SPRITE_GRIMLOCK_PHASES" class="la">SPRITE_GRIMLOCK_PHASES:</a><span class="ce">; [$92dc]</span></span>
<span class="l"><a class="anc" name="92dc" href="#92dc">[92dc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="92dd" href="#92dd">[92dd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="92de" href="#92de">[92de]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="92df" href="#92df">[92df]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_GiantBees"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_GiantBees
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a627]
;============================================================================
</div><span class="l"><a class="anc" name="92e0" href="#92e0">[92e0]</a><a href="#SpriteBehavior_GiantBees" class="la">SpriteBehavior_GiantBees:</a><span class="ce">; [$92e0]</span></span>
<span class="l"><a class="anc" name="92e0" href="#92e0">[92e0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="92e3" href="#92e3">[92e3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__92ed">@LAB_PRG14__92ed</a></span></span></span>
<span class="l"><a class="anc" name="92e5" href="#92e5">[92e5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="92e7" href="#92e7">[92e7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="92ea" href="#92ea">[92ea]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":92ed:@LAB_PRG14__92ed"></a><span class="l"><a class="anc" name="92ed" href="#92ed">[92ed]</a><a href="#:92ed:@LAB_PRG14__92ed" class="lla">@LAB_PRG14__92ed:</a><span class="ce">; [$92ed]</span></span>
<span class="l"><a class="anc" name="92ed" href="#92ed">[92ed]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="92f0" href="#92f0">[92f0]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__92f8">@LAB_PRG14__92f8</a></span></span></span>
<span class="l"><a class="anc" name="92f2" href="#92f2">[92f2]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="92f3" href="#92f3">[92f3]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__932b">@LAB_PRG14__932b</a></span></span></span>
<span class="l"><a class="anc" name="92f5" href="#92f5">[92f5]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__9360">@LAB_PRG14__9360</a></span></span></span>
<span class="l"></span>
<a name=":92f8:@LAB_PRG14__92f8"></a><span class="l"><a class="anc" name="92f8" href="#92f8">[92f8]</a><a href="#:92f8:@LAB_PRG14__92f8" class="lla">@LAB_PRG14__92f8:</a><span class="ce">; [$92f8]</span></span>
<span class="l"><a class="anc" name="92f8" href="#92f8">[92f8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="92fa" href="#92fa">[92fa]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="92fd" href="#92fd">[92fd]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="92ff" href="#92ff">[92ff]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9302" href="#9302">[9302]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"><a class="anc" name="9305" href="#9305">[9305]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9307" href="#9307">[9307]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9309" href="#9309">[9309]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="930b" href="#930b">[930b]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="930e" href="#930e">[930e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9310" href="#9310">[9310]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9313" href="#9313">[9313]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9316" href="#9316">[9316]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9319" href="#9319">[9319]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerY">BScript_Action_FacePlayerY</a></span></span></span>
<span class="l"></span>
<a name=":931c:@_return1"></a><span class="l"><a class="anc" name="931c" href="#931c">[931c]</a><a href="#:931c:@_return1" class="lla">@_return1:</a><span class="ce">; [$931c]</span></span>
<span class="l"><a class="anc" name="931c" href="#931c">[931c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":931d:@LAB_PRG14__931d"></a><span class="l"><a class="anc" name="931d" href="#931d">[931d]</a><a href="#:931d:@LAB_PRG14__931d" class="lla">@LAB_PRG14__931d:</a><span class="ce">; [$931d]</span></span>
<span class="l"><a class="anc" name="931d" href="#931d">[931d]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9320" href="#9320">[9320]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9322" href="#9322">[9322]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9325" href="#9325">[9325]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9327" href="#9327">[9327]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="932a" href="#932a">[932a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":932b:@LAB_PRG14__932b"></a><span class="l"><a class="anc" name="932b" href="#932b">[932b]</a><a href="#:932b:@LAB_PRG14__932b" class="lla">@LAB_PRG14__932b:</a><span class="ce">; [$932b]</span></span>
<span class="l"><a class="anc" name="932b" href="#932b">[932b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="932e" href="#932e">[932e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__931d">@LAB_PRG14__931d</a></span></span></span>
<span class="l"><a class="anc" name="9330" href="#9330">[9330]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="9333" href="#9333">[9333]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9335" href="#9335">[9335]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__931d">@LAB_PRG14__931d</a></span></span></span>
<span class="l"><a class="anc" name="9337" href="#9337">[9337]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9339" href="#9339">[9339]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="933c" href="#933c">[933c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="933e" href="#933e">[933e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9341" href="#9341">[9341]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a></span></span></span>
<span class="l"><a class="anc" name="9344" href="#9344">[9344]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9347" href="#9347">[9347]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9349" href="#9349">[9349]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="934c" href="#934c">[934c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"><a class="anc" name="934f" href="#934f">[934f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9352" href="#9352">[9352]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9353" href="#9353">[9353]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9355" href="#9355">[9355]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9358" href="#9358">[9358]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="935a" href="#935a">[935a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="935c" href="#935c">[935c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":935f:@_return2"></a><span class="l"><a class="anc" name="935f" href="#935f">[935f]</a><a href="#:935f:@_return2" class="lla">@_return2:</a><span class="ce">; [$935f]</span></span>
<span class="l"><a class="anc" name="935f" href="#935f">[935f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9360:@LAB_PRG14__9360"></a><span class="l"><a class="anc" name="9360" href="#9360">[9360]</a><a href="#:9360:@LAB_PRG14__9360" class="lla">@LAB_PRG14__9360:</a><span class="ce">; [$9360]</span></span>
<span class="l"><a class="anc" name="9360" href="#9360">[9360]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9363" href="#9363">[9363]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$c0</span></span></span>
<span class="l"><a class="anc" name="9365" href="#9365">[9365]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9368" href="#9368">[9368]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="936a" href="#936a">[936a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="936d" href="#936d">[936d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a></span></span></span>
<span class="l"><a class="anc" name="9370" href="#9370">[9370]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9373" href="#9373">[9373]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9375" href="#9375">[9375]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="9378" href="#9378">[9378]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="937a" href="#937a">[937a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="937d" href="#937d">[937d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="937f" href="#937f">[937f]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9382" href="#9382">[9382]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"><a class="anc" name="9385" href="#9385">[9385]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9388" href="#9388">[9388]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="938b" href="#938b">[938b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="938d" href="#938d">[938d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9397">@LAB_PRG14__9397</a></span></span></span>
<span class="l"><a class="anc" name="938f" href="#938f">[938f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9392" href="#9392">[9392]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="9394" href="#9394">[9394]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":9397:@LAB_PRG14__9397"></a><span class="l"><a class="anc" name="9397" href="#9397">[9397]</a><a href="#:9397:@LAB_PRG14__9397" class="lla">@LAB_PRG14__9397:</a><span class="ce">; [$9397]</span></span>
<span class="l"><a class="anc" name="9397" href="#9397">[9397]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="939a" href="#939a">[939a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="939c" href="#939c">[939c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="939e" href="#939e">[939e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="93a0" href="#93a0">[93a0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="93a3" href="#93a3">[93a3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="93a6" href="#93a6">[93a6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="93a8" href="#93a8">[93a8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":93ab:@_return"></a><span class="l"><a class="anc" name="93ab" href="#93ab">[93ab]</a><a href="#:93ab:@_return" class="lla">@_return:</a><span class="ce">; [$93ab]</span></span>
<span class="l"><a class="anc" name="93ab" href="#93ab">[93ab]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_GiantBees"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_GiantBees
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80bb]
;============================================================================
</div><span class="l"><a class="anc" name="93ac" href="#93ac">[93ac]</a><a href="#SpriteUpdateHandler_Enemy_GiantBees" class="la">SpriteUpdateHandler_Enemy_GiantBees:</a><span class="ce">; [$93ac]</span></span>
<span class="l"><a class="anc" name="93ac" href="#93ac">[93ac]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="93af" href="#93af">[93af]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="93b1" href="#93b1">[93b1]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="93b4" href="#93b4">[93b4]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="93b6" href="#93b6">[93b6]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__93b9">@LAB_PRG14__93b9</a></span></span></span>
<span class="l"><a class="anc" name="93b8" href="#93b8">[93b8]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":93b9:@LAB_PRG14__93b9"></a><span class="l"><a class="anc" name="93b9" href="#93b9">[93b9]</a><a href="#:93b9:@LAB_PRG14__93b9" class="lla">@LAB_PRG14__93b9:</a><span class="ce">; [$93b9]</span></span>
<span class="l"><a class="anc" name="93b9" href="#93b9">[93b9]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="93ba" href="#93ba">[93ba]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Myconid"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Myconid
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80bd]
;============================================================================
</div><span class="l"><a class="anc" name="93bd" href="#93bd">[93bd]</a><a href="#SpriteUpdateHandler_Enemy_Myconid" class="la">SpriteUpdateHandler_Enemy_Myconid:</a><span class="ce">; [$93bd]</span></span>
<span class="l"><a class="anc" name="93bd" href="#93bd">[93bd]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="93c0" href="#93c0">[93c0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="93c3" href="#93c3">[93c3]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="93c5" href="#93c5">[93c5]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__93d4">@LAB_PRG14__93d4</a></span></span></span>
<span class="l"><a class="anc" name="93c7" href="#93c7">[93c7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="93c9" href="#93c9">[93c9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__93d4">@LAB_PRG14__93d4</a></span></span></span>
<span class="l"><a class="anc" name="93cb" href="#93cb">[93cb]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="93cd" href="#93cd">[93cd]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__93d4">@LAB_PRG14__93d4</a></span></span></span>
<span class="l"><a class="anc" name="93cf" href="#93cf">[93cf]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="93d1" href="#93d1">[93d1]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name=":93d4:@LAB_PRG14__93d4"></a><span class="l"><a class="anc" name="93d4" href="#93d4">[93d4]</a><a href="#:93d4:@LAB_PRG14__93d4" class="lla">@LAB_PRG14__93d4:</a><span class="ce">; [$93d4]</span></span>
<span class="l"><a class="anc" name="93d4" href="#93d4">[93d4]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="93d5" href="#93d5">[93d5]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="93d8" href="#93d8">[93d8]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="93da" href="#93da">[93da]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__93dd">@LAB_PRG14__93dd</a></span></span></span>
<span class="l"><a class="anc" name="93dc" href="#93dc">[93dc]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"></span>
<a name=":93dd:@LAB_PRG14__93dd"></a><span class="l"><a class="anc" name="93dd" href="#93dd">[93dd]</a><a href="#:93dd:@LAB_PRG14__93dd" class="lla">@LAB_PRG14__93dd:</a><span class="ce">; [$93dd]</span></span>
<span class="l"><a class="anc" name="93dd" href="#93dd">[93dd]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="93de" href="#93de">[93de]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="93df" href="#93df">[93df]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="93e0" href="#93e0">[93e0]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="93e2" href="#93e2">[93e2]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Naga"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Naga
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a629]
;============================================================================
</div><span class="l"><a class="anc" name="93e5" href="#93e5">[93e5]</a><a href="#SpriteBehavior_Naga" class="la">SpriteBehavior_Naga:</a><span class="ce">; [$93e5]</span></span>
<span class="l"><a class="anc" name="93e5" href="#93e5">[93e5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="93e8" href="#93e8">[93e8]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__93f5">@LAB_PRG14__93f5</a></span></span></span>
<span class="l"><a class="anc" name="93ea" href="#93ea">[93ea]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="93ec" href="#93ec">[93ec]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="93ef" href="#93ef">[93ef]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="93f2" href="#93f2">[93f2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":93f5:@LAB_PRG14__93f5"></a><span class="l"><a class="anc" name="93f5" href="#93f5">[93f5]</a><a href="#:93f5:@LAB_PRG14__93f5" class="lla">@LAB_PRG14__93f5:</a><span class="ce">; [$93f5]</span></span>
<span class="l"><a class="anc" name="93f5" href="#93f5">[93f5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="93f8" href="#93f8">[93f8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="93fb" href="#93fb">[93fb]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="93fd" href="#93fd">[93fd]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="9400" href="#9400">[9400]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9402" href="#9402">[9402]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9405" href="#9405">[9405]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9408" href="#9408">[9408]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="940a" href="#940a">[940a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="940d" href="#940d">[940d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9410" href="#9410">[9410]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9413" href="#9413">[9413]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9416" href="#9416">[9416]</a><span class="cd"><span class="i">AND</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="9418" href="#9418">[9418]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9422">@LAB_PRG14__9422</a></span></span></span>
<span class="l"><a class="anc" name="941a" href="#941a">[941a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="941d" href="#941d">[941d]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="941f" href="#941f">[941f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":9422:@LAB_PRG14__9422"></a><span class="l"><a class="anc" name="9422" href="#9422">[9422]</a><a href="#:9422:@LAB_PRG14__9422" class="lla">@LAB_PRG14__9422:</a><span class="ce">; [$9422]</span></span>
<span class="l"><a class="anc" name="9422" href="#9422">[9422]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="9425" href="#9425">[9425]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9427" href="#9427">[9427]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9429" href="#9429">[9429]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="942c" href="#942c">[942c]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="942d" href="#942d">[942d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerY">BScript_Action_FacePlayerY</a></span></span></span>
<span class="l"><a class="anc" name="9430" href="#9430">[9430]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9432" href="#9432">[9432]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9435" href="#9435">[9435]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$c0</span></span></span>
<span class="l"><a class="anc" name="9437" href="#9437">[9437]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="943a" href="#943a">[943a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="943d" href="#943d">[943d]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="943e" href="#943e">[943e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":9441:@_return"></a><span class="l"><a class="anc" name="9441" href="#9441">[9441]</a><a href="#:9441:@_return" class="lla">@_return:</a><span class="ce">; [$9441]</span></span>
<span class="l"><a class="anc" name="9441" href="#9441">[9441]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Naga"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Naga
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80bf]
;============================================================================
</div><span class="l"><a class="anc" name="9442" href="#9442">[9442]</a><a href="#SpriteUpdateHandler_Enemy_Naga" class="la">SpriteUpdateHandler_Enemy_Naga:</a><span class="ce">; [$9442]</span></span>
<span class="l"><a class="anc" name="9442" href="#9442">[9442]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9445" href="#9445">[9445]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9447" href="#9447">[9447]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="944a" href="#944a">[944a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="944c" href="#944c">[944c]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__944f">@LAB_PRG14__944f</a></span></span></span>
<span class="l"><a class="anc" name="944e" href="#944e">[944e]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":944f:@LAB_PRG14__944f"></a><span class="l"><a class="anc" name="944f" href="#944f">[944f]</a><a href="#:944f:@LAB_PRG14__944f" class="lla">@LAB_PRG14__944f:</a><span class="ce">; [$944f]</span></span>
<span class="l"><a class="anc" name="944f" href="#944f">[944f]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9450" href="#9450">[9450]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Unused29"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Unused29
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80c1]
;============================================================================
</div><span class="l"><a class="anc" name="9453" href="#9453">[9453]</a><a href="#SpriteUpdateHandler_Enemy_Unused29" class="la">SpriteUpdateHandler_Enemy_Unused29:</a><span class="ce">; [$9453]</span></span>
<span class="l"><a class="anc" name="9453" href="#9453">[9453]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9456" href="#9456">[9456]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9458" href="#9458">[9458]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="945b" href="#945b">[945b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__946c">@LAB_PRG14__946c</a></span></span></span>
<span class="l"><a class="anc" name="945d" href="#945d">[945d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="945f" href="#945f">[945f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9470">@LAB_PRG14__9470</a></span></span></span>
<span class="l"><a class="anc" name="9461" href="#9461">[9461]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9463" href="#9463">[9463]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9466" href="#9466">[9466]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9468" href="#9468">[9468]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__946c">@LAB_PRG14__946c</a></span></span></span>
<span class="l"><a class="anc" name="946a" href="#946a">[946a]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<a name=":946c:@LAB_PRG14__946c"></a><span class="l"><a class="anc" name="946c" href="#946c">[946c]</a><a href="#:946c:@LAB_PRG14__946c" class="lla">@LAB_PRG14__946c:</a><span class="ce">; [$946c]</span></span>
<span class="l"><a class="anc" name="946c" href="#946c">[946c]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="946d" href="#946d">[946d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name=":9470:@LAB_PRG14__9470"></a><span class="l"><a class="anc" name="9470" href="#9470">[9470]</a><a href="#:9470:@LAB_PRG14__9470" class="lla">@LAB_PRG14__9470:</a><span class="ce">; [$9470]</span></span>
<span class="l"><a class="anc" name="9470" href="#9470">[9470]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9472" href="#9472">[9472]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9475" href="#9475">[9475]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9477" href="#9477">[9477]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__946c">@LAB_PRG14__946c</a></span></span></span>
<span class="l"><a class="anc" name="9479" href="#9479">[9479]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="947b" href="#947b">[947b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__946c">@LAB_PRG14__946c</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_GiantStrider"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_GiantStrider
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80c3]
;============================================================================
</div><span class="l"><a class="anc" name="947d" href="#947d">[947d]</a><a href="#SpriteUpdateHandler_Enemy_GiantStrider" class="la">SpriteUpdateHandler_Enemy_GiantStrider:</a><span class="ce">; [$947d]</span></span>
<span class="l"><a class="anc" name="947d" href="#947d">[947d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9480" href="#9480">[9480]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9482" href="#9482">[9482]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9485" href="#9485">[9485]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9487" href="#9487">[9487]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9493">@LAB_PRG14__9493</a></span></span></span>
<span class="l"><a class="anc" name="9489" href="#9489">[9489]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="948b" href="#948b">[948b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="948e" href="#948e">[948e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9490" href="#9490">[9490]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9493">@LAB_PRG14__9493</a></span></span></span>
<span class="l"><a class="anc" name="9492" href="#9492">[9492]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9493:@LAB_PRG14__9493"></a><span class="l"><a class="anc" name="9493" href="#9493">[9493]</a><a href="#:9493:@LAB_PRG14__9493" class="lla">@LAB_PRG14__9493:</a><span class="ce">; [$9493]</span></span>
<span class="l"><a class="anc" name="9493" href="#9493">[9493]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9494" href="#9494">[9494]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_SirGawaineWolfman"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_SirGawaineWolfman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a637]
;============================================================================
</div><span class="l"><a class="anc" name="9497" href="#9497">[9497]</a><a href="#SpriteBehavior_SirGawaineWolfman" class="la">SpriteBehavior_SirGawaineWolfman:</a><span class="ce">; [$9497]</span></span>
<span class="l"><a class="anc" name="9497" href="#9497">[9497]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="949a" href="#949a">[949a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__94a4">@LAB_PRG14__94a4</a></span></span></span>
<span class="l"><a class="anc" name="949c" href="#949c">[949c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="949e" href="#949e">[949e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="94a1" href="#94a1">[94a1]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":94a4:@LAB_PRG14__94a4"></a><span class="l"><a class="anc" name="94a4" href="#94a4">[94a4]</a><a href="#:94a4:@LAB_PRG14__94a4" class="lla">@LAB_PRG14__94a4:</a><span class="ce">; [$94a4]</span></span>
<span class="l"><a class="anc" name="94a4" href="#94a4">[94a4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="94a7" href="#94a7">[94a7]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__94ac">@LAB_PRG14__94ac</a></span></span></span>
<span class="l"><a class="anc" name="94a9" href="#94a9">[94a9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"></span>
<a name=":94ac:@LAB_PRG14__94ac"></a><span class="l"><a class="anc" name="94ac" href="#94ac">[94ac]</a><a href="#:94ac:@LAB_PRG14__94ac" class="lla">@LAB_PRG14__94ac:</a><span class="ce">; [$94ac]</span></span>
<span class="l"><a class="anc" name="94ac" href="#94ac">[94ac]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="94ae" href="#94ae">[94ae]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="94b1" href="#94b1">[94b1]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceXToPlayer">Sprite_CalcDistanceXToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="94b4" href="#94b4">[94b4]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$18</span></span></span>
<span class="l"><a class="anc" name="94b6" href="#94b6">[94b6]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="94b8" href="#94b8">[94b8]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__94d5">@LAB_PRG14__94d5</a></span></span></span>
<span class="l"><a class="anc" name="94ba" href="#94ba">[94ba]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="94bd" href="#94bd">[94bd]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="94bf" href="#94bf">[94bf]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="94c2" href="#94c2">[94c2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="94c4" href="#94c4">[94c4]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="94c7" href="#94c7">[94c7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="94ca" href="#94ca">[94ca]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="94cd" href="#94cd">[94cd]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="94cf" href="#94cf">[94cf]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="94d1" href="#94d1">[94d1]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":94d4:@_return1"></a><span class="l"><a class="anc" name="94d4" href="#94d4">[94d4]</a><a href="#:94d4:@_return1" class="lla">@_return1:</a><span class="ce">; [$94d4]</span></span>
<span class="l"><a class="anc" name="94d4" href="#94d4">[94d4]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":94d5:@LAB_PRG14__94d5"></a><span class="l"><a class="anc" name="94d5" href="#94d5">[94d5]</a><a href="#:94d5:@LAB_PRG14__94d5" class="lla">@LAB_PRG14__94d5:</a><span class="ce">; [$94d5]</span></span>
<span class="l"><a class="anc" name="94d5" href="#94d5">[94d5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="94d7" href="#94d7">[94d7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="94da" href="#94da">[94da]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="94dc" href="#94dc">[94dc]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="94de" href="#94de">[94de]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__94f3">@LAB_PRG14__94f3</a></span></span></span>
<span class="l"><a class="anc" name="94e0" href="#94e0">[94e0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="94e3" href="#94e3">[94e3]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="94e5" href="#94e5">[94e5]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="94e8" href="#94e8">[94e8]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="94ea" href="#94ea">[94ea]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__94ee">@LAB_PRG14__94ee</a></span></span></span>
<span class="l"><a class="anc" name="94ec" href="#94ec">[94ec]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<a name=":94ee:@LAB_PRG14__94ee"></a><span class="l"><a class="anc" name="94ee" href="#94ee">[94ee]</a><a href="#:94ee:@LAB_PRG14__94ee" class="lla">@LAB_PRG14__94ee:</a><span class="ce">; [$94ee]</span></span>
<span class="l"><a class="anc" name="94ee" href="#94ee">[94ee]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="94ef" href="#94ef">[94ef]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="94f2" href="#94f2">[94f2]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":94f3:@LAB_PRG14__94f3"></a><span class="l"><a class="anc" name="94f3" href="#94f3">[94f3]</a><a href="#:94f3:@LAB_PRG14__94f3" class="lla">@LAB_PRG14__94f3:</a><span class="ce">; [$94f3]</span></span>
<span class="l"><a class="anc" name="94f3" href="#94f3">[94f3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="94f5" href="#94f5">[94f5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="94f8" href="#94f8">[94f8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="94fb" href="#94fb">[94fb]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="94fd" href="#94fd">[94fd]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9500" href="#9500">[9500]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9502" href="#9502">[9502]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9505" href="#9505">[9505]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="9508" href="#9508">[9508]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="950b" href="#950b">[950b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="950d" href="#950d">[950d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="950f" href="#950f">[950f]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":9512:@_return2"></a><span class="l"><a class="anc" name="9512" href="#9512">[9512]</a><a href="#:9512:@_return2" class="lla">@_return2:</a><span class="ce">; [$9512]</span></span>
<span class="l"><a class="anc" name="9512" href="#9512">[9512]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_SirGawaine_Wolfman"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_SirGawaine_Wolfman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80c5]
;     <a href="#thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman">thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman</a>
;============================================================================
</div><span class="l"><a class="anc" name="9513" href="#9513">[9513]</a><a href="#SpriteUpdateHandler_Enemy_SirGawaine_Wolfman" class="la">SpriteUpdateHandler_Enemy_SirGawaine_Wolfman:</a><span class="ce">; [$9513]</span></span>
<span class="l"><a class="anc" name="9513" href="#9513">[9513]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9516" href="#9516">[9516]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9519" href="#9519">[9519]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Maskman"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Maskman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80c7]
;============================================================================
</div><span class="l"><a class="anc" name="951c" href="#951c">[951c]</a><a href="#SpriteUpdateHandler_Enemy_Maskman" class="la">SpriteUpdateHandler_Enemy_Maskman:</a><span class="ce">; [$951c]</span></span>
<span class="l"><a class="anc" name="951c" href="#951c">[951c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="951f" href="#951f">[951f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9521" href="#9521">[9521]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9524" href="#9524">[9524]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9525" href="#9525">[9525]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9531">@LAB_PRG14__9531</a></span></span></span>
<span class="l"><a class="anc" name="9527" href="#9527">[9527]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9529" href="#9529">[9529]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="952c" href="#952c">[952c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="952e" href="#952e">[952e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9531">@LAB_PRG14__9531</a></span></span></span>
<span class="l"><a class="anc" name="9530" href="#9530">[9530]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9531:@LAB_PRG14__9531"></a><span class="l"><a class="anc" name="9531" href="#9531">[9531]</a><a href="#:9531:@LAB_PRG14__9531" class="lla">@LAB_PRG14__9531:</a><span class="ce">; [$9531]</span></span>
<span class="l"><a class="anc" name="9531" href="#9531">[9531]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9532" href="#9532">[9532]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman"></a><div class="cp">;============================================================================
; TODO: Document thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80c9]
;============================================================================
</div><span class="l"><a class="anc" name="9535" href="#9535">[9535]</a><a href="#thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman" class="la">thunk_SpriteUpdateHandler_Enemy_SirGawaine_Wolfman:</a><span class="ce">; [$9535]</span></span>
<span class="l"><a class="anc" name="9535" href="#9535">[9535]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteUpdateHandler_Enemy_SirGawaine_Wolfman">SpriteUpdateHandler_Enemy_SirGawaine_Wolfman</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Yareeka"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Yareeka
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a62b]
;============================================================================
</div><span class="l"><a class="anc" name="9538" href="#9538">[9538]</a><a href="#SpriteBehavior_Yareeka" class="la">SpriteBehavior_Yareeka:</a><span class="ce">; [$9538]</span></span>
<span class="l"><a class="anc" name="9538" href="#9538">[9538]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="953b" href="#953b">[953b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9548">@LAB_PRG14__9548</a></span></span></span>
<span class="l"><a class="anc" name="953d" href="#953d">[953d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="953f" href="#953f">[953f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9542" href="#9542">[9542]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9545" href="#9545">[9545]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9548:@LAB_PRG14__9548"></a><span class="l"><a class="anc" name="9548" href="#9548">[9548]</a><a href="#:9548:@LAB_PRG14__9548" class="lla">@LAB_PRG14__9548:</a><span class="ce">; [$9548]</span></span>
<span class="l"><a class="anc" name="9548" href="#9548">[9548]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="954b" href="#954b">[954b]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="954d" href="#954d">[954d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9580">@LAB_PRG14__9580</a></span></span></span>
<span class="l"><a class="anc" name="954f" href="#954f">[954f]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9550" href="#9550">[9550]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9565">@LAB_PRG14__9565</a></span></span></span>
<span class="l"><a class="anc" name="9552" href="#9552">[9552]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__9593">FUN_PRG14__9593</a></span></span></span>
<span class="l"><a class="anc" name="9555" href="#9555">[9555]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9558" href="#9558">[9558]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="955a" href="#955a">[955a]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="955c" href="#955c">[955c]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="955f" href="#955f">[955f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9561" href="#9561">[9561]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9564:@_return1"></a><span class="l"><a class="anc" name="9564" href="#9564">[9564]</a><a href="#:9564:@_return1" class="lla">@_return1:</a><span class="ce">; [$9564]</span></span>
<span class="l"><a class="anc" name="9564" href="#9564">[9564]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9565:@LAB_PRG14__9565"></a><span class="l"><a class="anc" name="9565" href="#9565">[9565]</a><a href="#:9565:@LAB_PRG14__9565" class="lla">@LAB_PRG14__9565:</a><span class="ce">; [$9565]</span></span>
<span class="l"><a class="anc" name="9565" href="#9565">[9565]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9567" href="#9567">[9567]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="956a" href="#956a">[956a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="956c" href="#956c">[956c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="956f" href="#956f">[956f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="9572" href="#9572">[9572]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9575" href="#9575">[9575]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__957f">@LAB_PRG14__957f</a></span></span></span>
<span class="l"><a class="anc" name="9577" href="#9577">[9577]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="957a" href="#957a">[957a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="957c" href="#957c">[957c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":957f:@LAB_PRG14__957f"></a><span class="l"><a class="anc" name="957f" href="#957f">[957f]</a><a href="#:957f:@LAB_PRG14__957f" class="lla">@LAB_PRG14__957f:</a><span class="ce">; [$957f]</span></span>
<span class="l"><a class="anc" name="957f" href="#957f">[957f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9580:@LAB_PRG14__9580"></a><span class="l"><a class="anc" name="9580" href="#9580">[9580]</a><a href="#:9580:@LAB_PRG14__9580" class="lla">@LAB_PRG14__9580:</a><span class="ce">; [$9580]</span></span>
<span class="l"><a class="anc" name="9580" href="#9580">[9580]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__9593">FUN_PRG14__9593</a></span></span></span>
<span class="l"><a class="anc" name="9583" href="#9583">[9583]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9586" href="#9586">[9586]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="9588" href="#9588">[9588]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="958a" href="#958a">[958a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="958c" href="#958c">[958c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="958f" href="#958f">[958f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9592:@_return2"></a><span class="l"><a class="anc" name="9592" href="#9592">[9592]</a><a href="#:9592:@_return2" class="lla">@_return2:</a><span class="ce">; [$9592]</span></span>
<span class="l"><a class="anc" name="9592" href="#9592">[9592]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9593"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9593
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__9699">FUN_PRG14__9699</a>
;     <a href="#LAB_PRG14__96d5">LAB_PRG14__96d5</a> [$PRG14::96d5]
;     <a href="#SpriteBehavior_Yareeka">SpriteBehavior_Yareeka</a>
;============================================================================
</div><span class="l"><a class="anc" name="9593" href="#9593">[9593]</a><a href="#FUN_PRG14__9593" class="la">FUN_PRG14__9593:</a><span class="ce">; [$9593]</span></span>
<span class="l"><a class="anc" name="9593" href="#9593">[9593]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9596" href="#9596">[9596]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9599" href="#9599">[9599]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="959b" href="#959b">[959b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="959e" href="#959e">[959e]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="95a0" href="#95a0">[95a0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcHorizSpriteMovement">Sprites_CalcHorizSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="95a3" href="#95a3">[95a3]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="95a6" href="#95a6">[95a6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="95a8" href="#95a8">[95a8]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="95ab" href="#95ab">[95ab]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Yareeka"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Yareeka
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80cb]
;============================================================================
</div><span class="l"><a class="anc" name="95ae" href="#95ae">[95ae]</a><a href="#SpriteUpdateHandler_Enemy_Yareeka" class="la">SpriteUpdateHandler_Enemy_Yareeka:</a><span class="ce">; [$95ae]</span></span>
<span class="l"><a class="anc" name="95ae" href="#95ae">[95ae]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="95b1" href="#95b1">[95b1]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="95b3" href="#95b3">[95b3]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="95b6" href="#95b6">[95b6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="95b8" href="#95b8">[95b8]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__95bc">@LAB_PRG14__95bc</a></span></span></span>
<span class="l"><a class="anc" name="95ba" href="#95ba">[95ba]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":95bc:@LAB_PRG14__95bc"></a><span class="l"><a class="anc" name="95bc" href="#95bc">[95bc]</a><a href="#:95bc:@LAB_PRG14__95bc" class="lla">@LAB_PRG14__95bc:</a><span class="ce">; [$95bc]</span></span>
<span class="l"><a class="anc" name="95bc" href="#95bc">[95bc]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="95bd" href="#95bd">[95bd]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Magman"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Magman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a62d]
;============================================================================
</div><span class="l"><a class="anc" name="95c0" href="#95c0">[95c0]</a><a href="#SpriteBehavior_Magman" class="la">SpriteBehavior_Magman:</a><span class="ce">; [$95c0]</span></span>
<span class="l"><a class="anc" name="95c0" href="#95c0">[95c0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="95c3" href="#95c3">[95c3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__95da">@LAB_PRG14__95da</a></span></span></span>
<span class="l"><a class="anc" name="95c5" href="#95c5">[95c5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="95c7" href="#95c7">[95c7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="95ca" href="#95ca">[95ca]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="95cc" href="#95cc">[95cc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="95cf" href="#95cf">[95cf]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$d0</span></span></span>
<span class="l"><a class="anc" name="95d1" href="#95d1">[95d1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="95d3" href="#95d3">[95d3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="95d5" href="#95d5">[95d5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="95d7" href="#95d7">[95d7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":95da:@LAB_PRG14__95da"></a><span class="l"><a class="anc" name="95da" href="#95da">[95da]</a><a href="#:95da:@LAB_PRG14__95da" class="lla">@LAB_PRG14__95da:</a><span class="ce">; [$95da]</span></span>
<span class="l"><a class="anc" name="95da" href="#95da">[95da]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="95dd" href="#95dd">[95dd]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="95de" href="#95de">[95de]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9602">@LAB_PRG14__9602</a></span></span></span>
<span class="l"><a class="anc" name="95e0" href="#95e0">[95e0]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="95e3" href="#95e3">[95e3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="95e5" href="#95e5">[95e5]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="95e8" href="#95e8">[95e8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$78</span></span></span>
<span class="l"><a class="anc" name="95ea" href="#95ea">[95ea]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="95ed" href="#95ed">[95ed]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="95ef" href="#95ef">[95ef]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="95f1" href="#95f1">[95f1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="95f3" href="#95f3">[95f3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__95f7">@LAB_PRG14__95f7</a></span></span></span>
<span class="l"><a class="anc" name="95f5" href="#95f5">[95f5]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$d0</span></span></span>
<span class="l"></span>
<a name=":95f7:@LAB_PRG14__95f7"></a><span class="l"><a class="anc" name="95f7" href="#95f7">[95f7]</a><a href="#:95f7:@LAB_PRG14__95f7" class="lla">@LAB_PRG14__95f7:</a><span class="ce">; [$95f7]</span></span>
<span class="l"><a class="anc" name="95f7" href="#95f7">[95f7]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="95f8" href="#95f8">[95f8]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="95f9" href="#95f9">[95f9]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="95fb" href="#95fb">[95fb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="95fd" href="#95fd">[95fd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"><a class="anc" name="95ff" href="#95ff">[95ff]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"></span>
<a name=":9601:@_return"></a><span class="l"><a class="anc" name="9601" href="#9601">[9601]</a><a href="#:9601:@_return" class="lla">@_return:</a><span class="ce">; [$9601]</span></span>
<span class="l"><a class="anc" name="9601" href="#9601">[9601]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9602:@LAB_PRG14__9602"></a><span class="l"><a class="anc" name="9602" href="#9602">[9602]</a><a href="#:9602:@LAB_PRG14__9602" class="lla">@LAB_PRG14__9602:</a><span class="ce">; [$9602]</span></span>
<span class="l"><a class="anc" name="9602" href="#9602">[9602]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9605" href="#9605">[9605]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9608" href="#9608">[9608]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_961A">RETURN_961A</a></span></span></span>
<span class="l"><a class="anc" name="960a" href="#960a">[960a]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="960d" href="#960d">[960d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="960f" href="#960f">[960f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9612" href="#9612">[9612]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$d0</span></span></span>
<span class="l"><a class="anc" name="9614" href="#9614">[9614]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9616" href="#9616">[9616]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="9618" href="#9618">[9618]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"></span>
<a name="RETURN_961A"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Magman">SpriteBehavior_Magman</a>
;     <a href="#SpriteUpdateHandler_Enemy_Magman">SpriteUpdateHandler_Enemy_Magman</a>
;
</div><span class="l"><a class="anc" name="961a" href="#961a">[961a]</a><a href="#RETURN_961A" class="la">RETURN_961A:</a><span class="ce">; [$961a]</span></span>
<span class="l"><a class="anc" name="961a" href="#961a">[961a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Magman"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Magman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80cd]
;============================================================================
</div><span class="l"><a class="anc" name="961b" href="#961b">[961b]</a><a href="#SpriteUpdateHandler_Enemy_Magman" class="la">SpriteUpdateHandler_Enemy_Magman:</a><span class="ce">; [$961b]</span></span>
<span class="l"><a class="anc" name="961b" href="#961b">[961b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="961e" href="#961e">[961e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9621" href="#9621">[9621]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9622" href="#9622">[9622]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#RETURN_961A">RETURN_961A</a></span></span></span>
<span class="l"><a class="anc" name="9624" href="#9624">[9624]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9626" href="#9626">[9626]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9629" href="#9629">[9629]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="962b" href="#962b">[962b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__962e">@LAB_PRG14__962e</a></span></span></span>
<span class="l"><a class="anc" name="962d" href="#962d">[962d]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":962e:@LAB_PRG14__962e"></a><span class="l"><a class="anc" name="962e" href="#962e">[962e]</a><a href="#:962e:@LAB_PRG14__962e" class="lla">@LAB_PRG14__962e:</a><span class="ce">; [$962e]</span></span>
<span class="l"><a class="anc" name="962e" href="#962e">[962e]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="962f" href="#962f">[962f]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyUnused36"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyUnused36
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a62f]
;============================================================================
</div><span class="l"><a class="anc" name="9632" href="#9632">[9632]</a><a href="#SpriteBehavior_EnemyUnused36" class="la">SpriteBehavior_EnemyUnused36:</a><span class="ce">; [$9632]</span></span>
<span class="l"><a class="anc" name="9632" href="#9632">[9632]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9635" href="#9635">[9635]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9644">@LAB_PRG14__9644</a></span></span></span>
<span class="l"><a class="anc" name="9637" href="#9637">[9637]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9639" href="#9639">[9639]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="963c" href="#963c">[963c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="963e" href="#963e">[963e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9641" href="#9641">[9641]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9644:@LAB_PRG14__9644"></a><span class="l"><a class="anc" name="9644" href="#9644">[9644]</a><a href="#:9644:@LAB_PRG14__9644" class="lla">@LAB_PRG14__9644:</a><span class="ce">; [$9644]</span></span>
<span class="l"><a class="anc" name="9644" href="#9644">[9644]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9647" href="#9647">[9647]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9649" href="#9649">[9649]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="964c" href="#964c">[964c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="964f" href="#964f">[964f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9651" href="#9651">[9651]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="9654" href="#9654">[9654]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9656" href="#9656">[9656]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9659" href="#9659">[9659]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="965c" href="#965c">[965c]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="965e" href="#965e">[965e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9661" href="#9661">[9661]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9664" href="#9664">[9664]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9667" href="#9667">[9667]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="966a" href="#966a">[966a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="966c" href="#966c">[966c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9671">@LAB_PRG14__9671</a></span></span></span>
<span class="l"><a class="anc" name="966e" href="#966e">[966e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a></span></span></span>
<span class="l"></span>
<a name=":9671:@LAB_PRG14__9671"></a><span class="l"><a class="anc" name="9671" href="#9671">[9671]</a><a href="#:9671:@LAB_PRG14__9671" class="lla">@LAB_PRG14__9671:</a><span class="ce">; [$9671]</span></span>
<span class="l"><a class="anc" name="9671" href="#9671">[9671]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9674" href="#9674">[9674]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#FUN_PRG14__9699">FUN_PRG14__9699</a></span></span></span>
<span class="l"><a class="anc" name="9676" href="#9676">[9676]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9678" href="#9678">[9678]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="967b" href="#967b">[967b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$c0</span></span></span>
<span class="l"><a class="anc" name="967d" href="#967d">[967d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9680" href="#9680">[9680]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="9683" href="#9683">[9683]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="9686" href="#9686">[9686]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9688" href="#9688">[9688]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="968a" href="#968a">[968a]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="968d" href="#968d">[968d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="968f" href="#968f">[968f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9692:@_return"></a><span class="l"><a class="anc" name="9692" href="#9692">[9692]</a><a href="#:9692:@_return" class="lla">@_return:</a><span class="ce">; [$9692]</span></span>
<span class="l"><a class="anc" name="9692" href="#9692">[9692]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9693"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9693
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__9699">FUN_PRG14__9699</a>
;============================================================================
</div><span class="l"><a class="anc" name="9693" href="#9693">[9693]</a><a href="#FUN_PRG14__9693" class="la">FUN_PRG14__9693:</a><span class="ce">; [$9693]</span></span>
<span class="l"><a class="anc" name="9693" href="#9693">[9693]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9695" href="#9695">[9695]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9698" href="#9698">[9698]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9699"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9699
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;============================================================================
</div><span class="l"><a class="anc" name="9699" href="#9699">[9699]</a><a href="#FUN_PRG14__9699" class="la">FUN_PRG14__9699:</a><span class="ce">; [$9699]</span></span>
<span class="l"><a class="anc" name="9699" href="#9699">[9699]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="969c" href="#969c">[969c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="969e" href="#969e">[969e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#FUN_PRG14__9693">FUN_PRG14__9693</a></span></span></span>
<span class="l"><a class="anc" name="96a0" href="#96a0">[96a0]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="96a3" href="#96a3">[96a3]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="96a5" href="#96a5">[96a5]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__96d5">@LAB_PRG14__96d5</a></span></span></span>
<span class="l"><a class="anc" name="96a7" href="#96a7">[96a7]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="96a8" href="#96a8">[96a8]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__96b8">@LAB_PRG14__96b8</a></span></span></span>
<span class="l"><a class="anc" name="96aa" href="#96aa">[96aa]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__9593">FUN_PRG14__9593</a></span></span></span>
<span class="l"><a class="anc" name="96ad" href="#96ad">[96ad]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="96b0" href="#96b0">[96b0]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="96b2" href="#96b2">[96b2]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="96b4" href="#96b4">[96b4]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":96b7:@_return1"></a><span class="l"><a class="anc" name="96b7" href="#96b7">[96b7]</a><a href="#:96b7:@_return1" class="lla">@_return1:</a><span class="ce">; [$96b7]</span></span>
<span class="l"><a class="anc" name="96b7" href="#96b7">[96b7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":96b8:@LAB_PRG14__96b8"></a><span class="l"><a class="anc" name="96b8" href="#96b8">[96b8]</a><a href="#:96b8:@LAB_PRG14__96b8" class="lla">@LAB_PRG14__96b8:</a><span class="ce">; [$96b8]</span></span>
<span class="l"><a class="anc" name="96b8" href="#96b8">[96b8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="96ba" href="#96ba">[96ba]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="96bd" href="#96bd">[96bd]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="96bf" href="#96bf">[96bf]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="96c2" href="#96c2">[96c2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="96c5" href="#96c5">[96c5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceXToPlayer">Sprite_CalcDistanceXToPlayer</a></span></span></span>
<span class="l"><a class="anc" name="96c8" href="#96c8">[96c8]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="96ca" href="#96ca">[96ca]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="96cc" href="#96cc">[96cc]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="96cf" href="#96cf">[96cf]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="96d1" href="#96d1">[96d1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":96d4:@_return2"></a><span class="l"><a class="anc" name="96d4" href="#96d4">[96d4]</a><a href="#:96d4:@_return2" class="lla">@_return2:</a><span class="ce">; [$96d4]</span></span>
<span class="l"><a class="anc" name="96d4" href="#96d4">[96d4]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":96d5:@LAB_PRG14__96d5"></a><span class="l"><a class="anc" name="96d5" href="#96d5">[96d5]</a><a href="#:96d5:@LAB_PRG14__96d5" class="lla">@LAB_PRG14__96d5:</a><span class="ce">; [$96d5]</span></span>
<span class="l"><a class="anc" name="96d5" href="#96d5">[96d5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__9593">FUN_PRG14__9593</a></span></span></span>
<span class="l"><a class="anc" name="96d8" href="#96d8">[96d8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="96db" href="#96db">[96db]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="96dd" href="#96dd">[96dd]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return3">@_return3</a></span></span></span>
<span class="l"><a class="anc" name="96df" href="#96df">[96df]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="96e1" href="#96e1">[96e1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="96e4" href="#96e4">[96e4]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="96e6" href="#96e6">[96e6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":96e9:@_return3"></a><span class="l"><a class="anc" name="96e9" href="#96e9">[96e9]</a><a href="#:96e9:@_return3" class="lla">@_return3:</a><span class="ce">; [$96e9]</span></span>
<span class="l"><a class="anc" name="96e9" href="#96e9">[96e9]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Unused_CurlyTail"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Unused_CurlyTail
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80cf]
;============================================================================
</div><span class="l"><a class="anc" name="96ea" href="#96ea">[96ea]</a><a href="#SpriteUpdateHandler_Enemy_Unused_CurlyTail" class="la">SpriteUpdateHandler_Enemy_Unused_CurlyTail:</a><span class="ce">; [$96ea]</span></span>
<span class="l"><a class="anc" name="96ea" href="#96ea">[96ea]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="96ed" href="#96ed">[96ed]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="96f0" href="#96f0">[96f0]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__96f6">@LAB_PRG14__96f6</a></span></span></span>
<span class="l"><a class="anc" name="96f2" href="#96f2">[96f2]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="96f4" href="#96f4">[96f4]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__96f8">@LAB_PRG14__96f8</a></span></span></span>
<span class="l"></span>
<a name=":96f6:@LAB_PRG14__96f6"></a><span class="l"><a class="anc" name="96f6" href="#96f6">[96f6]</a><a href="#:96f6:@LAB_PRG14__96f6" class="lla">@LAB_PRG14__96f6:</a><span class="ce">; [$96f6]</span></span>
<span class="l"><a class="anc" name="96f6" href="#96f6">[96f6]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<a name=":96f8:@LAB_PRG14__96f8"></a><span class="l"><a class="anc" name="96f8" href="#96f8">[96f8]</a><a href="#:96f8:@LAB_PRG14__96f8" class="lla">@LAB_PRG14__96f8:</a><span class="ce">; [$96f8]</span></span>
<span class="l"><a class="anc" name="96f8" href="#96f8">[96f8]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="96fb" href="#96fb">[96fb]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="96fd" href="#96fd">[96fd]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9700">@LAB_PRG14__9700</a></span></span></span>
<span class="l"><a class="anc" name="96ff" href="#96ff">[96ff]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9700:@LAB_PRG14__9700"></a><span class="l"><a class="anc" name="9700" href="#9700">[9700]</a><a href="#:9700:@LAB_PRG14__9700" class="lla">@LAB_PRG14__9700:</a><span class="ce">; [$9700]</span></span>
<span class="l"><a class="anc" name="9700" href="#9700">[9700]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9701" href="#9701">[9701]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Ikeda"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Ikeda
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80d3]
;============================================================================
</div><span class="l"><a class="anc" name="9704" href="#9704">[9704]</a><a href="#SpriteUpdateHandler_Enemy_Ikeda" class="la">SpriteUpdateHandler_Enemy_Ikeda:</a><span class="ce">; [$9704]</span></span>
<span class="l"><a class="anc" name="9704" href="#9704">[9704]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9707" href="#9707">[9707]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9709" href="#9709">[9709]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_GetPreviousSpritePhase">Sprite_GetPreviousSpritePhase</a></span></span></span>
<span class="l"><a class="anc" name="970c" href="#970c">[970c]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="970d" href="#970d">[970d]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9719">@LAB_PRG14__9719</a></span></span></span>
<span class="l"><a class="anc" name="970f" href="#970f">[970f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9711" href="#9711">[9711]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9714" href="#9714">[9714]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9716" href="#9716">[9716]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9719">@LAB_PRG14__9719</a></span></span></span>
<span class="l"><a class="anc" name="9718" href="#9718">[9718]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":9719:@LAB_PRG14__9719"></a><span class="l"><a class="anc" name="9719" href="#9719">[9719]</a><a href="#:9719:@LAB_PRG14__9719" class="lla">@LAB_PRG14__9719:</a><span class="ce">; [$9719]</span></span>
<span class="l"><a class="anc" name="9719" href="#9719">[9719]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="971a" href="#971a">[971a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyUnused39"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyUnused39
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a631]
;============================================================================
</div><span class="l"><a class="anc" name="971d" href="#971d">[971d]</a><a href="#SpriteBehavior_EnemyUnused39" class="la">SpriteBehavior_EnemyUnused39:</a><span class="ce">; [$971d]</span></span>
<span class="l"><a class="anc" name="971d" href="#971d">[971d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9720" href="#9720">[9720]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__972d">@LAB_PRG14__972d</a></span></span></span>
<span class="l"><a class="anc" name="9722" href="#9722">[9722]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9724" href="#9724">[9724]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9727" href="#9727">[9727]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="972a" href="#972a">[972a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":972d:@LAB_PRG14__972d"></a><span class="l"><a class="anc" name="972d" href="#972d">[972d]</a><a href="#:972d:@LAB_PRG14__972d" class="lla">@LAB_PRG14__972d:</a><span class="ce">; [$972d]</span></span>
<span class="l"><a class="anc" name="972d" href="#972d">[972d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="9730" href="#9730">[9730]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9735">@LAB_PRG14__9735</a></span></span></span>
<span class="l"><a class="anc" name="9732" href="#9732">[9732]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"></span>
<a name=":9735:@LAB_PRG14__9735"></a><span class="l"><a class="anc" name="9735" href="#9735">[9735]</a><a href="#:9735:@LAB_PRG14__9735" class="lla">@LAB_PRG14__9735:</a><span class="ce">; [$9735]</span></span>
<span class="l"><a class="anc" name="9735" href="#9735">[9735]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9738" href="#9738">[9738]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="973b" href="#973b">[973b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$13</span></span></span>
<span class="l"><a class="anc" name="973d" href="#973d">[973d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__974b">@LAB_PRG14__974b</a></span></span></span>
<span class="l"><a class="anc" name="973f" href="#973f">[973f]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$56</span></span></span>
<span class="l"><a class="anc" name="9741" href="#9741">[9741]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__974b">@LAB_PRG14__974b</a></span></span></span>
<span class="l"><a class="anc" name="9743" href="#9743">[9743]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$85</span></span></span>
<span class="l"><a class="anc" name="9745" href="#9745">[9745]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__974b">@LAB_PRG14__974b</a></span></span></span>
<span class="l"><a class="anc" name="9747" href="#9747">[9747]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$c9</span></span></span>
<span class="l"><a class="anc" name="9749" href="#9749">[9749]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__974e">@LAB_PRG14__974e</a></span></span></span>
<span class="l"></span>
<a name=":974b:@LAB_PRG14__974b"></a><span class="l"><a class="anc" name="974b" href="#974b">[974b]</a><a href="#:974b:@LAB_PRG14__974b" class="lla">@LAB_PRG14__974b:</a><span class="ce">; [$974b]</span></span>
<span class="l"><a class="anc" name="974b" href="#974b">[974b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__a0a0">FUN_PRG14__a0a0</a></span></span></span>
<span class="l"></span>
<a name=":974e:@LAB_PRG14__974e"></a><span class="l"><a class="anc" name="974e" href="#974e">[974e]</a><a href="#:974e:@LAB_PRG14__974e" class="lla">@LAB_PRG14__974e:</a><span class="ce">; [$974e]</span></span>
<span class="l"><a class="anc" name="974e" href="#974e">[974e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9751" href="#9751">[9751]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9753" href="#9753">[9753]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9756" href="#9756">[9756]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9758" href="#9758">[9758]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="975b" href="#975b">[975b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_MuppetGuy"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_MuppetGuy
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80d5]
;============================================================================
</div><span class="l"><a class="anc" name="975e" href="#975e">[975e]</a><a href="#SpriteUpdateHandler_Enemy_MuppetGuy" class="la">SpriteUpdateHandler_Enemy_MuppetGuy:</a><span class="ce">; [$975e]</span></span>
<span class="l"><a class="anc" name="975e" href="#975e">[975e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9761" href="#9761">[9761]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9763" href="#9763">[9763]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9766" href="#9766">[9766]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9768" href="#9768">[9768]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__976c">@LAB_PRG14__976c</a></span></span></span>
<span class="l"><a class="anc" name="976a" href="#976a">[976a]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":976c:@LAB_PRG14__976c"></a><span class="l"><a class="anc" name="976c" href="#976c">[976c]</a><a href="#:976c:@LAB_PRG14__976c" class="lla">@LAB_PRG14__976c:</a><span class="ce">; [$976c]</span></span>
<span class="l"><a class="anc" name="976c" href="#976c">[976c]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="976d" href="#976d">[976d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Lamprey"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Lamprey
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80d7]
;============================================================================
</div><span class="l"><a class="anc" name="9770" href="#9770">[9770]</a><a href="#SpriteUpdateHandler_Enemy_Lamprey" class="la">SpriteUpdateHandler_Enemy_Lamprey:</a><span class="ce">; [$9770]</span></span>
<span class="l"><a class="anc" name="9770" href="#9770">[9770]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9773" href="#9773">[9773]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9776" href="#9776">[9776]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9777" href="#9777">[9777]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9778" href="#9778">[9778]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9779" href="#9779">[9779]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="977b" href="#977b">[977b]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="977c" href="#977c">[977c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="977e" href="#977e">[977e]</a><span class="cd"><span class="i">EOR</span> <span class="o"><a href="#LAMPREY_HORIZ_FLIP_BITS">LAMPREY_HORIZ_FLIP_BITS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9781" href="#9781">[9781]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9783" href="#9783">[9783]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__978b">BYTE_ARRAY_PRG14__978b</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9786" href="#9786">[9786]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9787" href="#9787">[9787]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9788" href="#9788">[9788]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__978b"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Lamprey">SpriteUpdateHandler_Enemy_Lamprey</a>
;
</div><span class="l"><a class="anc" name="978b" href="#978b">[978b]</a><a href="#BYTE_ARRAY_PRG14__978b" class="la">BYTE_ARRAY_PRG14__978b:</a><span class="ce">; [$978b]</span></span>
<span class="l"><a class="anc" name="978b" href="#978b">[978b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="978c" href="#978c">[978c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="978d" href="#978d">[978d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="978e" href="#978e">[978e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="978f" href="#978f">[978f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="9790" href="#9790">[9790]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="9791" href="#9791">[9791]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="9792" href="#9792">[9792]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
<a name="LAMPREY_HORIZ_FLIP_BITS"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Lamprey">SpriteUpdateHandler_Enemy_Lamprey</a>
;
</div><span class="l"><a class="anc" name="9793" href="#9793">[9793]</a><a href="#LAMPREY_HORIZ_FLIP_BITS" class="la">LAMPREY_HORIZ_FLIP_BITS:</a><span class="ce">; [$9793]</span></span>
<span class="l"><a class="anc" name="9793" href="#9793">[9793]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9794" href="#9794">[9794]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9795" href="#9795">[9795]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9796" href="#9796">[9796]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="9797" href="#9797">[9797]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="9798" href="#9798">[9798]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="9799" href="#9799">[9799]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="979a" href="#979a">[979a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Monodron"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Monodron
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80db]
;============================================================================
</div><span class="l"><a class="anc" name="979b" href="#979b">[979b]</a><a href="#SpriteUpdateHandler_Enemy_Monodron" class="la">SpriteUpdateHandler_Enemy_Monodron:</a><span class="ce">; [$979b]</span></span>
<span class="l"><a class="anc" name="979b" href="#979b">[979b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="979e" href="#979e">[979e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_GetPreviousSpritePhase">Sprite_GetPreviousSpritePhase</a></span></span></span>
<span class="l"><a class="anc" name="97a1" href="#97a1">[97a1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="97a3" href="#97a3">[97a3]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="97a4" href="#97a4">[97a4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_MONODRON_APPEARANCE_PHASES">SPRITE_MONODRON_APPEARANCE_PHASES</a>,Y</span></span></span>
<span class="l"><a class="anc" name="97a7" href="#97a7">[97a7]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="SPRITE_MONODRON_APPEARANCE_PHASES"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Monodron">SpriteUpdateHandler_Enemy_Monodron</a>
;
</div><span class="l"><a class="anc" name="97aa" href="#97aa">[97aa]</a><a href="#SPRITE_MONODRON_APPEARANCE_PHASES" class="la">SPRITE_MONODRON_APPEARANCE_PHASES:</a><span class="ce">; [$97aa]</span></span>
<span class="l"><a class="anc" name="97aa" href="#97aa">[97aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="97ab" href="#97ab">[97ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="97ac" href="#97ac">[97ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="97ad" href="#97ad">[97ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyUnused43"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyUnused43
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a633]
;============================================================================
</div><span class="l"><a class="anc" name="97ae" href="#97ae">[97ae]</a><a href="#SpriteBehavior_EnemyUnused43" class="la">SpriteBehavior_EnemyUnused43:</a><span class="ce">; [$97ae]</span></span>
<span class="l"><a class="anc" name="97ae" href="#97ae">[97ae]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="97b1" href="#97b1">[97b1]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__97be">@LAB_PRG14__97be</a></span></span></span>
<span class="l"><a class="anc" name="97b3" href="#97b3">[97b3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="97b5" href="#97b5">[97b5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="97b8" href="#97b8">[97b8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="97bb" href="#97bb">[97bb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":97be:@LAB_PRG14__97be"></a><span class="l"><a class="anc" name="97be" href="#97be">[97be]</a><a href="#:97be:@LAB_PRG14__97be" class="lla">@LAB_PRG14__97be:</a><span class="ce">; [$97be]</span></span>
<span class="l"><a class="anc" name="97be" href="#97be">[97be]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="97c1" href="#97c1">[97c1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="97c4" href="#97c4">[97c4]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="97c6" href="#97c6">[97c6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="97c9" href="#97c9">[97c9]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="97cb" href="#97cb">[97cb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="97ce" href="#97ce">[97ce]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="97d1" href="#97d1">[97d1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="97d3" href="#97d3">[97d3]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="97d6" href="#97d6">[97d6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="97d9" href="#97d9">[97d9]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="97dc" href="#97dc">[97dc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="97df" href="#97df">[97df]</a><span class="cd"><span class="i">AND</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="97e1" href="#97e1">[97e1]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__97eb">@LAB_PRG14__97eb</a></span></span></span>
<span class="l"><a class="anc" name="97e3" href="#97e3">[97e3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="97e6" href="#97e6">[97e6]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="97e8" href="#97e8">[97e8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":97eb:@LAB_PRG14__97eb"></a><span class="l"><a class="anc" name="97eb" href="#97eb">[97eb]</a><a href="#:97eb:@LAB_PRG14__97eb" class="lla">@LAB_PRG14__97eb:</a><span class="ce">; [$97eb]</span></span>
<span class="l"><a class="anc" name="97eb" href="#97eb">[97eb]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="97ed" href="#97ed">[97ed]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="97ef" href="#97ef">[97ef]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="97f1" href="#97f1">[97f1]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__97f4">@LAB_PRG14__97f4</a></span></span></span>
<span class="l"><a class="anc" name="97f3" href="#97f3">[97f3]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":97f4:@LAB_PRG14__97f4"></a><span class="l"><a class="anc" name="97f4" href="#97f4">[97f4]</a><a href="#:97f4:@LAB_PRG14__97f4" class="lla">@LAB_PRG14__97f4:</a><span class="ce">; [$97f4]</span></span>
<span class="l"><a class="anc" name="97f4" href="#97f4">[97f4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="97f6" href="#97f6">[97f6]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="97f7" href="#97f7">[97f7]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9851">BYTE_ARRAY_PRG14__9851</a>,Y</span></span></span>
<span class="l"><a class="anc" name="97fa" href="#97fa">[97fa]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="97fb" href="#97fb">[97fb]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="97fd" href="#97fd">[97fd]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9820">@LAB_PRG14__9820</a></span></span></span>
<span class="l"><a class="anc" name="97ff" href="#97ff">[97ff]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9801" href="#9801">[9801]</a><span class="cd"><span class="i">ROL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9802" href="#9802">[9802]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9804" href="#9804">[9804]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9807" href="#9807">[9807]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="9808" href="#9808">[9808]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span></span>
<span class="l"><a class="anc" name="980a" href="#980a">[980a]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="980c" href="#980c">[980c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="980f" href="#980f">[980f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9811" href="#9811">[9811]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9814" href="#9814">[9814]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9816" href="#9816">[9816]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9819" href="#9819">[9819]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="981c" href="#981c">[981c]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="981d" href="#981d">[981d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":9820:@LAB_PRG14__9820"></a><span class="l"><a class="anc" name="9820" href="#9820">[9820]</a><a href="#:9820:@LAB_PRG14__9820" class="lla">@LAB_PRG14__9820:</a><span class="ce">; [$9820]</span></span>
<span class="l"><a class="anc" name="9820" href="#9820">[9820]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"><a class="anc" name="9822" href="#9822">[9822]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9823" href="#9823">[9823]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$18</span></span></span>
<span class="l"><a class="anc" name="9825" href="#9825">[9825]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9826" href="#9826">[9826]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9828" href="#9828">[9828]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="982a" href="#982a">[982a]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="982b" href="#982b">[982b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="982d" href="#982d">[982d]</a><span class="cd"><span class="i">ROR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="982e" href="#982e">[982e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9830" href="#9830">[9830]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9832" href="#9832">[9832]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9834" href="#9834">[9834]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9837" href="#9837">[9837]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="9838" href="#9838">[9838]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="983a" href="#983a">[983a]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="983c" href="#983c">[983c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="983f" href="#983f">[983f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9841" href="#9841">[9841]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9844" href="#9844">[9844]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9846" href="#9846">[9846]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9849" href="#9849">[9849]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="984c" href="#984c">[984c]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="984d" href="#984d">[984d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":9850:@_return"></a><span class="l"><a class="anc" name="9850" href="#9850">[9850]</a><a href="#:9850:@_return" class="lla">@_return:</a><span class="ce">; [$9850]</span></span>
<span class="l"><a class="anc" name="9850" href="#9850">[9850]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9851"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;
</div><span class="l"><a class="anc" name="9851" href="#9851">[9851]</a><a href="#BYTE_ARRAY_PRG14__9851" class="la">BYTE_ARRAY_PRG14__9851:</a><span class="ce">; [$9851]</span></span>
<span class="l"><a class="anc" name="9851" href="#9851">[9851]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [0]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9851_1_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;
</div><span class="l"><a class="anc" name="9852" href="#9852">[9852]</a><a href="#BYTE_ARRAY_PRG14__9851_1_" class="la">BYTE_ARRAY_PRG14__9851_1_:</a><span class="ce">; [$9852]</span></span>
<span class="l"><a class="anc" name="9852" href="#9852">[9852]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Unused_WingedSkeleton"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Unused_WingedSkeleton
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80dd]
;============================================================================
</div><span class="l"><a class="anc" name="9853" href="#9853">[9853]</a><a href="#SpriteUpdateHandler_Enemy_Unused_WingedSkeleton" class="la">SpriteUpdateHandler_Enemy_Unused_WingedSkeleton:</a><span class="ce">; [$9853]</span></span>
<span class="l"><a class="anc" name="9853" href="#9853">[9853]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9856" href="#9856">[9856]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9858" href="#9858">[9858]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="985b" href="#985b">[985b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="985d" href="#985d">[985d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9861">@LAB_PRG14__9861</a></span></span></span>
<span class="l"><a class="anc" name="985f" href="#985f">[985f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":9861:@LAB_PRG14__9861"></a><span class="l"><a class="anc" name="9861" href="#9861">[9861]</a><a href="#:9861:@LAB_PRG14__9861" class="lla">@LAB_PRG14__9861:</a><span class="ce">; [$9861]</span></span>
<span class="l"><a class="anc" name="9861" href="#9861">[9861]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9862" href="#9862">[9862]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Tamazutsu"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Tamazutsu
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a635]
;============================================================================
</div><span class="l"><a class="anc" name="9865" href="#9865">[9865]</a><a href="#SpriteBehavior_Tamazutsu" class="la">SpriteBehavior_Tamazutsu:</a><span class="ce">; [$9865]</span></span>
<span class="l"><a class="anc" name="9865" href="#9865">[9865]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9868" href="#9868">[9868]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9877">@LAB_PRG14__9877</a></span></span></span>
<span class="l"><a class="anc" name="986a" href="#986a">[986a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="986c" href="#986c">[986c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="986f" href="#986f">[986f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9871" href="#9871">[9871]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9874" href="#9874">[9874]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9877:@LAB_PRG14__9877"></a><span class="l"><a class="anc" name="9877" href="#9877">[9877]</a><a href="#:9877:@LAB_PRG14__9877" class="lla">@LAB_PRG14__9877:</a><span class="ce">; [$9877]</span></span>
<span class="l"><a class="anc" name="9877" href="#9877">[9877]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="987a" href="#987a">[987a]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="987d" href="#987d">[987d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9887">@LAB_PRG14__9887</a></span></span></span>
<span class="l"><a class="anc" name="987f" href="#987f">[987f]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9880" href="#9880">[9880]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__988f">@LAB_PRG14__988f</a></span></span></span>
<span class="l"><a class="anc" name="9882" href="#9882">[9882]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9883" href="#9883">[9883]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9897">@LAB_PRG14__9897</a></span></span></span>
<span class="l"><a class="anc" name="9885" href="#9885">[9885]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__989f">@LAB_PRG14__989f</a></span></span></span>
<span class="l"></span>
<a name=":9887:@LAB_PRG14__9887"></a><span class="l"><a class="anc" name="9887" href="#9887">[9887]</a><a href="#:9887:@LAB_PRG14__9887" class="lla">@LAB_PRG14__9887:</a><span class="ce">; [$9887]</span></span>
<span class="l"><a class="anc" name="9887" href="#9887">[9887]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"><a class="anc" name="988a" href="#988a">[988a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="988c" href="#988c">[988c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__98a7">@LAB_PRG14__98a7</a></span></span></span>
<span class="l"></span>
<a name=":988f:@LAB_PRG14__988f"></a><span class="l"><a class="anc" name="988f" href="#988f">[988f]</a><a href="#:988f:@LAB_PRG14__988f" class="lla">@LAB_PRG14__988f:</a><span class="ce">; [$988f]</span></span>
<span class="l"><a class="anc" name="988f" href="#988f">[988f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"><a class="anc" name="9892" href="#9892">[9892]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="9894" href="#9894">[9894]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__98a7">@LAB_PRG14__98a7</a></span></span></span>
<span class="l"></span>
<a name=":9897:@LAB_PRG14__9897"></a><span class="l"><a class="anc" name="9897" href="#9897">[9897]</a><a href="#:9897:@LAB_PRG14__9897" class="lla">@LAB_PRG14__9897:</a><span class="ce">; [$9897]</span></span>
<span class="l"><a class="anc" name="9897" href="#9897">[9897]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"><a class="anc" name="989a" href="#989a">[989a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="989c" href="#989c">[989c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__98a7">@LAB_PRG14__98a7</a></span></span></span>
<span class="l"></span>
<a name=":989f:@LAB_PRG14__989f"></a><span class="l"><a class="anc" name="989f" href="#989f">[989f]</a><a href="#:989f:@LAB_PRG14__989f" class="lla">@LAB_PRG14__989f:</a><span class="ce">; [$989f]</span></span>
<span class="l"><a class="anc" name="989f" href="#989f">[989f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"><a class="anc" name="98a2" href="#98a2">[98a2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="98a4" href="#98a4">[98a4]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__98a7">@LAB_PRG14__98a7</a></span></span></span>
<span class="l"></span>
<a name=":98a7:@LAB_PRG14__98a7"></a><span class="l"><a class="anc" name="98a7" href="#98a7">[98a7]</a><a href="#:98a7:@LAB_PRG14__98a7" class="lla">@LAB_PRG14__98a7:</a><span class="ce">; [$98a7]</span></span>
<span class="l"><a class="anc" name="98a7" href="#98a7">[98a7]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="98aa" href="#98aa">[98aa]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_98B2">RETURN_98B2</a></span></span></span>
<span class="l"><a class="anc" name="98ac" href="#98ac">[98ac]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="98af" href="#98af">[98af]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name="RETURN_98B2"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>
;     <a href="#SpriteUpdateHandler_Enemy_Tamazutsu">SpriteUpdateHandler_Enemy_Tamazutsu</a>
;
</div><span class="l"><a class="anc" name="98b2" href="#98b2">[98b2]</a><a href="#RETURN_98B2" class="la">RETURN_98B2:</a><span class="ce">; [$98b2]</span></span>
<span class="l"><a class="anc" name="98b2" href="#98b2">[98b2]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Tamazutsu"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Tamazutsu
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80df]
;============================================================================
</div><span class="l"><a class="anc" name="98b3" href="#98b3">[98b3]</a><a href="#SpriteUpdateHandler_Enemy_Tamazutsu" class="la">SpriteUpdateHandler_Enemy_Tamazutsu:</a><span class="ce">; [$98b3]</span></span>
<span class="l"><a class="anc" name="98b3" href="#98b3">[98b3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="98b6" href="#98b6">[98b6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="98b8" href="#98b8">[98b8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="98bb" href="#98bb">[98bb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="98be" href="#98be">[98be]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="98c1" href="#98c1">[98c1]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__98cb">@LAB_PRG14__98cb</a></span></span></span>
<span class="l"><a class="anc" name="98c3" href="#98c3">[98c3]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="98c4" href="#98c4">[98c4]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__98dc">@LAB_PRG14__98dc</a></span></span></span>
<span class="l"><a class="anc" name="98c6" href="#98c6">[98c6]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="98c7" href="#98c7">[98c7]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__98e9">@LAB_PRG14__98e9</a></span></span></span>
<span class="l"><a class="anc" name="98c9" href="#98c9">[98c9]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__98f6">@LAB_PRG14__98f6</a></span></span></span>
<span class="l"></span>
<a name=":98cb:@LAB_PRG14__98cb"></a><span class="l"><a class="anc" name="98cb" href="#98cb">[98cb]</a><a href="#:98cb:@LAB_PRG14__98cb" class="lla">@LAB_PRG14__98cb:</a><span class="ce">; [$98cb]</span></span>
<span class="l"><a class="anc" name="98cb" href="#98cb">[98cb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="98ce" href="#98ce">[98ce]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$1e</span></span></span>
<span class="l"><a class="anc" name="98d0" href="#98d0">[98d0]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_98B2">RETURN_98B2</a></span></span></span>
<span class="l"><a class="anc" name="98d2" href="#98d2">[98d2]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="98d4" href="#98d4">[98d4]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="98d6" href="#98d6">[98d6]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9900">@LAB_PRG14__9900</a></span></span></span>
<span class="l"><a class="anc" name="98d8" href="#98d8">[98d8]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="98da" href="#98da">[98da]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9900">@LAB_PRG14__9900</a></span></span></span>
<span class="l"></span>
<a name=":98dc:@LAB_PRG14__98dc"></a><span class="l"><a class="anc" name="98dc" href="#98dc">[98dc]</a><a href="#:98dc:@LAB_PRG14__98dc" class="lla">@LAB_PRG14__98dc:</a><span class="ce">; [$98dc]</span></span>
<span class="l"><a class="anc" name="98dc" href="#98dc">[98dc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="98df" href="#98df">[98df]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="98e0" href="#98e0">[98e0]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="98e1" href="#98e1">[98e1]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="98e2" href="#98e2">[98e2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9905">BYTE_ARRAY_PRG14__9905</a>,Y</span></span></span>
<span class="l"><a class="anc" name="98e5" href="#98e5">[98e5]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="98e6" href="#98e6">[98e6]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__9900">@LAB_PRG14__9900</a></span></span></span>
<span class="l"></span>
<a name=":98e9:@LAB_PRG14__98e9"></a><span class="l"><a class="anc" name="98e9" href="#98e9">[98e9]</a><a href="#:98e9:@LAB_PRG14__98e9" class="lla">@LAB_PRG14__98e9:</a><span class="ce">; [$98e9]</span></span>
<span class="l"><a class="anc" name="98e9" href="#98e9">[98e9]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="98eb" href="#98eb">[98eb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="98ee" href="#98ee">[98ee]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="98f0" href="#98f0">[98f0]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9900">@LAB_PRG14__9900</a></span></span></span>
<span class="l"><a class="anc" name="98f2" href="#98f2">[98f2]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$0c</span></span></span>
<span class="l"><a class="anc" name="98f4" href="#98f4">[98f4]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9900">@LAB_PRG14__9900</a></span></span></span>
<span class="l"></span>
<a name=":98f6:@LAB_PRG14__98f6"></a><span class="l"><a class="anc" name="98f6" href="#98f6">[98f6]</a><a href="#:98f6:@LAB_PRG14__98f6" class="lla">@LAB_PRG14__98f6:</a><span class="ce">; [$98f6]</span></span>
<span class="l"><a class="anc" name="98f6" href="#98f6">[98f6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="98f9" href="#98f9">[98f9]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="98fa" href="#98fa">[98fa]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="98fb" href="#98fb">[98fb]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="98fc" href="#98fc">[98fc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9908">BYTE_ARRAY_PRG14__9908</a>,Y</span></span></span>
<span class="l"><a class="anc" name="98ff" href="#98ff">[98ff]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":9900:@LAB_PRG14__9900"></a><span class="l"><a class="anc" name="9900" href="#9900">[9900]</a><a href="#:9900:@LAB_PRG14__9900" class="lla">@LAB_PRG14__9900:</a><span class="ce">; [$9900]</span></span>
<span class="l"><a class="anc" name="9900" href="#9900">[9900]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9901" href="#9901">[9901]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9902" href="#9902">[9902]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9905"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Tamazutsu">SpriteUpdateHandler_Enemy_Tamazutsu</a>
;
</div><span class="l"><a class="anc" name="9905" href="#9905">[9905]</a><a href="#BYTE_ARRAY_PRG14__9905" class="la">BYTE_ARRAY_PRG14__9905:</a><span class="ce">; [$9905]</span></span>
<span class="l"><a class="anc" name="9905" href="#9905">[9905]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9906" href="#9906">[9906]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9907" href="#9907">[9907]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [2]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9908"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Tamazutsu">SpriteUpdateHandler_Enemy_Tamazutsu</a>
;
</div><span class="l"><a class="anc" name="9908" href="#9908">[9908]</a><a href="#BYTE_ARRAY_PRG14__9908" class="la">BYTE_ARRAY_PRG14__9908:</a><span class="ce">; [$9908]</span></span>
<span class="l"><a class="anc" name="9908" href="#9908">[9908]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9909" href="#9909">[9909]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="990a" href="#990a">[990a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [2]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_Rokusutahn"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_Rokusutahn
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80a9]
;============================================================================
</div><span class="l"><a class="anc" name="990b" href="#990b">[990b]</a><a href="#SpriteUpdateHandler_Boss_Rokusutahn" class="la">SpriteUpdateHandler_Boss_Rokusutahn:</a><span class="ce">; [$990b]</span></span>
<span class="l"><a class="anc" name="990b" href="#990b">[990b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="990e" href="#990e">[990e]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="990f" href="#990f">[990f]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9910" href="#9910">[9910]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9911" href="#9911">[9911]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9912" href="#9912">[9912]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9914" href="#9914">[9914]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9917"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9917
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BScript_Op_SwitchBehavior">BScript_Op_SwitchBehavior</a>
;============================================================================
</div><span class="l"><a class="anc" name="9917" href="#9917">[9917]</a><a href="#FUN_PRG14__9917" class="la">FUN_PRG14__9917:</a><span class="ce">; [$9917]</span></span>
<span class="l"><a class="anc" name="9917" href="#9917">[9917]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9919" href="#9919">[9919]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="991c" href="#991c">[991c]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="991d" href="#991d">[991d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="991f" href="#991f">[991f]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9921" href="#9921">[9921]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_3_">Sprite12BodyPartHandler_3_</a></span></span></span>
<span class="l"><a class="anc" name="9924" href="#9924">[9924]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9926" href="#9926">[9926]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_4_">Sprite12BodyPartHandler_4_</a></span></span></span>
<span class="l"><a class="anc" name="9929" href="#9929">[9929]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="992b" href="#992b">[992b]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_5_">Sprite12BodyPartHandler_5_</a></span></span></span>
<span class="l"><a class="anc" name="992e" href="#992e">[992e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9930" href="#9930">[9930]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a></span></span></span>
<span class="l"><a class="anc" name="9933" href="#9933">[9933]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_1_">Sprite12BodyPartHandler_1_</a></span></span></span>
<span class="l"><a class="anc" name="9936" href="#9936">[9936]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_2_">Sprite12BodyPartHandler_2_</a></span></span></span>
<span class="l"><a class="anc" name="9939" href="#9939">[9939]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="993b" href="#993b">[993b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="993e" href="#993e">[993e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9941" href="#9941">[9941]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9943" href="#9943">[9943]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9946" href="#9946">[9946]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="thunk_FUN_PRG14__9a3c"></a><div class="cp">;============================================================================
; TODO: Document thunk_FUN_PRG14__9a3c
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused18__994a">SpriteBehavior_EnemyUnused18__994a</a>
;============================================================================
</div><span class="l"><a class="anc" name="9947" href="#9947">[9947]</a><a href="#thunk_FUN_PRG14__9a3c" class="la">thunk_FUN_PRG14__9a3c:</a><span class="ce">; [$9947]</span></span>
<span class="l"><a class="anc" name="9947" href="#9947">[9947]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__9a3c">FUN_PRG14__9a3c</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyUnused18__994a"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyUnused18__994a
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#CALL_FUN_PRG14__994a">CALL_FUN_PRG14__994a</a> [$PRG14::9a2c]
;============================================================================
</div><span class="l"><a class="anc" name="994a" href="#994a">[994a]</a><a href="#SpriteBehavior_EnemyUnused18__994a" class="la">SpriteBehavior_EnemyUnused18__994a:</a><span class="ce">; [$994a]</span></span>
<span class="l"><a class="anc" name="994a" href="#994a">[994a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="994d" href="#994d">[994d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="994f" href="#994f">[994f]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#thunk_FUN_PRG14__9a3c">thunk_FUN_PRG14__9a3c</a></span></span></span>
<span class="l"><a class="anc" name="9951" href="#9951">[9951]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="9954" href="#9954">[9954]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9956" href="#9956">[9956]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9957" href="#9957">[9957]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9983">@LAB_PRG14__9983</a></span></span></span>
<span class="l"><a class="anc" name="9959" href="#9959">[9959]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__996f">@LAB_PRG14__996f</a></span></span></span>
<span class="l"><a class="anc" name="995b" href="#995b">[995b]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_2_">Sprite12BodyPartHandler_2_</a></span></span></span>
<span class="l"><a class="anc" name="995e" href="#995e">[995e]</a><span class="cd"><span class="i">DEC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_5_">Sprite12BodyPartHandler_5_</a></span></span></span>
<span class="l"><a class="anc" name="9961" href="#9961">[9961]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9964" href="#9964">[9964]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9966" href="#9966">[9966]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="9968" href="#9968">[9968]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="996b" href="#996b">[996b]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"></span>
<a name=":996e:@_return"></a><span class="l"><a class="anc" name="996e" href="#996e">[996e]</a><a href="#:996e:@_return" class="lla">@_return:</a><span class="ce">; [$996e]</span></span>
<span class="l"><a class="anc" name="996e" href="#996e">[996e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":996f:@LAB_PRG14__996f"></a><span class="l"><a class="anc" name="996f" href="#996f">[996f]</a><a href="#:996f:@LAB_PRG14__996f" class="lla">@LAB_PRG14__996f:</a><span class="ce">; [$996f]</span></span>
<span class="l"><a class="anc" name="996f" href="#996f">[996f]</a><span class="cd"><span class="i">DEC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_2_">Sprite12BodyPartHandler_2_</a></span></span></span>
<span class="l"><a class="anc" name="9972" href="#9972">[9972]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_5_">Sprite12BodyPartHandler_5_</a></span></span></span>
<span class="l"><a class="anc" name="9975" href="#9975">[9975]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9978" href="#9978">[9978]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="997a" href="#997a">[997a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="997c" href="#997c">[997c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="997f" href="#997f">[997f]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"></span>
<a name=":9982:@_return1"></a><span class="l"><a class="anc" name="9982" href="#9982">[9982]</a><a href="#:9982:@_return1" class="lla">@_return1:</a><span class="ce">; [$9982]</span></span>
<span class="l"><a class="anc" name="9982" href="#9982">[9982]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9983:@LAB_PRG14__9983"></a><span class="l"><a class="anc" name="9983" href="#9983">[9983]</a><a href="#:9983:@LAB_PRG14__9983" class="lla">@LAB_PRG14__9983:</a><span class="ce">; [$9983]</span></span>
<span class="l"><a class="anc" name="9983" href="#9983">[9983]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9986" href="#9986">[9986]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9988" href="#9988">[9988]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="998b" href="#998b">[998b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="998d" href="#998d">[998d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9990:@_return2"></a><span class="l"><a class="anc" name="9990" href="#9990">[9990]</a><a href="#:9990:@_return2" class="lla">@_return2:</a><span class="ce">; [$9990]</span></span>
<span class="l"><a class="anc" name="9990" href="#9990">[9990]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyUnused18__9991"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyUnused18__9991
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CALL_FUN_PRG14__9a2f">CALL_FUN_PRG14__9a2f</a> [$PRG14::9a2f]
;============================================================================
</div><span class="l"><a class="anc" name="9991" href="#9991">[9991]</a><a href="#SpriteBehavior_EnemyUnused18__9991" class="la">SpriteBehavior_EnemyUnused18__9991:</a><span class="ce">; [$9991]</span></span>
<span class="l"><a class="anc" name="9991" href="#9991">[9991]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9994" href="#9994">[9994]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Maybe_SpriteBody__99f3">Maybe_SpriteBody__99f3</a></span></span></span>
<span class="l"><a class="anc" name="9996" href="#9996">[9996]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="9999" href="#9999">[9999]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="999b" href="#999b">[999b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__99dc">@LAB_PRG14__99dc</a></span></span></span>
<span class="l"><a class="anc" name="999d" href="#999d">[999d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="99a0" href="#99a0">[99a0]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__99b6">@LAB_PRG14__99b6</a></span></span></span>
<span class="l"><a class="anc" name="99a2" href="#99a2">[99a2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="99a4" href="#99a4">[99a4]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99a5" href="#99a5">[99a5]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99a6" href="#99a6">[99a6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99a7" href="#99a7">[99a7]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99a8" href="#99a8">[99a8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="99aa" href="#99aa">[99aa]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="99ac" href="#99ac">[99ac]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="99ae" href="#99ae">[99ae]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="99b0" href="#99b0">[99b0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Something_UnusedSprite_ScreenBufferOffset">Something_UnusedSprite_ScreenBufferOffset</a></span></span></span>
<span class="l"><a class="anc" name="99b3" href="#99b3">[99b3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__99d1">@LAB_PRG14__99d1</a></span></span></span>
<span class="l"></span>
<a name=":99b6:@LAB_PRG14__99b6"></a><span class="l"><a class="anc" name="99b6" href="#99b6">[99b6]</a><a href="#:99b6:@LAB_PRG14__99b6" class="lla">@LAB_PRG14__99b6:</a><span class="ce">; [$99b6]</span></span>
<span class="l"><a class="anc" name="99b6" href="#99b6">[99b6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99b7" href="#99b7">[99b7]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99b8" href="#99b8">[99b8]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99b9" href="#99b9">[99b9]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99ba" href="#99ba">[99ba]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="99bc" href="#99bc">[99bc]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="99bd" href="#99bd">[99bd]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="99be" href="#99be">[99be]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a>,Y</span></span></span>
<span class="l"><a class="anc" name="99c1" href="#99c1">[99c1]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99c2" href="#99c2">[99c2]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99c3" href="#99c3">[99c3]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99c4" href="#99c4">[99c4]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="99c5" href="#99c5">[99c5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="99c7" href="#99c7">[99c7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Sprite12BodyPartHandler_3_">Sprite12BodyPartHandler_3_</a>,Y</span></span></span>
<span class="l"><a class="anc" name="99ca" href="#99ca">[99ca]</a><span class="cd"><span class="i">AND</span> <span class="o">#$f0</span></span></span>
<span class="l"><a class="anc" name="99cc" href="#99cc">[99cc]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="99ce" href="#99ce">[99ce]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Something_UnusedSprite_ScreenBufferOffset">Something_UnusedSprite_ScreenBufferOffset</a></span></span></span>
<span class="l"></span>
<a name=":99d1:@LAB_PRG14__99d1"></a><span class="l"><a class="anc" name="99d1" href="#99d1">[99d1]</a><a href="#:99d1:@LAB_PRG14__99d1" class="lla">@LAB_PRG14__99d1:</a><span class="ce">; [$99d1]</span></span>
<span class="l"><a class="anc" name="99d1" href="#99d1">[99d1]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#Area_CurrentArea">Area_CurrentArea</a></span></span></span>
<span class="l"><a class="anc" name="99d3" href="#99d3">[99d3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__99ef">BYTE_ARRAY_PRG14__99ef</a>,Y</span></span></span>
<span class="l"><a class="anc" name="99d6" href="#99d6">[99d6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Something_UnusedSprite_BlockOffset">Something_UnusedSprite_BlockOffset</a></span></span></span>
<span class="l"><a class="anc" name="99d9" href="#99d9">[99d9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#SpriteBehavior_EnemyUnused18_SomethingSetBlocks">SpriteBehavior_EnemyUnused18_SomethingSetBlocks</a></span></span></span>
<span class="l"></span>
<a name=":99dc:@LAB_PRG14__99dc"></a><span class="l"><a class="anc" name="99dc" href="#99dc">[99dc]</a><a href="#:99dc:@LAB_PRG14__99dc" class="lla">@LAB_PRG14__99dc:</a><span class="ce">; [$99dc]</span></span>
<span class="l"><a class="anc" name="99dc" href="#99dc">[99dc]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="99df" href="#99df">[99df]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="99e2" href="#99e2">[99e2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="99e5" href="#99e5">[99e5]</a><span class="cd"><span class="i">AND</span> <span class="o">#$c0</span></span></span>
<span class="l"><a class="anc" name="99e7" href="#99e7">[99e7]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="99e9" href="#99e9">[99e9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="99eb" href="#99eb">[99eb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<a name=":99ee:@_return"></a><span class="l"><a class="anc" name="99ee" href="#99ee">[99ee]</a><a href="#:99ee:@_return" class="lla">@_return:</a><span class="ce">; [$99ee]</span></span>
<span class="l"><a class="anc" name="99ee" href="#99ee">[99ee]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__99ef"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused18__9991">SpriteBehavior_EnemyUnused18__9991</a>
;
</div><span class="l"><a class="anc" name="99ef" href="#99ef">[99ef]</a><a href="#BYTE_ARRAY_PRG14__99ef" class="la">BYTE_ARRAY_PRG14__99ef:</a><span class="ce">; [$99ef]</span></span>
<span class="l"><a class="anc" name="99ef" href="#99ef">[99ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="99f0" href="#99f0">[99f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="99f1" href="#99f1">[99f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="99f2" href="#99f2">[99f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="Maybe_SpriteBody__99f3"></a><div class="cp">;============================================================================
; TODO: Document Maybe_SpriteBody__99f3
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused18__9991">SpriteBehavior_EnemyUnused18__9991</a>
;============================================================================
</div><span class="l"><a class="anc" name="99f3" href="#99f3">[99f3]</a><a href="#Maybe_SpriteBody__99f3" class="la">Maybe_SpriteBody__99f3:</a><span class="ce">; [$99f3]</span></span>
<span class="l"><a class="anc" name="99f3" href="#99f3">[99f3]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="99f5" href="#99f5">[99f5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="99f7" href="#99f7">[99f7]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="99f8" href="#99f8">[99f8]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="99fa" href="#99fa">[99fa]</a><span class="cd"><span class="i">CMP</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a></span></span></span>
<span class="l"><a class="anc" name="99fd" href="#99fd">[99fd]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9a03">@LAB_PRG14__9a03</a></span></span></span>
<span class="l"><a class="anc" name="99ff" href="#99ff">[99ff]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a></span></span></span>
<span class="l"><a class="anc" name="9a02" href="#9a02">[9a02]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"></span>
<a name=":9a03:@LAB_PRG14__9a03"></a><span class="l"><a class="anc" name="9a03" href="#9a03">[9a03]</a><a href="#:9a03:@LAB_PRG14__9a03" class="lla">@LAB_PRG14__9a03:</a><span class="ce">; [$9a03]</span></span>
<span class="l"><a class="anc" name="9a03" href="#9a03">[9a03]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a05" href="#9a05">[9a05]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9a06" href="#9a06">[9a06]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="9a08" href="#9a08">[9a08]</a><span class="cd"><span class="i">CMP</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_1_">Sprite12BodyPartHandler_1_</a></span></span></span>
<span class="l"><a class="anc" name="9a0b" href="#9a0b">[9a0b]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9a11">@LAB_PRG14__9a11</a></span></span></span>
<span class="l"><a class="anc" name="9a0d" href="#9a0d">[9a0d]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_1_">Sprite12BodyPartHandler_1_</a></span></span></span>
<span class="l"><a class="anc" name="9a10" href="#9a10">[9a10]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"></span>
<a name=":9a11:@LAB_PRG14__9a11"></a><span class="l"><a class="anc" name="9a11" href="#9a11">[9a11]</a><a href="#:9a11:@LAB_PRG14__9a11" class="lla">@LAB_PRG14__9a11:</a><span class="ce">; [$9a11]</span></span>
<span class="l"><a class="anc" name="9a11" href="#9a11">[9a11]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a13" href="#9a13">[9a13]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9a14" href="#9a14">[9a14]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$2f</span></span></span>
<span class="l"><a class="anc" name="9a16" href="#9a16">[9a16]</a><span class="cd"><span class="i">CMP</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_2_">Sprite12BodyPartHandler_2_</a></span></span></span>
<span class="l"><a class="anc" name="9a19" href="#9a19">[9a19]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9a1f">@LAB_PRG14__9a1f</a></span></span></span>
<span class="l"><a class="anc" name="9a1b" href="#9a1b">[9a1b]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_2_">Sprite12BodyPartHandler_2_</a></span></span></span>
<span class="l"><a class="anc" name="9a1e" href="#9a1e">[9a1e]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"></span>
<a name=":9a1f:@LAB_PRG14__9a1f"></a><span class="l"><a class="anc" name="9a1f" href="#9a1f">[9a1f]</a><a href="#:9a1f:@LAB_PRG14__9a1f" class="lla">@LAB_PRG14__9a1f:</a><span class="ce">; [$9a1f]</span></span>
<span class="l"><a class="anc" name="9a1f" href="#9a1f">[9a1f]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9a21" href="#9a21">[9a21]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9a2b">@LAB_PRG14__9a2b</a></span></span></span>
<span class="l"><a class="anc" name="9a23" href="#9a23">[9a23]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a26" href="#9a26">[9a26]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9a28" href="#9a28">[9a28]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"></span>
<a name=":9a2b:@LAB_PRG14__9a2b"></a><span class="l"><a class="anc" name="9a2b" href="#9a2b">[9a2b]</a><a href="#:9a2b:@LAB_PRG14__9a2b" class="lla">@LAB_PRG14__9a2b:</a><span class="ce">; [$9a2b]</span></span>
<span class="l"><a class="anc" name="9a2b" href="#9a2b">[9a2b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="CALL_FUN_PRG14__994a"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused18">SpriteBehavior_EnemyUnused18</a>
;
</div><span class="l"><a class="anc" name="9a2c" href="#9a2c">[9a2c]</a><a href="#CALL_FUN_PRG14__994a" class="la">CALL_FUN_PRG14__994a:</a><span class="ce">; [$9a2c]</span></span>
<span class="l"><a class="anc" name="9a2c" href="#9a2c">[9a2c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_EnemyUnused18__994a">SpriteBehavior_EnemyUnused18__994a</a></span></span></span>
<span class="l"></span>
<a name="CALL_FUN_PRG14__9a2f"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_EnemyUnused18">SpriteBehavior_EnemyUnused18</a>
;
</div><span class="l"><a class="anc" name="9a2f" href="#9a2f">[9a2f]</a><a href="#CALL_FUN_PRG14__9a2f" class="la">CALL_FUN_PRG14__9a2f:</a><span class="ce">; [$9a2f]</span></span>
<span class="l"><a class="anc" name="9a2f" href="#9a2f">[9a2f]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_EnemyUnused18__9991">SpriteBehavior_EnemyUnused18__9991</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyUnused18"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyUnused18
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5f3]
;============================================================================
</div><span class="l"><a class="anc" name="9a32" href="#9a32">[9a32]</a><a href="#SpriteBehavior_EnemyUnused18" class="la">SpriteBehavior_EnemyUnused18:</a><span class="ce">; [$9a32]</span></span>
<span class="l"><a class="anc" name="9a32" href="#9a32">[9a32]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a35" href="#9a35">[9a35]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#CALL_FUN_PRG14__9a2f">CALL_FUN_PRG14__9a2f</a></span></span></span>
<span class="l"><a class="anc" name="9a37" href="#9a37">[9a37]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a3a" href="#9a3a">[9a3a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#CALL_FUN_PRG14__994a">CALL_FUN_PRG14__994a</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="FUN_PRG14__9a3c"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9a3c
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#thunk_FUN_PRG14__9a3c">thunk_FUN_PRG14__9a3c</a>
;============================================================================
</div><span class="l"><a class="anc" name="9a3c" href="#9a3c">[9a3c]</a><a href="#FUN_PRG14__9a3c" class="la">FUN_PRG14__9a3c:</a><span class="ce">; [$9a3c]</span></span>
<span class="l"><a class="anc" name="9a3c" href="#9a3c">[9a3c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a3f" href="#9a3f">[9a3f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9a41" href="#9a41">[9a41]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a44" href="#9a44">[9a44]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9a45" href="#9a45">[9a45]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9a46" href="#9a46">[9a46]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_BODY_HANDLERS">MAYBE_BODY_HANDLERS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="9a49" href="#9a49">[9a49]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="9a4a" href="#9a4a">[9a4a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_BODY_HANDLERS">MAYBE_BODY_HANDLERS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9a4d" href="#9a4d">[9a4d]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="9a4e" href="#9a4e">[9a4e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="MAYBE_BODY_HANDLERS"></a><div class="c">;
; XREFS:
;     <a href="#FUN_PRG14__9a3c">FUN_PRG14__9a3c</a>
;
</div><span class="l"><a class="anc" name="9a4f" href="#9a4f">[9a4f]</a><a href="#MAYBE_BODY_HANDLERS" class="la">MAYBE_BODY_HANDLERS:</a><span class="ce">; [$9a4f]</span></span>
<span class="l"><a class="anc" name="9a4f" href="#9a4f">[9a4f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Maybe_BodyHandler__9a57">Maybe_BodyHandler__9a57</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9a51" href="#9a51">[9a51]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Maybe_BodyHandler__9a7a">Maybe_BodyHandler__9a7a</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9a53" href="#9a53">[9a53]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Maybe_BodyHandler__9a7a">Maybe_BodyHandler__9a7a</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9a55" href="#9a55">[9a55]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Maybe_BodyHandler__9a57">Maybe_BodyHandler__9a57</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="Maybe_BodyHandler__9a57"></a><div class="cp">;============================================================================
; TODO: Document Maybe_BodyHandler__9a57
;
; INPUTS:
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#MAYBE_BODY_HANDLERS">MAYBE_BODY_HANDLERS</a> [$PRG14::9a4f]
;     <a href="#MAYBE_BODY_HANDLERS">MAYBE_BODY_HANDLERS</a> [$PRG14::9a55]
;============================================================================
</div><span class="l"><a class="anc" name="9a57" href="#9a57">[9a57]</a><a href="#Maybe_BodyHandler__9a57" class="la">Maybe_BodyHandler__9a57:</a><span class="ce">; [$9a57]</span></span>
<span class="l"><a class="anc" name="9a57" href="#9a57">[9a57]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__9a87">FUN_PRG14__9a87</a></span></span></span>
<span class="l"><a class="anc" name="9a5a" href="#9a5a">[9a5a]</a><span class="cd"><span class="i">LDX</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9a91">BYTE_ARRAY_PRG14__9a91</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9a5d" href="#9a5d">[9a5d]</a><span class="cd"><span class="i">DEX</span></span></span>
<span class="l"><a class="anc" name="9a5e" href="#9a5e">[9a5e]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a>,X</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="FUN_PRG14__9a61"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9a61
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Maybe_BodyHandler__9a7a">Maybe_BodyHandler__9a7a</a>
;============================================================================
</div><span class="l"><a class="anc" name="9a61" href="#9a61">[9a61]</a><a href="#FUN_PRG14__9a61" class="la">FUN_PRG14__9a61:</a><span class="ce">; [$9a61]</span></span>
<span class="l"><a class="anc" name="9a61" href="#9a61">[9a61]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="9a64" href="#9a64">[9a64]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a67" href="#9a67">[9a67]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a6a" href="#9a6a">[9a6a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9a6c" href="#9a6c">[9a6c]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9a6e" href="#9a6e">[9a6e]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a71" href="#9a71">[9a71]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9a73" href="#9a73">[9a73]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a76" href="#9a76">[9a76]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__9aa1">FUN_PRG14__9aa1</a></span></span></span>
<span class="l"></span>
<a name=":9a79:@_return"></a><span class="l"><a class="anc" name="9a79" href="#9a79">[9a79]</a><a href="#:9a79:@_return" class="lla">@_return:</a><span class="ce">; [$9a79]</span></span>
<span class="l"><a class="anc" name="9a79" href="#9a79">[9a79]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Maybe_BodyHandler__9a7a"></a><div class="cp">;============================================================================
; TODO: Document Maybe_BodyHandler__9a7a
;
; INPUTS:
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#MAYBE_BODY_HANDLERS">MAYBE_BODY_HANDLERS</a> [$PRG14::9a51]
;     <a href="#MAYBE_BODY_HANDLERS">MAYBE_BODY_HANDLERS</a> [$PRG14::9a53]
;============================================================================
</div><span class="l"><a class="anc" name="9a7a" href="#9a7a">[9a7a]</a><a href="#Maybe_BodyHandler__9a7a" class="la">Maybe_BodyHandler__9a7a:</a><span class="ce">; [$9a7a]</span></span>
<span class="l"><a class="anc" name="9a7a" href="#9a7a">[9a7a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#FUN_PRG14__9a87">FUN_PRG14__9a87</a></span></span></span>
<span class="l"><a class="anc" name="9a7d" href="#9a7d">[9a7d]</a><span class="cd"><span class="i">LDX</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9a99">BYTE_ARRAY_PRG14__9a99</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9a80" href="#9a80">[9a80]</a><span class="cd"><span class="i">DEX</span></span></span>
<span class="l"><a class="anc" name="9a81" href="#9a81">[9a81]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a84" href="#9a84">[9a84]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__9a61">FUN_PRG14__9a61</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9a87"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9a87
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#Maybe_BodyHandler__9a57">Maybe_BodyHandler__9a57</a>
;     <a href="#Maybe_BodyHandler__9a7a">Maybe_BodyHandler__9a7a</a>
;============================================================================
</div><span class="l"><a class="anc" name="9a87" href="#9a87">[9a87]</a><a href="#FUN_PRG14__9a87" class="la">FUN_PRG14__9a87:</a><span class="ce">; [$9a87]</span></span>
<span class="l"><a class="anc" name="9a87" href="#9a87">[9a87]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9a8a" href="#9a8a">[9a8a]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9a8b" href="#9a8b">[9a8b]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9a8c" href="#9a8c">[9a8c]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9a8d" href="#9a8d">[9a8d]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="9a8f" href="#9a8f">[9a8f]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9a90" href="#9a90">[9a90]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9a91"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_BodyHandler__9a57">Maybe_BodyHandler__9a57</a>
;
</div><span class="l"><a class="anc" name="9a91" href="#9a91">[9a91]</a><a href="#BYTE_ARRAY_PRG14__9a91" class="la">BYTE_ARRAY_PRG14__9a91:</a><span class="ce">; [$9a91]</span></span>
<span class="l"><a class="anc" name="9a91" href="#9a91">[9a91]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9a92" href="#9a92">[9a92]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9a93" href="#9a93">[9a93]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9a94" href="#9a94">[9a94]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="9a95" href="#9a95">[9a95]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="9a96" href="#9a96">[9a96]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="9a97" href="#9a97">[9a97]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="9a98" href="#9a98">[9a98]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9a99"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_BodyHandler__9a7a">Maybe_BodyHandler__9a7a</a>
;
</div><span class="l"><a class="anc" name="9a99" href="#9a99">[9a99]</a><a href="#BYTE_ARRAY_PRG14__9a99" class="la">BYTE_ARRAY_PRG14__9a99:</a><span class="ce">; [$9a99]</span></span>
<span class="l"><a class="anc" name="9a99" href="#9a99">[9a99]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9a9a" href="#9a9a">[9a9a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9a9b" href="#9a9b">[9a9b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9a9c" href="#9a9c">[9a9c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="9a9d" href="#9a9d">[9a9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="9a9e" href="#9a9e">[9a9e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="9a9f" href="#9a9f">[9a9f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="9aa0" href="#9aa0">[9aa0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9aa1"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9aa1
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#FUN_PRG14__9a61">FUN_PRG14__9a61</a>
;============================================================================
</div><span class="l"><a class="anc" name="9aa1" href="#9aa1">[9aa1]</a><a href="#FUN_PRG14__9aa1" class="la">FUN_PRG14__9aa1:</a><span class="ce">; [$9aa1]</span></span>
<span class="l"><a class="anc" name="9aa1" href="#9aa1">[9aa1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9aa3" href="#9aa3">[9aa3]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9aa4" href="#9aa4">[9aa4]</a><span class="cd"><span class="i">SBC</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="9aa6" href="#9aa6">[9aa6]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9aac">@LAB_PRG14__9aac</a></span></span></span>
<span class="l"><a class="anc" name="9aa8" href="#9aa8">[9aa8]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9aaa" href="#9aaa">[9aaa]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":9aac:@LAB_PRG14__9aac"></a><span class="l"><a class="anc" name="9aac" href="#9aac">[9aac]</a><a href="#:9aac:@LAB_PRG14__9aac" class="lla">@LAB_PRG14__9aac:</a><span class="ce">; [$9aac]</span></span>
<span class="l"><a class="anc" name="9aac" href="#9aac">[9aac]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9aae" href="#9aae">[9aae]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9ac0">@LAB_PRG14__9ac0</a></span></span></span>
<span class="l"><a class="anc" name="9ab0" href="#9ab0">[9ab0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9ab2" href="#9ab2">[9ab2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ab5" href="#9ab5">[9ab5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9ab7" href="#9ab7">[9ab7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="9aba" href="#9aba">[9aba]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9abc" href="#9abc">[9abc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9abf" href="#9abf">[9abf]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9ac0:@LAB_PRG14__9ac0"></a><span class="l"><a class="anc" name="9ac0" href="#9ac0">[9ac0]</a><a href="#:9ac0:@LAB_PRG14__9ac0" class="lla">@LAB_PRG14__9ac0:</a><span class="ce">; [$9ac0]</span></span>
<span class="l"><a class="anc" name="9ac0" href="#9ac0">[9ac0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9ac2" href="#9ac2">[9ac2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ac5" href="#9ac5">[9ac5]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__9ac6"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__9ac6
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="9ac6" href="#9ac6">[9ac6]</a><a href="#FUN_PRG14__9ac6" class="la">FUN_PRG14__9ac6:</a><span class="ce">; [$9ac6]</span></span>
<span class="l"><a class="anc" name="9ac6" href="#9ac6">[9ac6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="9ac8" href="#9ac8">[9ac8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9acb" href="#9acb">[9acb]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9acd" href="#9acd">[9acd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ad0" href="#9ad0">[9ad0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ad3" href="#9ad3">[9ad3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ad5" href="#9ad5">[9ad5]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9ad6" href="#9ad6">[9ad6]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="9ad8" href="#9ad8">[9ad8]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_5_">Sprite12BodyPartHandler_5_</a></span></span></span>
<span class="l"><a class="anc" name="9adb" href="#9adb">[9adb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80ab]
;============================================================================
</div><span class="l"><a class="anc" name="9adc" href="#9adc">[9adc]</a><a href="#SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart" class="la">SpriteUpdateHandler_Enemy_Unused_SnakeRoundPart:</a><span class="ce">; [$9adc]</span></span>
<span class="l"><a class="anc" name="9adc" href="#9adc">[9adc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9adf" href="#9adf">[9adf]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9ae1" href="#9ae1">[9ae1]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="9ae4" href="#9ae4">[9ae4]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="9ae7" href="#9ae7">[9ae7]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler">Sprite12BodyPartHandler</a></span></span></span>
<span class="l"><a class="anc" name="9aea" href="#9aea">[9aea]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="9aec" href="#9aec">[9aec]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_3_">Sprite12BodyPartHandler_3_</a></span></span></span>
<span class="l"><a class="anc" name="9aef" href="#9aef">[9aef]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="9af1" href="#9af1">[9af1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span></span>
<span class="l"><a class="anc" name="9af4" href="#9af4">[9af4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="9af6" href="#9af6">[9af6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9af8" href="#9af8">[9af8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="9afb" href="#9afb">[9afb]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="9afe" href="#9afe">[9afe]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_1_">Sprite12BodyPartHandler_1_</a></span></span></span>
<span class="l"><a class="anc" name="9b01" href="#9b01">[9b01]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="9b03" href="#9b03">[9b03]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_4_">Sprite12BodyPartHandler_4_</a></span></span></span>
<span class="l"><a class="anc" name="9b06" href="#9b06">[9b06]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="9b08" href="#9b08">[9b08]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b0b" href="#9b0b">[9b0b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="9b0d" href="#9b0d">[9b0d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9b0f" href="#9b0f">[9b0f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"><a class="anc" name="9b12" href="#9b12">[9b12]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="9b15" href="#9b15">[9b15]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_2_">Sprite12BodyPartHandler_2_</a></span></span></span>
<span class="l"><a class="anc" name="9b18" href="#9b18">[9b18]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="9b1a" href="#9b1a">[9b1a]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Sprite12BodyPartHandler_5_">Sprite12BodyPartHandler_5_</a></span></span></span>
<span class="l"><a class="anc" name="9b1d" href="#9b1d">[9b1d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="9b1f" href="#9b1f">[9b1f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b22" href="#9b22">[9b22]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="9b24" href="#9b24">[9b24]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b27" href="#9b27">[9b27]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9b36">@LAB_PRG14__9b36</a></span></span></span>
<span class="l"><a class="anc" name="9b29" href="#9b29">[9b29]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9b2b" href="#9b2b">[9b2b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9b2e" href="#9b2e">[9b2e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9b30" href="#9b30">[9b30]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9b41">@LAB_PRG14__9b41</a></span></span></span>
<span class="l"><a class="anc" name="9b32" href="#9b32">[9b32]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9b34" href="#9b34">[9b34]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9b41">@LAB_PRG14__9b41</a></span></span></span>
<span class="l"></span>
<a name=":9b36:@LAB_PRG14__9b36"></a><span class="l"><a class="anc" name="9b36" href="#9b36">[9b36]</a><a href="#:9b36:@LAB_PRG14__9b36" class="lla">@LAB_PRG14__9b36:</a><span class="ce">; [$9b36]</span></span>
<span class="l"><a class="anc" name="9b36" href="#9b36">[9b36]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9b38" href="#9b38">[9b38]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9b3b" href="#9b3b">[9b3b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9b3d" href="#9b3d">[9b3d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9b41">@LAB_PRG14__9b41</a></span></span></span>
<span class="l"><a class="anc" name="9b3f" href="#9b3f">[9b3f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"></span>
<a name=":9b41:@LAB_PRG14__9b41"></a><span class="l"><a class="anc" name="9b41" href="#9b41">[9b41]</a><a href="#:9b41:@LAB_PRG14__9b41" class="lla">@LAB_PRG14__9b41:</a><span class="ce">; [$9b41]</span></span>
<span class="l"><a class="anc" name="9b41" href="#9b41">[9b41]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9b42" href="#9b42">[9b42]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;============================================================================
</div><span class="l"><a class="anc" name="9b45" href="#9b45">[9b45]</a><a href="#SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos" class="la">SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos:</a><span class="ce">; [$9b45]</span></span>
<span class="l"><a class="anc" name="9b45" href="#9b45">[9b45]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9b48" href="#9b48">[9b48]</a><span class="cd"><span class="i">AND</span> <span class="o">#$3f</span></span></span>
<span class="l"><a class="anc" name="9b4a" href="#9b4a">[9b4a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9b4c" href="#9b4c">[9b4c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9b68">@LAB_PRG14__9b68</a></span></span></span>
<span class="l"><a class="anc" name="9b4e" href="#9b4e">[9b4e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b51" href="#9b51">[9b51]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9b53" href="#9b53">[9b53]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9b54" href="#9b54">[9b54]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b56" href="#9b56">[9b56]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9b57" href="#9b57">[9b57]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9b81">BYTE_ARRAY_PRG14__9b81</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9b5a" href="#9b5a">[9b5a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicX">CurrentSprite_Arg_CastMagicX</a></span></span></span>
<span class="l"><a class="anc" name="9b5d" href="#9b5d">[9b5d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b5f" href="#9b5f">[9b5f]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9b60" href="#9b60">[9b60]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9b62" href="#9b62">[9b62]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicY">CurrentSprite_Arg_CastMagicY</a></span></span></span>
<span class="l"><a class="anc" name="9b65" href="#9b65">[9b65]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CastMagic">Sprite_CastMagic</a></span></span></span>
<span class="l"></span>
<a name=":9b68:@LAB_PRG14__9b68"></a><span class="l"><a class="anc" name="9b68" href="#9b68">[9b68]</a><a href="#:9b68:@LAB_PRG14__9b68" class="lla">@LAB_PRG14__9b68:</a><span class="ce">; [$9b68]</span></span>
<span class="l"><a class="anc" name="9b68" href="#9b68">[9b68]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9b6b" href="#9b6b">[9b6b]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b6e" href="#9b6e">[9b6e]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9b70" href="#9b70">[9b70]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9b72" href="#9b72">[9b72]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b75" href="#9b75">[9b75]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9b77" href="#9b77">[9b77]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b7a" href="#9b7a">[9b7a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b7d" href="#9b7d">[9b7d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"></span>
<a name=":9b80:@_return"></a><span class="l"><a class="anc" name="9b80" href="#9b80">[9b80]</a><a href="#:9b80:@_return" class="lla">@_return:</a><span class="ce">; [$9b80]</span></span>
<span class="l"><a class="anc" name="9b80" href="#9b80">[9b80]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9b81"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos">SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos</a>
;
</div><span class="l"><a class="anc" name="9b81" href="#9b81">[9b81]</a><a href="#BYTE_ARRAY_PRG14__9b81" class="la">BYTE_ARRAY_PRG14__9b81:</a><span class="ce">; [$9b81]</span></span>
<span class="l"><a class="anc" name="9b81" href="#9b81">[9b81]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9b82" href="#9b82">[9b82]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Ripasheiku"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Ripasheiku
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5fb]
;============================================================================
</div><span class="l"><a class="anc" name="9b83" href="#9b83">[9b83]</a><a href="#SpriteBehavior_Ripasheiku" class="la">SpriteBehavior_Ripasheiku:</a><span class="ce">; [$9b83]</span></span>
<span class="l"><a class="anc" name="9b83" href="#9b83">[9b83]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9b86" href="#9b86">[9b86]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9b9a">@LAB_PRG14__9b9a</a></span></span></span>
<span class="l"><a class="anc" name="9b88" href="#9b88">[9b88]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9b8a" href="#9b8a">[9b8a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b8d" href="#9b8d">[9b8d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$1e</span></span></span>
<span class="l"><a class="anc" name="9b8f" href="#9b8f">[9b8f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b92" href="#9b92">[9b92]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9b94" href="#9b94">[9b94]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b97" href="#9b97">[9b97]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9b9a:@LAB_PRG14__9b9a"></a><span class="l"><a class="anc" name="9b9a" href="#9b9a">[9b9a]</a><a href="#:9b9a:@LAB_PRG14__9b9a" class="lla">@LAB_PRG14__9b9a:</a><span class="ce">; [$9b9a]</span></span>
<span class="l"><a class="anc" name="9b9a" href="#9b9a">[9b9a]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9b9d" href="#9b9d">[9b9d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9ba8">@LAB_PRG14__9ba8</a></span></span></span>
<span class="l"><a class="anc" name="9b9f" href="#9b9f">[9b9f]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9ba0" href="#9ba0">[9ba0]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9bbc">@LAB_PRG14__9bbc</a></span></span></span>
<span class="l"><a class="anc" name="9ba2" href="#9ba2">[9ba2]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9ba3" href="#9ba3">[9ba3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos">SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos</a></span></span></span>
<span class="l"><a class="anc" name="9ba5" href="#9ba5">[9ba5]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__9c0e">@LAB_PRG14__9c0e</a></span></span></span>
<span class="l"></span>
<a name=":9ba8:@LAB_PRG14__9ba8"></a><span class="l"><a class="anc" name="9ba8" href="#9ba8">[9ba8]</a><a href="#:9ba8:@LAB_PRG14__9ba8" class="lla">@LAB_PRG14__9ba8:</a><span class="ce">; [$9ba8]</span></span>
<span class="l"><a class="anc" name="9ba8" href="#9ba8">[9ba8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9bab" href="#9bab">[9bab]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bae" href="#9bae">[9bae]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="9bb0" href="#9bb0">[9bb0]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bb3" href="#9bb3">[9bb3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9bb5" href="#9bb5">[9bb5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bb8" href="#9bb8">[9bb8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":9bbb:@_return"></a><span class="l"><a class="anc" name="9bbb" href="#9bbb">[9bbb]</a><a href="#:9bbb:@_return" class="lla">@_return:</a><span class="ce">; [$9bbb]</span></span>
<span class="l"><a class="anc" name="9bbb" href="#9bbb">[9bbb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9bbc:@LAB_PRG14__9bbc"></a><span class="l"><a class="anc" name="9bbc" href="#9bbc">[9bbc]</a><a href="#:9bbc:@LAB_PRG14__9bbc" class="lla">@LAB_PRG14__9bbc:</a><span class="ce">; [$9bbc]</span></span>
<span class="l"><a class="anc" name="9bbc" href="#9bbc">[9bbc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizOneBlockOrTurnAround">Sprite_MoveHorizOneBlockOrTurnAround</a></span></span></span>
<span class="l"><a class="anc" name="9bbf" href="#9bbf">[9bbf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bc2" href="#9bc2">[9bc2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="9bc4" href="#9bc4">[9bc4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bc7" href="#9bc7">[9bc7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bc9" href="#9bc9">[9bc9]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="9bcb" href="#9bcb">[9bcb]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9bfe">@LAB_PRG14__9bfe</a></span></span></span>
<span class="l"><a class="anc" name="9bcd" href="#9bcd">[9bcd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bd0" href="#9bd0">[9bd0]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__9bde">@LAB_PRG14__9bde</a></span></span></span>
<span class="l"><a class="anc" name="9bd2" href="#9bd2">[9bd2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9bd4" href="#9bd4">[9bd4]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9bd7" href="#9bd7">[9bd7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9bd9" href="#9bd9">[9bd9]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9bdc" href="#9bdc">[9bdc]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9be8">@LAB_PRG14__9be8</a></span></span></span>
<span class="l"></span>
<a name=":9bde:@LAB_PRG14__9bde"></a><span class="l"><a class="anc" name="9bde" href="#9bde">[9bde]</a><a href="#:9bde:@LAB_PRG14__9bde" class="lla">@LAB_PRG14__9bde:</a><span class="ce">; [$9bde]</span></span>
<span class="l"><a class="anc" name="9bde" href="#9bde">[9bde]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9be0" href="#9be0">[9be0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="9be3" href="#9be3">[9be3]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9be5" href="#9be5">[9be5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"></span>
<a name=":9be8:@LAB_PRG14__9be8"></a><span class="l"><a class="anc" name="9be8" href="#9be8">[9be8]</a><a href="#:9be8:@LAB_PRG14__9be8" class="lla">@LAB_PRG14__9be8:</a><span class="ce">; [$9be8]</span></span>
<span class="l"><a class="anc" name="9be8" href="#9be8">[9be8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9beb" href="#9beb">[9beb]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9bed" href="#9bed">[9bed]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bf0" href="#9bf0">[9bf0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9bf3" href="#9bf3">[9bf3]</a><span class="cd"><span class="i">AND</span> <span class="o">#$1f</span></span></span>
<span class="l"><a class="anc" name="9bf5" href="#9bf5">[9bf5]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9bf7" href="#9bf7">[9bf7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9bf9" href="#9bf9">[9bf9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":9bfc:@_return1"></a><span class="l"><a class="anc" name="9bfc" href="#9bfc">[9bfc]</a><a href="#:9bfc:@_return1" class="lla">@_return1:</a><span class="ce">; [$9bfc]</span></span>
<span class="l"><a class="anc" name="9bfc" href="#9bfc">[9bfc]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9bfd:@_return2"></a><span class="l"><a class="anc" name="9bfd" href="#9bfd">[9bfd]</a><a href="#:9bfd:@_return2" class="lla">@_return2:</a><span class="ce">; [$9bfd]</span></span>
<span class="l"><a class="anc" name="9bfd" href="#9bfd">[9bfd]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9bfe:@LAB_PRG14__9bfe"></a><span class="l"><a class="anc" name="9bfe" href="#9bfe">[9bfe]</a><a href="#:9bfe:@LAB_PRG14__9bfe" class="lla">@LAB_PRG14__9bfe:</a><span class="ce">; [$9bfe]</span></span>
<span class="l"><a class="anc" name="9bfe" href="#9bfe">[9bfe]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9c00" href="#9c00">[9c00]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c03" href="#9c03">[9c03]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9c05" href="#9c05">[9c05]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c08" href="#9c08">[9c08]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c0b" href="#9c0b">[9c0b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"></span>
<a name=":9c0e:@LAB_PRG14__9c0e"></a><span class="l"><a class="anc" name="9c0e" href="#9c0e">[9c0e]</a><a href="#:9c0e:@LAB_PRG14__9c0e" class="lla">@LAB_PRG14__9c0e:</a><span class="ce">; [$9c0e]</span></span>
<span class="l"><a class="anc" name="9c0e" href="#9c0e">[9c0e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizOneBlockOrTurnAround">Sprite_MoveHorizOneBlockOrTurnAround</a></span></span></span>
<span class="l"><a class="anc" name="9c11" href="#9c11">[9c11]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c14" href="#9c14">[9c14]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="9c16" href="#9c16">[9c16]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c19" href="#9c19">[9c19]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c1c" href="#9c1c">[9c1c]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9c1e" href="#9c1e">[9c1e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9c21" href="#9c21">[9c21]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9c24" href="#9c24">[9c24]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9c31">@LAB_PRG14__9c31</a></span></span></span>
<span class="l"><a class="anc" name="9c26" href="#9c26">[9c26]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c29" href="#9c29">[9c29]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9c2a" href="#9c2a">[9c2a]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9c2c" href="#9c2c">[9c2c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c2f" href="#9c2f">[9c2f]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return3">@_return3</a></span></span></span>
<span class="l"></span>
<a name=":9c31:@LAB_PRG14__9c31"></a><span class="l"><a class="anc" name="9c31" href="#9c31">[9c31]</a><a href="#:9c31:@LAB_PRG14__9c31" class="lla">@LAB_PRG14__9c31:</a><span class="ce">; [$9c31]</span></span>
<span class="l"><a class="anc" name="9c31" href="#9c31">[9c31]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c34" href="#9c34">[9c34]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9c36" href="#9c36">[9c36]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c39" href="#9c39">[9c39]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c3c" href="#9c3c">[9c3c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c3f" href="#9c3f">[9c3f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"></span>
<a name=":9c42:@_return3"></a><span class="l"><a class="anc" name="9c42" href="#9c42">[9c42]</a><a href="#:9c42:@_return3" class="lla">@_return3:</a><span class="ce">; [$9c42]</span></span>
<span class="l"><a class="anc" name="9c42" href="#9c42">[9c42]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_MoveHorizOneBlockOrTurnAround"></a><div class="cp">;============================================================================
; TODO: Document Sprite_MoveHorizOneBlockOrTurnAround
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;============================================================================
</div><span class="l"><a class="anc" name="9c43" href="#9c43">[9c43]</a><a href="#Sprite_MoveHorizOneBlockOrTurnAround" class="la">Sprite_MoveHorizOneBlockOrTurnAround:</a><span class="ce">; [$9c43]</span></span>
<span class="l"><a class="anc" name="9c43" href="#9c43">[9c43]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9c45" href="#9c45">[9c45]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9c48" href="#9c48">[9c48]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9c4a" href="#9c4a">[9c4a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9c4d" href="#9c4d">[9c4d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="9c50" href="#9c50">[9c50]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_Ripasheiku"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_Ripasheiku
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80e1]
;============================================================================
</div><span class="l"><a class="anc" name="9c51" href="#9c51">[9c51]</a><a href="#SpriteUpdateHandler_Boss_Ripasheiku" class="la">SpriteUpdateHandler_Boss_Ripasheiku:</a><span class="ce">; [$9c51]</span></span>
<span class="l"><a class="anc" name="9c51" href="#9c51">[9c51]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9c54" href="#9c54">[9c54]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9c56" href="#9c56">[9c56]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c59" href="#9c59">[9c59]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9c6a">@LAB_PRG14__9c6a</a></span></span></span>
<span class="l"><a class="anc" name="9c5b" href="#9c5b">[9c5b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9c5d" href="#9c5d">[9c5d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9c6e">@LAB_PRG14__9c6e</a></span></span></span>
<span class="l"><a class="anc" name="9c5f" href="#9c5f">[9c5f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9c61" href="#9c61">[9c61]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9c64" href="#9c64">[9c64]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9c66" href="#9c66">[9c66]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9c6a">@LAB_PRG14__9c6a</a></span></span></span>
<span class="l"><a class="anc" name="9c68" href="#9c68">[9c68]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<a name=":9c6a:@LAB_PRG14__9c6a"></a><span class="l"><a class="anc" name="9c6a" href="#9c6a">[9c6a]</a><a href="#:9c6a:@LAB_PRG14__9c6a" class="lla">@LAB_PRG14__9c6a:</a><span class="ce">; [$9c6a]</span></span>
<span class="l"><a class="anc" name="9c6a" href="#9c6a">[9c6a]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9c6b" href="#9c6b">[9c6b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name=":9c6e:@LAB_PRG14__9c6e"></a><span class="l"><a class="anc" name="9c6e" href="#9c6e">[9c6e]</a><a href="#:9c6e:@LAB_PRG14__9c6e" class="lla">@LAB_PRG14__9c6e:</a><span class="ce">; [$9c6e]</span></span>
<span class="l"><a class="anc" name="9c6e" href="#9c6e">[9c6e]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9c70" href="#9c70">[9c70]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9c73" href="#9c73">[9c73]</a><span class="cd"><span class="i">AND</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9c75" href="#9c75">[9c75]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9c6a">@LAB_PRG14__9c6a</a></span></span></span>
<span class="l"><a class="anc" name="9c77" href="#9c77">[9c77]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9c79" href="#9c79">[9c79]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9c6a">@LAB_PRG14__9c6a</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_Zoradohna"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_Zoradohna
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80e3]
;============================================================================
</div><span class="l"><a class="anc" name="9c7b" href="#9c7b">[9c7b]</a><a href="#SpriteUpdateHandler_Boss_Zoradohna" class="la">SpriteUpdateHandler_Boss_Zoradohna:</a><span class="ce">; [$9c7b]</span></span>
<span class="l"><a class="anc" name="9c7b" href="#9c7b">[9c7b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9c7e" href="#9c7e">[9c7e]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9c81" href="#9c81">[9c81]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9c82" href="#9c82">[9c82]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9c83" href="#9c83">[9c83]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9c84" href="#9c84">[9c84]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9c86" href="#9c86">[9c86]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Borabohra"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Borabohra
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5ff]
;============================================================================
</div><span class="l"><a class="anc" name="9c89" href="#9c89">[9c89]</a><a href="#SpriteBehavior_Borabohra" class="la">SpriteBehavior_Borabohra:</a><span class="ce">; [$9c89]</span></span>
<span class="l"><a class="anc" name="9c89" href="#9c89">[9c89]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9c8c" href="#9c8c">[9c8c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9c9e">@LAB_PRG14__9c9e</a></span></span></span>
<span class="l"><a class="anc" name="9c8e" href="#9c8e">[9c8e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9c90" href="#9c90">[9c90]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c93" href="#9c93">[9c93]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9c95" href="#9c95">[9c95]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c98" href="#9c98">[9c98]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9c9b" href="#9c9b">[9c9b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9c9e:@LAB_PRG14__9c9e"></a><span class="l"><a class="anc" name="9c9e" href="#9c9e">[9c9e]</a><a href="#:9c9e:@LAB_PRG14__9c9e" class="lla">@LAB_PRG14__9c9e:</a><span class="ce">; [$9c9e]</span></span>
<span class="l"><a class="anc" name="9c9e" href="#9c9e">[9c9e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ca1" href="#9ca1">[9ca1]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9ca2" href="#9ca2">[9ca2]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9cb5">@LAB_PRG14__9cb5</a></span></span></span>
<span class="l"><a class="anc" name="9ca4" href="#9ca4">[9ca4]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ca7" href="#9ca7">[9ca7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9caa" href="#9caa">[9caa]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="9cac" href="#9cac">[9cac]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9cae" href="#9cae">[9cae]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cb1" href="#9cb1">[9cb1]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"></span>
<a name=":9cb4:@_return1"></a><span class="l"><a class="anc" name="9cb4" href="#9cb4">[9cb4]</a><a href="#:9cb4:@_return1" class="lla">@_return1:</a><span class="ce">; [$9cb4]</span></span>
<span class="l"><a class="anc" name="9cb4" href="#9cb4">[9cb4]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9cb5:@LAB_PRG14__9cb5"></a><span class="l"><a class="anc" name="9cb5" href="#9cb5">[9cb5]</a><a href="#:9cb5:@LAB_PRG14__9cb5" class="lla">@LAB_PRG14__9cb5:</a><span class="ce">; [$9cb5]</span></span>
<span class="l"><a class="anc" name="9cb5" href="#9cb5">[9cb5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cb8" href="#9cb8">[9cb8]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9cba" href="#9cba">[9cba]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="9cbd" href="#9cbd">[9cbd]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9cbf" href="#9cbf">[9cbf]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcHorizSpriteMovement">Sprites_CalcHorizSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9cc2" href="#9cc2">[9cc2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="9cc5" href="#9cc5">[9cc5]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cc8" href="#9cc8">[9cc8]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="9cca" href="#9cca">[9cca]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9ccc" href="#9ccc">[9ccc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"></span>
<a name=":9ccf:@_return2"></a><span class="l"><a class="anc" name="9ccf" href="#9ccf">[9ccf]</a><a href="#:9ccf:@_return2" class="lla">@_return2:</a><span class="ce">; [$9ccf]</span></span>
<span class="l"><a class="anc" name="9ccf" href="#9ccf">[9ccf]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_Borabohra"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_Borabohra
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80e5]
;============================================================================
</div><span class="l"><a class="anc" name="9cd0" href="#9cd0">[9cd0]</a><a href="#SpriteUpdateHandler_Boss_Borabohra" class="la">SpriteUpdateHandler_Boss_Borabohra:</a><span class="ce">; [$9cd0]</span></span>
<span class="l"><a class="anc" name="9cd0" href="#9cd0">[9cd0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9cd3" href="#9cd3">[9cd3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cd6" href="#9cd6">[9cd6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9cd7" href="#9cd7">[9cd7]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9ce2">@LAB_PRG14__9ce2</a></span></span></span>
<span class="l"><a class="anc" name="9cd9" href="#9cd9">[9cd9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cdc" href="#9cdc">[9cdc]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9cdd" href="#9cdd">[9cdd]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9cde" href="#9cde">[9cde]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9cdf" href="#9cdf">[9cdf]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@LAB_PRG14__9ced">@LAB_PRG14__9ced</a></span></span></span>
<span class="l"></span>
<a name=":9ce2:@LAB_PRG14__9ce2"></a><span class="l"><a class="anc" name="9ce2" href="#9ce2">[9ce2]</a><a href="#:9ce2:@LAB_PRG14__9ce2" class="lla">@LAB_PRG14__9ce2:</a><span class="ce">; [$9ce2]</span></span>
<span class="l"><a class="anc" name="9ce2" href="#9ce2">[9ce2]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9ce5" href="#9ce5">[9ce5]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9ce6" href="#9ce6">[9ce6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9ce7" href="#9ce7">[9ce7]</a><span class="cd"><span class="i">AND</span> <span class="o">#$06</span></span></span>
<span class="l"><a class="anc" name="9ce9" href="#9ce9">[9ce9]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9cea" href="#9cea">[9cea]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9cec" href="#9cec">[9cec]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":9ced:@LAB_PRG14__9ced"></a><span class="l"><a class="anc" name="9ced" href="#9ced">[9ced]</a><a href="#:9ced:@LAB_PRG14__9ced" class="lla">@LAB_PRG14__9ced:</a><span class="ce">; [$9ced]</span></span>
<span class="l"><a class="anc" name="9ced" href="#9ced">[9ced]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9cee" href="#9cee">[9cee]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9cef" href="#9cef">[9cef]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Pakukame"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Pakukame
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a601]
;============================================================================
</div><span class="l"><a class="anc" name="9cf2" href="#9cf2">[9cf2]</a><a href="#SpriteBehavior_Pakukame" class="la">SpriteBehavior_Pakukame:</a><span class="ce">; [$9cf2]</span></span>
<span class="l"><a class="anc" name="9cf2" href="#9cf2">[9cf2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9cf5" href="#9cf5">[9cf5]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9d07">@LAB_PRG14__9d07</a></span></span></span>
<span class="l"><a class="anc" name="9cf7" href="#9cf7">[9cf7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9cf9" href="#9cf9">[9cf9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cfc" href="#9cfc">[9cfc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9cff" href="#9cff">[9cff]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9d01" href="#9d01">[9d01]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d04" href="#9d04">[9d04]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9d07:@LAB_PRG14__9d07"></a><span class="l"><a class="anc" name="9d07" href="#9d07">[9d07]</a><a href="#:9d07:@LAB_PRG14__9d07" class="lla">@LAB_PRG14__9d07:</a><span class="ce">; [$9d07]</span></span>
<span class="l"><a class="anc" name="9d07" href="#9d07">[9d07]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d0a" href="#9d0a">[9d0a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9d0c" href="#9d0c">[9d0c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9d2b">@LAB_PRG14__9d2b</a></span></span></span>
<span class="l"><a class="anc" name="9d0e" href="#9d0e">[9d0e]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d11" href="#9d11">[9d11]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d14" href="#9d14">[9d14]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="9d16" href="#9d16">[9d16]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9d18" href="#9d18">[9d18]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="9d1b" href="#9d1b">[9d1b]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9d1d" href="#9d1d">[9d1d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#SpriteBehavior_Pakukame__9d78">SpriteBehavior_Pakukame__9d78</a></span></span></span>
<span class="l"><a class="anc" name="9d20" href="#9d20">[9d20]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9d22" href="#9d22">[9d22]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d25" href="#9d25">[9d25]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$12</span></span></span>
<span class="l"><a class="anc" name="9d27" href="#9d27">[9d27]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"></span>
<a name=":9d2a:@_return1"></a><span class="l"><a class="anc" name="9d2a" href="#9d2a">[9d2a]</a><a href="#:9d2a:@_return1" class="lla">@_return1:</a><span class="ce">; [$9d2a]</span></span>
<span class="l"><a class="anc" name="9d2a" href="#9d2a">[9d2a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9d2b:@LAB_PRG14__9d2b"></a><span class="l"><a class="anc" name="9d2b" href="#9d2b">[9d2b]</a><a href="#:9d2b:@LAB_PRG14__9d2b" class="lla">@LAB_PRG14__9d2b:</a><span class="ce">; [$9d2b]</span></span>
<span class="l"><a class="anc" name="9d2b" href="#9d2b">[9d2b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9d2e" href="#9d2e">[9d2e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="9d30" href="#9d30">[9d30]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9d32" href="#9d32">[9d32]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d35" href="#9d35">[9d35]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d38" href="#9d38">[9d38]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9d3a" href="#9d3a">[9d3a]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9d45">@LAB_PRG14__9d45</a></span></span></span>
<span class="l"><a class="anc" name="9d3c" href="#9d3c">[9d3c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9d3e" href="#9d3e">[9d3e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d41" href="#9d41">[9d41]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9d44:@_return2"></a><span class="l"><a class="anc" name="9d44" href="#9d44">[9d44]</a><a href="#:9d44:@_return2" class="lla">@_return2:</a><span class="ce">; [$9d44]</span></span>
<span class="l"><a class="anc" name="9d44" href="#9d44">[9d44]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9d45:@LAB_PRG14__9d45"></a><span class="l"><a class="anc" name="9d45" href="#9d45">[9d45]</a><a href="#:9d45:@LAB_PRG14__9d45" class="lla">@LAB_PRG14__9d45:</a><span class="ce">; [$9d45]</span></span>
<span class="l"><a class="anc" name="9d45" href="#9d45">[9d45]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9d47" href="#9d47">[9d47]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9d49" href="#9d49">[9d49]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="9d4c" href="#9d4c">[9d4c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9d4e" href="#9d4e">[9d4e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d50" href="#9d50">[9d50]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9d52" href="#9d52">[9d52]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d55" href="#9d55">[9d55]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d57" href="#9d57">[9d57]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="9d59" href="#9d59">[9d59]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d5c" href="#9d5c">[9d5c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$9e</span></span></span>
<span class="l"><a class="anc" name="9d5e" href="#9d5e">[9d5e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d61" href="#9d61">[9d61]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9d63" href="#9d63">[9d63]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d66" href="#9d66">[9d66]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="9d68" href="#9d68">[9d68]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d6b" href="#9d6b">[9d6b]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="9d6c" href="#9d6c">[9d6c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITIES_HP">SPRITE_ENTITIES_HP</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d6f" href="#9d6f">[9d6f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HP">CurrentSprites_HP</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d72" href="#9d72">[9d72]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="9d75" href="#9d75">[9d75]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Pakukame__9d78"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Pakukame__9d78
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>
;============================================================================
</div><span class="l"><a class="anc" name="9d78" href="#9d78">[9d78]</a><a href="#SpriteBehavior_Pakukame__9d78" class="la">SpriteBehavior_Pakukame__9d78:</a><span class="ce">; [$9d78]</span></span>
<span class="l"><a class="anc" name="9d78" href="#9d78">[9d78]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="9d7a" href="#9d7a">[9d7a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9d7c" href="#9d7c">[9d7c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<a name=":9d7e:@LAB_PRG14__9d7e"></a><span class="l"><a class="anc" name="9d7e" href="#9d7e">[9d7e]</a><a href="#:9d7e:@LAB_PRG14__9d7e" class="lla">@LAB_PRG14__9d7e:</a><span class="ce">; [$9d7e]</span></span>
<span class="l"><a class="anc" name="9d7e" href="#9d7e">[9d7e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9d81" href="#9d81">[9d81]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="9d83" href="#9d83">[9d83]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9d8f">@LAB_PRG14__9d8f</a></span></span></span>
<span class="l"><a class="anc" name="9d85" href="#9d85">[9d85]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9d87" href="#9d87">[9d87]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9d89" href="#9d89">[9d89]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9d8b" href="#9d8b">[9d8b]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9d8f">@LAB_PRG14__9d8f</a></span></span></span>
<span class="l"><a class="anc" name="9d8d" href="#9d8d">[9d8d]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9d8e" href="#9d8e">[9d8e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9d8f:@LAB_PRG14__9d8f"></a><span class="l"><a class="anc" name="9d8f" href="#9d8f">[9d8f]</a><a href="#:9d8f:@LAB_PRG14__9d8f" class="lla">@LAB_PRG14__9d8f:</a><span class="ce">; [$9d8f]</span></span>
<span class="l"><a class="anc" name="9d8f" href="#9d8f">[9d8f]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9d90" href="#9d90">[9d90]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__9d7e">@LAB_PRG14__9d7e</a></span></span></span>
<span class="l"><a class="anc" name="9d92" href="#9d92">[9d92]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9d93" href="#9d93">[9d93]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_Pakukame"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_Pakukame
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80e7]
;============================================================================
</div><span class="l"><a class="anc" name="9d94" href="#9d94">[9d94]</a><a href="#SpriteUpdateHandler_Boss_Pakukame" class="la">SpriteUpdateHandler_Boss_Pakukame:</a><span class="ce">; [$9d94]</span></span>
<span class="l"><a class="anc" name="9d94" href="#9d94">[9d94]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9d96" href="#9d96">[9d96]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d99" href="#9d99">[9d99]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9d9f">@LAB_PRG14__9d9f</a></span></span></span>
<span class="l"><a class="anc" name="9d9b" href="#9d9b">[9d9b]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9d9e" href="#9d9e">[9d9e]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"></span>
<a name=":9d9f:@LAB_PRG14__9d9f"></a><span class="l"><a class="anc" name="9d9f" href="#9d9f">[9d9f]</a><a href="#:9d9f:@LAB_PRG14__9d9f" class="lla">@LAB_PRG14__9d9f:</a><span class="ce">; [$9d9f]</span></span>
<span class="l"><a class="anc" name="9d9f" href="#9d9f">[9d9f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9da5">BYTE_ARRAY_PRG14__9da5</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9da2" href="#9da2">[9da2]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9da5"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Boss_Pakukame">SpriteUpdateHandler_Boss_Pakukame</a>
;
</div><span class="l"><a class="anc" name="9da5" href="#9da5">[9da5]</a><a href="#BYTE_ARRAY_PRG14__9da5" class="la">BYTE_ARRAY_PRG14__9da5:</a><span class="ce">; [$9da5]</span></span>
<span class="l"><a class="anc" name="9da5" href="#9da5">[9da5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9da6" href="#9da6">[9da6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9da7" href="#9da7">[9da7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9da8" href="#9da8">[9da8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Zorugeriru"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Zorugeriru
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a603]
;============================================================================
</div><span class="l"><a class="anc" name="9da9" href="#9da9">[9da9]</a><a href="#SpriteBehavior_Zorugeriru" class="la">SpriteBehavior_Zorugeriru:</a><span class="ce">; [$9da9]</span></span>
<span class="l"><a class="anc" name="9da9" href="#9da9">[9da9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9dac" href="#9dac">[9dac]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9dbe">@LAB_PRG14__9dbe</a></span></span></span>
<span class="l"><a class="anc" name="9dae" href="#9dae">[9dae]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9db0" href="#9db0">[9db0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9db3" href="#9db3">[9db3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9db5" href="#9db5">[9db5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9db8" href="#9db8">[9db8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9dbb" href="#9dbb">[9dbb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9dbe:@LAB_PRG14__9dbe"></a><span class="l"><a class="anc" name="9dbe" href="#9dbe">[9dbe]</a><a href="#:9dbe:@LAB_PRG14__9dbe" class="lla">@LAB_PRG14__9dbe:</a><span class="ce">; [$9dbe]</span></span>
<span class="l"><a class="anc" name="9dbe" href="#9dbe">[9dbe]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9dc1" href="#9dc1">[9dc1]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9dc2" href="#9dc2">[9dc2]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9de1">@LAB_PRG14__9de1</a></span></span></span>
<span class="l"><a class="anc" name="9dc4" href="#9dc4">[9dc4]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9dc7" href="#9dc7">[9dc7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9dca" href="#9dca">[9dca]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="9dcc" href="#9dcc">[9dcc]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9dce" href="#9dce">[9dce]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="9dd1" href="#9dd1">[9dd1]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9dd3" href="#9dd3">[9dd3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#SpriteBehavior_Zorugeriru__9df7">SpriteBehavior_Zorugeriru__9df7</a></span></span></span>
<span class="l"><a class="anc" name="9dd6" href="#9dd6">[9dd6]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9dd8" href="#9dd8">[9dd8]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ddb" href="#9ddb">[9ddb]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9ddd" href="#9ddd">[9ddd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9de0:@_return1"></a><span class="l"><a class="anc" name="9de0" href="#9de0">[9de0]</a><a href="#:9de0:@_return1" class="lla">@_return1:</a><span class="ce">; [$9de0]</span></span>
<span class="l"><a class="anc" name="9de0" href="#9de0">[9de0]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9de1:@LAB_PRG14__9de1"></a><span class="l"><a class="anc" name="9de1" href="#9de1">[9de1]</a><a href="#:9de1:@LAB_PRG14__9de1" class="lla">@LAB_PRG14__9de1:</a><span class="ce">; [$9de1]</span></span>
<span class="l"><a class="anc" name="9de1" href="#9de1">[9de1]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9de4" href="#9de4">[9de4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9de7" href="#9de7">[9de7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9de9" href="#9de9">[9de9]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9deb" href="#9deb">[9deb]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9dee" href="#9dee">[9dee]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="9df0" href="#9df0">[9df0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9df3" href="#9df3">[9df3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_Zorugeriru__9e13">SpriteBehavior_Zorugeriru__9e13</a></span></span></span>
<span class="l"></span>
<a name=":9df6:@_return2"></a><span class="l"><a class="anc" name="9df6" href="#9df6">[9df6]</a><a href="#:9df6:@_return2" class="lla">@_return2:</a><span class="ce">; [$9df6]</span></span>
<span class="l"><a class="anc" name="9df6" href="#9df6">[9df6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Zorugeriru__9df7"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Zorugeriru__9df7
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     C
;
; XREFS:
;     <a href="#SpriteBehavior_Zorugeriru">SpriteBehavior_Zorugeriru</a>
;============================================================================
</div><span class="l"><a class="anc" name="9df7" href="#9df7">[9df7]</a><a href="#SpriteBehavior_Zorugeriru__9df7" class="la">SpriteBehavior_Zorugeriru__9df7:</a><span class="ce">; [$9df7]</span></span>
<span class="l"><a class="anc" name="9df7" href="#9df7">[9df7]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="9df9" href="#9df9">[9df9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9dfb" href="#9dfb">[9dfb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<a name=":9dfd:@LAB_PRG14__9dfd"></a><span class="l"><a class="anc" name="9dfd" href="#9dfd">[9dfd]</a><a href="#:9dfd:@LAB_PRG14__9dfd" class="lla">@LAB_PRG14__9dfd:</a><span class="ce">; [$9dfd]</span></span>
<span class="l"><a class="anc" name="9dfd" href="#9dfd">[9dfd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e00" href="#9e00">[9e00]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9e02" href="#9e02">[9e02]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9e0e">@LAB_PRG14__9e0e</a></span></span></span>
<span class="l"><a class="anc" name="9e04" href="#9e04">[9e04]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9e06" href="#9e06">[9e06]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9e08" href="#9e08">[9e08]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9e0a" href="#9e0a">[9e0a]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9e0e">@LAB_PRG14__9e0e</a></span></span></span>
<span class="l"><a class="anc" name="9e0c" href="#9e0c">[9e0c]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9e0d" href="#9e0d">[9e0d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9e0e:@LAB_PRG14__9e0e"></a><span class="l"><a class="anc" name="9e0e" href="#9e0e">[9e0e]</a><a href="#:9e0e:@LAB_PRG14__9e0e" class="lla">@LAB_PRG14__9e0e:</a><span class="ce">; [$9e0e]</span></span>
<span class="l"><a class="anc" name="9e0e" href="#9e0e">[9e0e]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9e0f" href="#9e0f">[9e0f]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__9dfd">@LAB_PRG14__9dfd</a></span></span></span>
<span class="l"><a class="anc" name="9e11" href="#9e11">[9e11]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"></span>
<a name="RETURN_9E12"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Zorugeriru__9e13">SpriteBehavior_Zorugeriru__9e13</a>
;
</div><span class="l"><a class="anc" name="9e12" href="#9e12">[9e12]</a><a href="#RETURN_9E12" class="la">RETURN_9E12:</a><span class="ce">; [$9e12]</span></span>
<span class="l"><a class="anc" name="9e12" href="#9e12">[9e12]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Zorugeriru__9e13"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Zorugeriru__9e13
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Zorugeriru">SpriteBehavior_Zorugeriru</a>
;============================================================================
</div><span class="l"><a class="anc" name="9e13" href="#9e13">[9e13]</a><a href="#SpriteBehavior_Zorugeriru__9e13" class="la">SpriteBehavior_Zorugeriru__9e13:</a><span class="ce">; [$9e13]</span></span>
<span class="l"><a class="anc" name="9e13" href="#9e13">[9e13]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="9e16" href="#9e16">[9e16]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_9E12">RETURN_9E12</a></span></span></span>
<span class="l"><a class="anc" name="9e18" href="#9e18">[9e18]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9e1a" href="#9e1a">[9e1a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e1d" href="#9e1d">[9e1d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9e1f" href="#9e1f">[9e1f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e22" href="#9e22">[9e22]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e25" href="#9e25">[9e25]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9e27" href="#9e27">[9e27]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e2a" href="#9e2a">[9e2a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e2c" href="#9e2c">[9e2c]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9e2d" href="#9e2d">[9e2d]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9e2f" href="#9e2f">[9e2f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9e31" href="#9e31">[9e31]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="9e33" href="#9e33">[9e33]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e35" href="#9e35">[9e35]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9e3e">@LAB_PRG14__9e3e</a></span></span></span>
<span class="l"><a class="anc" name="9e37" href="#9e37">[9e37]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="9e39" href="#9e39">[9e39]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9e3e">@LAB_PRG14__9e3e</a></span></span></span>
<span class="l"><a class="anc" name="9e3b" href="#9e3b">[9e3b]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9e3c" href="#9e3c">[9e3c]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$10</span></span></span>
<span class="l"></span>
<a name=":9e3e:@LAB_PRG14__9e3e"></a><span class="l"><a class="anc" name="9e3e" href="#9e3e">[9e3e]</a><a href="#:9e3e:@LAB_PRG14__9e3e" class="lla">@LAB_PRG14__9e3e:</a><span class="ce">; [$9e3e]</span></span>
<span class="l"><a class="anc" name="9e3e" href="#9e3e">[9e3e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e41" href="#9e41">[9e41]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="9e43" href="#9e43">[9e43]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e46" href="#9e46">[9e46]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e49" href="#9e49">[9e49]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e4c" href="#9e4c">[9e4c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_Zorugeriru"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_Zorugeriru
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80e9]
;============================================================================
</div><span class="l"><a class="anc" name="9e4f" href="#9e4f">[9e4f]</a><a href="#SpriteUpdateHandler_Boss_Zorugeriru" class="la">SpriteUpdateHandler_Boss_Zorugeriru:</a><span class="ce">; [$9e4f]</span></span>
<span class="l"><a class="anc" name="9e4f" href="#9e4f">[9e4f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9e52" href="#9e52">[9e52]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9e54" href="#9e54">[9e54]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e57" href="#9e57">[9e57]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9e58" href="#9e58">[9e58]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9e63">@LAB_PRG14__9e63</a></span></span></span>
<span class="l"><a class="anc" name="9e5a" href="#9e5a">[9e5a]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9e5d" href="#9e5d">[9e5d]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9e5e" href="#9e5e">[9e5e]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9e5f" href="#9e5f">[9e5f]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9e60" href="#9e60">[9e60]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9e62" href="#9e62">[9e62]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":9e63:@LAB_PRG14__9e63"></a><span class="l"><a class="anc" name="9e63" href="#9e63">[9e63]</a><a href="#:9e63:@LAB_PRG14__9e63" class="lla">@LAB_PRG14__9e63:</a><span class="ce">; [$9e63]</span></span>
<span class="l"><a class="anc" name="9e63" href="#9e63">[9e63]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9e69">BYTE_ARRAY_PRG14__9e69</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9e66" href="#9e66">[9e66]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9e69"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Boss_Zorugeriru">SpriteUpdateHandler_Boss_Zorugeriru</a>
;
</div><span class="l"><a class="anc" name="9e69" href="#9e69">[9e69]</a><a href="#BYTE_ARRAY_PRG14__9e69" class="la">BYTE_ARRAY_PRG14__9e69:</a><span class="ce">; [$9e69]</span></span>
<span class="l"><a class="anc" name="9e69" href="#9e69">[9e69]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9e6a" href="#9e6a">[9e6a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="9e6b" href="#9e6b">[9e6b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9e6c" href="#9e6c">[9e6c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Garbled3"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Garbled3
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5ed]
;============================================================================
</div><span class="l"><a class="anc" name="9e6d" href="#9e6d">[9e6d]</a><a href="#SpriteBehavior_Garbled3" class="la">SpriteBehavior_Garbled3:</a><span class="ce">; [$9e6d]</span></span>
<span class="l"><a class="anc" name="9e6d" href="#9e6d">[9e6d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9e70" href="#9e70">[9e70]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9e82">@LAB_PRG14__9e82</a></span></span></span>
<span class="l"><a class="anc" name="9e72" href="#9e72">[9e72]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9e74" href="#9e74">[9e74]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e77" href="#9e77">[9e77]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9e79" href="#9e79">[9e79]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e7c" href="#9e7c">[9e7c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e7f" href="#9e7f">[9e7f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9e82:@LAB_PRG14__9e82"></a><span class="l"><a class="anc" name="9e82" href="#9e82">[9e82]</a><a href="#:9e82:@LAB_PRG14__9e82" class="lla">@LAB_PRG14__9e82:</a><span class="ce">; [$9e82]</span></span>
<span class="l"><a class="anc" name="9e82" href="#9e82">[9e82]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e85" href="#9e85">[9e85]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9e86" href="#9e86">[9e86]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9ebc">@LAB_PRG14__9ebc</a></span></span></span>
<span class="l"><a class="anc" name="9e88" href="#9e88">[9e88]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9e89" href="#9e89">[9e89]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9ed9">@LAB_PRG14__9ed9</a></span></span></span>
<span class="l"><a class="anc" name="9e8b" href="#9e8b">[9e8b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e8e" href="#9e8e">[9e8e]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="9e90" href="#9e90">[9e90]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e93" href="#9e93">[9e93]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9e96" href="#9e96">[9e96]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9e98" href="#9e98">[9e98]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9e9b" href="#9e9b">[9e9b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9e9e" href="#9e9e">[9e9e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9eae">@LAB_PRG14__9eae</a></span></span></span>
<span class="l"><a class="anc" name="9ea0" href="#9ea0">[9ea0]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ea3" href="#9ea3">[9ea3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ea6" href="#9ea6">[9ea6]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$41</span></span></span>
<span class="l"><a class="anc" name="9ea8" href="#9ea8">[9ea8]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return1">@_return1</a></span></span></span>
<span class="l"><a class="anc" name="9eaa" href="#9eaa">[9eaa]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ead" href="#9ead">[9ead]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9eae:@LAB_PRG14__9eae"></a><span class="l"><a class="anc" name="9eae" href="#9eae">[9eae]</a><a href="#:9eae:@LAB_PRG14__9eae" class="lla">@LAB_PRG14__9eae:</a><span class="ce">; [$9eae]</span></span>
<span class="l"><a class="anc" name="9eae" href="#9eae">[9eae]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9eb1" href="#9eb1">[9eb1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9eb3" href="#9eb3">[9eb3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9eb6" href="#9eb6">[9eb6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="9eb8" href="#9eb8">[9eb8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"></span>
<a name=":9ebb:@_return1"></a><span class="l"><a class="anc" name="9ebb" href="#9ebb">[9ebb]</a><a href="#:9ebb:@_return1" class="lla">@_return1:</a><span class="ce">; [$9ebb]</span></span>
<span class="l"><a class="anc" name="9ebb" href="#9ebb">[9ebb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9ebc:@LAB_PRG14__9ebc"></a><span class="l"><a class="anc" name="9ebc" href="#9ebc">[9ebc]</a><a href="#:9ebc:@LAB_PRG14__9ebc" class="lla">@LAB_PRG14__9ebc:</a><span class="ce">; [$9ebc]</span></span>
<span class="l"><a class="anc" name="9ebc" href="#9ebc">[9ebc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ebf" href="#9ebf">[9ebf]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9ec1" href="#9ec1">[9ec1]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9ec2" href="#9ec2">[9ec2]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9ec3" href="#9ec3">[9ec3]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9ec4" href="#9ec4">[9ec4]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9ec6" href="#9ec6">[9ec6]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9ec7" href="#9ec7">[9ec7]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ec9" href="#9ec9">[9ec9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ecb" href="#9ecb">[9ecb]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ece" href="#9ece">[9ece]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return2">@_return2</a></span></span></span>
<span class="l"><a class="anc" name="9ed0" href="#9ed0">[9ed0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="9ed2" href="#9ed2">[9ed2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ed5" href="#9ed5">[9ed5]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"></span>
<a name=":9ed8:@_return2"></a><span class="l"><a class="anc" name="9ed8" href="#9ed8">[9ed8]</a><a href="#:9ed8:@_return2" class="lla">@_return2:</a><span class="ce">; [$9ed8]</span></span>
<span class="l"><a class="anc" name="9ed8" href="#9ed8">[9ed8]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9ed9:@LAB_PRG14__9ed9"></a><span class="l"><a class="anc" name="9ed9" href="#9ed9">[9ed9]</a><a href="#:9ed9:@LAB_PRG14__9ed9" class="lla">@LAB_PRG14__9ed9:</a><span class="ce">; [$9ed9]</span></span>
<span class="l"><a class="anc" name="9ed9" href="#9ed9">[9ed9]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9edc" href="#9edc">[9edc]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return3">@_return3</a></span></span></span>
<span class="l"><a class="anc" name="9ede" href="#9ede">[9ede]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9ee0" href="#9ee0">[9ee0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<a name=":9ee3:@_return3"></a><span class="l"><a class="anc" name="9ee3" href="#9ee3">[9ee3]</a><a href="#:9ee3:@_return3" class="lla">@_return3:</a><span class="ce">; [$9ee3]</span></span>
<span class="l"><a class="anc" name="9ee3" href="#9ee3">[9ee3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Garbled03"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Garbled03
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::808d]
;============================================================================
</div><span class="l"><a class="anc" name="9ee4" href="#9ee4">[9ee4]</a><a href="#SpriteUpdateHandler_Garbled03" class="la">SpriteUpdateHandler_Garbled03:</a><span class="ce">; [$9ee4]</span></span>
<span class="l"><a class="anc" name="9ee4" href="#9ee4">[9ee4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9ee7" href="#9ee7">[9ee7]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9ee9" href="#9ee9">[9ee9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9eec" href="#9eec">[9eec]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9eee" href="#9eee">[9eee]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9eff">@LAB_PRG14__9eff</a></span></span></span>
<span class="l"><a class="anc" name="9ef0" href="#9ef0">[9ef0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ef3" href="#9ef3">[9ef3]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="9ef5" href="#9ef5">[9ef5]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9eff">@LAB_PRG14__9eff</a></span></span></span>
<span class="l"><a class="anc" name="9ef7" href="#9ef7">[9ef7]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9ef9" href="#9ef9">[9ef9]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9efb" href="#9efb">[9efb]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9eff">@LAB_PRG14__9eff</a></span></span></span>
<span class="l"><a class="anc" name="9efd" href="#9efd">[9efd]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$05</span></span></span>
<span class="l"></span>
<a name=":9eff:@LAB_PRG14__9eff"></a><span class="l"><a class="anc" name="9eff" href="#9eff">[9eff]</a><a href="#:9eff:@LAB_PRG14__9eff" class="lla">@LAB_PRG14__9eff:</a><span class="ce">; [$9eff]</span></span>
<span class="l"><a class="anc" name="9eff" href="#9eff">[9eff]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="9f00" href="#9f00">[9f00]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_KingGrieve"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_KingGrieve
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a605]
;============================================================================
</div><span class="l"><a class="anc" name="9f03" href="#9f03">[9f03]</a><a href="#SpriteBehavior_KingGrieve" class="la">SpriteBehavior_KingGrieve:</a><span class="ce">; [$9f03]</span></span>
<span class="l"><a class="anc" name="9f03" href="#9f03">[9f03]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9f06" href="#9f06">[9f06]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9f1d">@LAB_PRG14__9f1d</a></span></span></span>
<span class="l"><a class="anc" name="9f08" href="#9f08">[9f08]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="9f0a" href="#9f0a">[9f0a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f0d" href="#9f0d">[9f0d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9f0f" href="#9f0f">[9f0f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f12" href="#9f12">[9f12]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9f14" href="#9f14">[9f14]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f17" href="#9f17">[9f17]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f1a" href="#9f1a">[9f1a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":9f1d:@LAB_PRG14__9f1d"></a><span class="l"><a class="anc" name="9f1d" href="#9f1d">[9f1d]</a><a href="#:9f1d:@LAB_PRG14__9f1d" class="lla">@LAB_PRG14__9f1d:</a><span class="ce">; [$9f1d]</span></span>
<span class="l"><a class="anc" name="9f1d" href="#9f1d">[9f1d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f20" href="#9f20">[9f20]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9f22" href="#9f22">[9f22]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9f23" href="#9f23">[9f23]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9f2e">@LAB_PRG14__9f2e</a></span></span></span>
<span class="l"><a class="anc" name="9f25" href="#9f25">[9f25]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9f26" href="#9f26">[9f26]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteBehavior_KingGrieve_9f65">SpriteBehavior_KingGrieve_9f65</a></span></span></span>
<span class="l"><a class="anc" name="9f28" href="#9f28">[9f28]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="9f29" href="#9f29">[9f29]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteBehavior_KingGrieve_MoveDown">SpriteBehavior_KingGrieve_MoveDown</a></span></span></span>
<span class="l"><a class="anc" name="9f2b" href="#9f2b">[9f2b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_KingGrieve_9f86">SpriteBehavior_KingGrieve_9f86</a></span></span></span>
<span class="l"></span>
<a name=":9f2e:@LAB_PRG14__9f2e"></a><span class="l"><a class="anc" name="9f2e" href="#9f2e">[9f2e]</a><a href="#:9f2e:@LAB_PRG14__9f2e" class="lla">@LAB_PRG14__9f2e:</a><span class="ce">; [$9f2e]</span></span>
<span class="l"><a class="anc" name="9f2e" href="#9f2e">[9f2e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9f30" href="#9f30">[9f30]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="9f33" href="#9f33">[9f33]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9f35" href="#9f35">[9f35]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9f38" href="#9f38">[9f38]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="9f3b" href="#9f3b">[9f3b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f3e" href="#9f3e">[9f3e]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="9f40" href="#9f40">[9f40]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f43" href="#9f43">[9f43]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f46" href="#9f46">[9f46]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9f48" href="#9f48">[9f48]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="9f4b" href="#9f4b">[9f4b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9f4e" href="#9f4e">[9f4e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9f5c">@LAB_PRG14__9f5c</a></span></span></span>
<span class="l"><a class="anc" name="9f50" href="#9f50">[9f50]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f53" href="#9f53">[9f53]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="9f54" href="#9f54">[9f54]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9f56" href="#9f56">[9f56]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f59" href="#9f59">[9f59]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__9f5c">@LAB_PRG14__9f5c</a></span></span></span>
<span class="l"><a class="anc" name="9f5b" href="#9f5b">[9f5b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":9f5c:@LAB_PRG14__9f5c"></a><span class="l"><a class="anc" name="9f5c" href="#9f5c">[9f5c]</a><a href="#:9f5c:@LAB_PRG14__9f5c" class="lla">@LAB_PRG14__9f5c:</a><span class="ce">; [$9f5c]</span></span>
<span class="l"><a class="anc" name="9f5c" href="#9f5c">[9f5c]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f5f" href="#9f5f">[9f5f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="9f61" href="#9f61">[9f61]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f64" href="#9f64">[9f64]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_KingGrieve_9f65"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_KingGrieve_9f65
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;============================================================================
</div><span class="l"><a class="anc" name="9f65" href="#9f65">[9f65]</a><a href="#SpriteBehavior_KingGrieve_9f65" class="la">SpriteBehavior_KingGrieve_9f65:</a><span class="ce">; [$9f65]</span></span>
<span class="l"><a class="anc" name="9f65" href="#9f65">[9f65]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9f68" href="#9f68">[9f68]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="9f6a" href="#9f6a">[9f6a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_KingGrieve_9f86">SpriteBehavior_KingGrieve_9f86</a></span></span></span>
<span class="l"><a class="anc" name="9f6c" href="#9f6c">[9f6c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f6f" href="#9f6f">[9f6f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9f71" href="#9f71">[9f71]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="9f72" href="#9f72">[9f72]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f74" href="#9f74">[9f74]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9f75" href="#9f75">[9f75]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9f9c">BYTE_ARRAY_PRG14__9f9c</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9f78" href="#9f78">[9f78]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicX">CurrentSprite_Arg_CastMagicX</a></span></span></span>
<span class="l"><a class="anc" name="9f7b" href="#9f7b">[9f7b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f7d" href="#9f7d">[9f7d]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="9f7e" href="#9f7e">[9f7e]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="9f80" href="#9f80">[9f80]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicY">CurrentSprite_Arg_CastMagicY</a></span></span></span>
<span class="l"><a class="anc" name="9f83" href="#9f83">[9f83]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CastMagic">Sprite_CastMagic</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteBehavior_KingGrieve_9f86"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_KingGrieve_9f86
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;     <a href="#SpriteBehavior_KingGrieve_9f65">SpriteBehavior_KingGrieve_9f65</a>
;============================================================================
</div><span class="l"><a class="anc" name="9f86" href="#9f86">[9f86]</a><a href="#SpriteBehavior_KingGrieve_9f86" class="la">SpriteBehavior_KingGrieve_9f86:</a><span class="ce">; [$9f86]</span></span>
<span class="l"><a class="anc" name="9f86" href="#9f86">[9f86]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="9f89" href="#9f89">[9f89]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f8c" href="#9f8c">[9f8c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__9f9b">@LAB_PRG14__9f9b</a></span></span></span>
<span class="l"><a class="anc" name="9f8e" href="#9f8e">[9f8e]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f91" href="#9f91">[9f91]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="9f93" href="#9f93">[9f93]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9f96" href="#9f96">[9f96]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9f98" href="#9f98">[9f98]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9f9b:@LAB_PRG14__9f9b"></a><span class="l"><a class="anc" name="9f9b" href="#9f9b">[9f9b]</a><a href="#:9f9b:@LAB_PRG14__9f9b" class="lla">@LAB_PRG14__9f9b:</a><span class="ce">; [$9f9b]</span></span>
<span class="l"><a class="anc" name="9f9b" href="#9f9b">[9f9b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9f9c"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_KingGrieve_9f65">SpriteBehavior_KingGrieve_9f65</a>
;
</div><span class="l"><a class="anc" name="9f9c" href="#9f9c">[9f9c]</a><a href="#BYTE_ARRAY_PRG14__9f9c" class="la">BYTE_ARRAY_PRG14__9f9c:</a><span class="ce">; [$9f9c]</span></span>
<span class="l"><a class="anc" name="9f9c" href="#9f9c">[9f9c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9f9d" href="#9f9d">[9f9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_KingGrieve_MoveDown"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_KingGrieve_MoveDown
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;============================================================================
</div><span class="l"><a class="anc" name="9f9e" href="#9f9e">[9f9e]</a><a href="#SpriteBehavior_KingGrieve_MoveDown" class="la">SpriteBehavior_KingGrieve_MoveDown:</a><span class="ce">; [$9f9e]</span></span>
<span class="l"><a class="anc" name="9f9e" href="#9f9e">[9f9e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9fa1" href="#9fa1">[9fa1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="9fa3" href="#9fa3">[9fa3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="9fa6" href="#9fa6">[9fa6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9fa8" href="#9fa8">[9fa8]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="9fab" href="#9fab">[9fab]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="9fad" href="#9fad">[9fad]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="9fb0" href="#9fb0">[9fb0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="9fb3" href="#9fb3">[9fb3]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9fbb">@LAB_PRG14__9fbb</a></span></span></span>
<span class="l"><a class="anc" name="9fb5" href="#9fb5">[9fb5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="9fb7" href="#9fb7">[9fb7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="9fb9" href="#9fb9">[9fb9]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__9fc3">@LAB_PRG14__9fc3</a></span></span></span>
<span class="l"></span>
<a name=":9fbb:@LAB_PRG14__9fbb"></a><span class="l"><a class="anc" name="9fbb" href="#9fbb">[9fbb]</a><a href="#:9fbb:@LAB_PRG14__9fbb" class="lla">@LAB_PRG14__9fbb:</a><span class="ce">; [$9fbb]</span></span>
<span class="l"><a class="anc" name="9fbb" href="#9fbb">[9fbb]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9fbe" href="#9fbe">[9fbe]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$1e</span></span></span>
<span class="l"><a class="anc" name="9fc0" href="#9fc0">[9fc0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":9fc3:@LAB_PRG14__9fc3"></a><span class="l"><a class="anc" name="9fc3" href="#9fc3">[9fc3]</a><a href="#:9fc3:@LAB_PRG14__9fc3" class="lla">@LAB_PRG14__9fc3:</a><span class="ce">; [$9fc3]</span></span>
<span class="l"><a class="anc" name="9fc3" href="#9fc3">[9fc3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_KingGrieve"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_KingGrieve
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80eb]
;============================================================================
</div><span class="l"><a class="anc" name="9fc4" href="#9fc4">[9fc4]</a><a href="#SpriteUpdateHandler_Boss_KingGrieve" class="la">SpriteUpdateHandler_Boss_KingGrieve:</a><span class="ce">; [$9fc4]</span></span>
<span class="l"><a class="anc" name="9fc4" href="#9fc4">[9fc4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="9fc7" href="#9fc7">[9fc7]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="9fc9" href="#9fc9">[9fc9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9fcc" href="#9fcc">[9fcc]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9fce" href="#9fce">[9fce]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__9fd9">@LAB_PRG14__9fd9</a></span></span></span>
<span class="l"><a class="anc" name="9fd0" href="#9fd0">[9fd0]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="9fd3" href="#9fd3">[9fd3]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9fd4" href="#9fd4">[9fd4]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9fd5" href="#9fd5">[9fd5]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="9fd6" href="#9fd6">[9fd6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="9fd8" href="#9fd8">[9fd8]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":9fd9:@LAB_PRG14__9fd9"></a><span class="l"><a class="anc" name="9fd9" href="#9fd9">[9fd9]</a><a href="#:9fd9:@LAB_PRG14__9fd9" class="lla">@LAB_PRG14__9fd9:</a><span class="ce">; [$9fd9]</span></span>
<span class="l"><a class="anc" name="9fd9" href="#9fd9">[9fd9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__9fdf">BYTE_ARRAY_PRG14__9fdf</a>,Y</span></span></span>
<span class="l"><a class="anc" name="9fdc" href="#9fdc">[9fdc]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9fdf"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Boss_KingGrieve">SpriteUpdateHandler_Boss_KingGrieve</a>
;
</div><span class="l"><a class="anc" name="9fdf" href="#9fdf">[9fdf]</a><a href="#BYTE_ARRAY_PRG14__9fdf" class="la">BYTE_ARRAY_PRG14__9fdf:</a><span class="ce">; [$9fdf]</span></span>
<span class="l"><a class="anc" name="9fdf" href="#9fdf">[9fdf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="9fe0" href="#9fe0">[9fe0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__9fdf_2_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Boss_KingGrieve">SpriteUpdateHandler_Boss_KingGrieve</a>
;
</div><span class="l"><a class="anc" name="9fe1" href="#9fe1">[9fe1]</a><a href="#BYTE_ARRAY_PRG14__9fdf_2_" class="la">BYTE_ARRAY_PRG14__9fdf_2_:</a><span class="ce">; [$9fe1]</span></span>
<span class="l"><a class="anc" name="9fe1" href="#9fe1">[9fe1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="9fe2" href="#9fe2">[9fe2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_ShadowEura"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ShadowEura
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a607]
;============================================================================
</div><span class="l"><a class="anc" name="9fe3" href="#9fe3">[9fe3]</a><a href="#SpriteBehavior_ShadowEura" class="la">SpriteBehavior_ShadowEura:</a><span class="ce">; [$9fe3]</span></span>
<span class="l"><a class="anc" name="9fe3" href="#9fe3">[9fe3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="9fe6" href="#9fe6">[9fe6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a007">@LAB_PRG14__a007</a></span></span></span>
<span class="l"><a class="anc" name="9fe8" href="#9fe8">[9fe8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$06</span></span></span>
<span class="l"><a class="anc" name="9fea" href="#9fea">[9fea]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span></span>
<span class="l"><a class="anc" name="9fed" href="#9fed">[9fed]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="9fef" href="#9fef">[9fef]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ff2" href="#9ff2">[9ff2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ff5" href="#9ff5">[9ff5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ff8" href="#9ff8">[9ff8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="9ffa" href="#9ffa">[9ffa]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="9ffd" href="#9ffd">[9ffd]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="a000" href="#a000">[a000]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"><a class="anc" name="a003" href="#a003">[a003]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="a005" href="#a005">[a005]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Music_Current">Music_Current</a></span></span></span>
<span class="l"></span>
<a name=":a007:@LAB_PRG14__a007"></a><span class="l"><a class="anc" name="a007" href="#a007">[a007]</a><a href="#:a007:@LAB_PRG14__a007" class="lla">@LAB_PRG14__a007:</a><span class="ce">; [$a007]</span></span>
<span class="l"><a class="anc" name="a007" href="#a007">[a007]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="a00a" href="#a00a">[a00a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a00d" href="#a00d">[a00d]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a00e" href="#a00e">[a00e]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__a053">@LAB_PRG14__a053</a></span></span></span>
<span class="l"><a class="anc" name="a010" href="#a010">[a010]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a013" href="#a013">[a013]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a016" href="#a016">[a016]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="a018" href="#a018">[a018]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a052">@LAB_PRG14__a052</a></span></span></span>
<span class="l"><a class="anc" name="a01a" href="#a01a">[a01a]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a01d" href="#a01d">[a01d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a020" href="#a020">[a020]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="a022" href="#a022">[a022]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a029">@LAB_PRG14__a029</a></span></span></span>
<span class="l"><a class="anc" name="a024" href="#a024">[a024]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a026" href="#a026">[a026]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"></span>
<a name=":a029:@LAB_PRG14__a029"></a><span class="l"><a class="anc" name="a029" href="#a029">[a029]</a><a href="#:a029:@LAB_PRG14__a029" class="lla">@LAB_PRG14__a029:</a><span class="ce">; [$a029]</span></span>
<span class="l"><a class="anc" name="a029" href="#a029">[a029]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a02a" href="#a02a">[a02a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a02c" href="#a02c">[a02c]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__a032">@LAB_PRG14__a032</a></span></span></span>
<span class="l"><a class="anc" name="a02e" href="#a02e">[a02e]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="a030" href="#a030">[a030]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a035">@LAB_PRG14__a035</a></span></span></span>
<span class="l"></span>
<a name=":a032:@LAB_PRG14__a032"></a><span class="l"><a class="anc" name="a032" href="#a032">[a032]</a><a href="#:a032:@LAB_PRG14__a032" class="lla">@LAB_PRG14__a032:</a><span class="ce">; [$a032]</span></span>
<span class="l"><a class="anc" name="a032" href="#a032">[a032]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#SpriteBehavior_ShadowEura__a077">SpriteBehavior_ShadowEura__a077</a></span></span></span>
<span class="l"></span>
<a name=":a035:@LAB_PRG14__a035"></a><span class="l"><a class="anc" name="a035" href="#a035">[a035]</a><a href="#:a035:@LAB_PRG14__a035" class="lla">@LAB_PRG14__a035:</a><span class="ce">; [$a035]</span></span>
<span class="l"><a class="anc" name="a035" href="#a035">[a035]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="a036" href="#a036">[a036]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="a037" href="#a037">[a037]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__a064">BYTE_ARRAY_PRG14__a064</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a03a" href="#a03a">[a03a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="a03d" href="#a03d">[a03d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a03f" href="#a03f">[a03f]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a042" href="#a042">[a042]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="a045" href="#a045">[a045]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a048" href="#a048">[a048]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a052">@LAB_PRG14__a052</a></span></span></span>
<span class="l"><a class="anc" name="a04a" href="#a04a">[a04a]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a04d" href="#a04d">[a04d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$1e</span></span></span>
<span class="l"><a class="anc" name="a04f" href="#a04f">[a04f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":a052:@LAB_PRG14__a052"></a><span class="l"><a class="anc" name="a052" href="#a052">[a052]</a><a href="#:a052:@LAB_PRG14__a052" class="lla">@LAB_PRG14__a052:</a><span class="ce">; [$a052]</span></span>
<span class="l"><a class="anc" name="a052" href="#a052">[a052]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a053:@LAB_PRG14__a053"></a><span class="l"><a class="anc" name="a053" href="#a053">[a053]</a><a href="#:a053:@LAB_PRG14__a053" class="lla">@LAB_PRG14__a053:</a><span class="ce">; [$a053]</span></span>
<span class="l"><a class="anc" name="a053" href="#a053">[a053]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a></span></span></span>
<span class="l"><a class="anc" name="a056" href="#a056">[a056]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a059" href="#a059">[a059]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a05b" href="#a05b">[a05b]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a05e" href="#a05e">[a05e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="a060" href="#a060">[a060]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"></span>
<a name=":a063:@_return"></a><span class="l"><a class="anc" name="a063" href="#a063">[a063]</a><a href="#:a063:@_return" class="lla">@_return:</a><span class="ce">; [$a063]</span></span>
<span class="l"><a class="anc" name="a063" href="#a063">[a063]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__a064"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>
;
</div><span class="l"><a class="anc" name="a064" href="#a064">[a064]</a><a href="#BYTE_ARRAY_PRG14__a064" class="la">BYTE_ARRAY_PRG14__a064:</a><span class="ce">; [$a064]</span></span>
<span class="l"><a class="anc" name="a064" href="#a064">[a064]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a065" href="#a065">[a065]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="a066" href="#a066">[a066]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="a067" href="#a067">[a067]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="a068" href="#a068">[a068]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="a069" href="#a069">[a069]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="a06a" href="#a06a">[a06a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="a06b" href="#a06b">[a06b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="a06c" href="#a06c">[a06c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="a06d" href="#a06d">[a06d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [9]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Boss_ShadowEura"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Boss_ShadowEura
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80ed]
;============================================================================
</div><span class="l"><a class="anc" name="a06e" href="#a06e">[a06e]</a><a href="#SpriteUpdateHandler_Boss_ShadowEura" class="la">SpriteUpdateHandler_Boss_ShadowEura:</a><span class="ce">; [$a06e]</span></span>
<span class="l"><a class="anc" name="a06e" href="#a06e">[a06e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a071" href="#a071">[a071]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a074" href="#a074">[a074]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_ShadowEura__a077"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ShadowEura__a077
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>
;============================================================================
</div><span class="l"><a class="anc" name="a077" href="#a077">[a077]</a><a href="#SpriteBehavior_ShadowEura__a077" class="la">SpriteBehavior_ShadowEura__a077:</a><span class="ce">; [$a077]</span></span>
<span class="l"><a class="anc" name="a077" href="#a077">[a077]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a07a" href="#a07a">[a07a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a07c" href="#a07c">[a07c]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="a07d" href="#a07d">[a07d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="a07f" href="#a07f">[a07f]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="a080" href="#a080">[a080]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__a091">BYTE_ARRAY_PRG14__a091</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a083" href="#a083">[a083]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicX">CurrentSprite_Arg_CastMagicX</a></span></span></span>
<span class="l"><a class="anc" name="a086" href="#a086">[a086]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="a088" href="#a088">[a088]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="a089" href="#a089">[a089]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="a08b" href="#a08b">[a08b]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicY">CurrentSprite_Arg_CastMagicY</a></span></span></span>
<span class="l"><a class="anc" name="a08e" href="#a08e">[a08e]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_ShadowEura__a12d">SpriteBehavior_ShadowEura__a12d</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__a091"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_ShadowEura__a077">SpriteBehavior_ShadowEura__a077</a>
;
</div><span class="l"><a class="anc" name="a091" href="#a091">[a091]</a><a href="#BYTE_ARRAY_PRG14__a091" class="la">BYTE_ARRAY_PRG14__a091:</a><span class="ce">; [$a091]</span></span>
<span class="l"><a class="anc" name="a091" href="#a091">[a091]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a092" href="#a092">[a092]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_ExecutionHood__a093"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ExecutionHood__a093
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;============================================================================
</div><span class="l"><a class="anc" name="a093" href="#a093">[a093]</a><a href="#SpriteBehavior_ExecutionHood__a093" class="la">SpriteBehavior_ExecutionHood__a093:</a><span class="ce">; [$a093]</span></span>
<span class="l"><a class="anc" name="a093" href="#a093">[a093]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a096" href="#a096">[a096]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_A0CA">RETURN_A0CA</a></span></span></span>
<span class="l"><a class="anc" name="a098" href="#a098">[a098]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="a09a" href="#a09a">[a09a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a09d" href="#a09d">[a09d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_ExecutionHood__a0ad">SpriteBehavior_ExecutionHood__a0ad</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__a0a0"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__a0a0
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#LAB_PRG14__974b">LAB_PRG14__974b</a> [$PRG14::974b]
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;     <a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>
;============================================================================
</div><span class="l"><a class="anc" name="a0a0" href="#a0a0">[a0a0]</a><a href="#FUN_PRG14__a0a0" class="la">FUN_PRG14__a0a0:</a><span class="ce">; [$a0a0]</span></span>
<span class="l"><a class="anc" name="a0a0" href="#a0a0">[a0a0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a0a3" href="#a0a3">[a0a3]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#RETURN_A0CA">RETURN_A0CA</a></span></span></span>
<span class="l"><a class="anc" name="a0a5" href="#a0a5">[a0a5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="a0a7" href="#a0a7">[a0a7]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="a0a8" href="#a0a8">[a0a8]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0c</span></span></span>
<span class="l"><a class="anc" name="a0aa" href="#a0aa">[a0aa]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteBehavior_ExecutionHood__a0ad"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ExecutionHood__a0ad
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_ExecutionHood__a093">SpriteBehavior_ExecutionHood__a093</a>
;============================================================================
</div><span class="l"><a class="anc" name="a0ad" href="#a0ad">[a0ad]</a><a href="#SpriteBehavior_ExecutionHood__a0ad" class="la">SpriteBehavior_ExecutionHood__a0ad:</a><span class="ce">; [$a0ad]</span></span>
<span class="l"><a class="anc" name="a0ad" href="#a0ad">[a0ad]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$51</span></span></span>
<span class="l"><a class="anc" name="a0af" href="#a0af">[a0af]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a0b2" href="#a0b2">[a0b2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="a0b4" href="#a0b4">[a0b4]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="a0b5" href="#a0b5">[a0b5]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="a0b7" href="#a0b7">[a0b7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a0ba" href="#a0ba">[a0ba]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a0bd" href="#a0bd">[a0bd]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a0bf" href="#a0bf">[a0bf]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a0c2" href="#a0c2">[a0c2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a0c4" href="#a0c4">[a0c4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a0c7" href="#a0c7">[a0c7]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
<a name="RETURN_A0CA"></a><div class="c">;
; XREFS:
;     <a href="#FUN_PRG14__a0a0">FUN_PRG14__a0a0</a>
;     <a href="#SpriteBehavior_ExecutionHood__a093">SpriteBehavior_ExecutionHood__a093</a>
;
</div><span class="l"><a class="anc" name="a0ca" href="#a0ca">[a0ca]</a><a href="#RETURN_A0CA" class="la">RETURN_A0CA:</a><span class="ce">; [$a0ca]</span></span>
<span class="l"><a class="anc" name="a0ca" href="#a0ca">[a0ca]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_EnemyMagic"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_EnemyMagic
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a61d]
;     <a href="#_thunk_SpriteBehavior__a0cb">_thunk_SpriteBehavior__a0cb</a>
;============================================================================
</div><span class="l"><a class="anc" name="a0cb" href="#a0cb">[a0cb]</a><a href="#SpriteBehavior_EnemyMagic" class="la">SpriteBehavior_EnemyMagic:</a><span class="ce">; [$a0cb]</span></span>
<span class="l"><a class="anc" name="a0cb" href="#a0cb">[a0cb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a0ce" href="#a0ce">[a0ce]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a0d3">@LAB_PRG14__a0d3</a></span></span></span>
<span class="l"><a class="anc" name="a0d0" href="#a0d0">[a0d0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a0d3:@LAB_PRG14__a0d3"></a><span class="l"><a class="anc" name="a0d3" href="#a0d3">[a0d3]</a><a href="#:a0d3:@LAB_PRG14__a0d3" class="lla">@LAB_PRG14__a0d3:</a><span class="ce">; [$a0d3]</span></span>
<span class="l"><a class="anc" name="a0d3" href="#a0d3">[a0d3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a0d5" href="#a0d5">[a0d5]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="a0d8" href="#a0d8">[a0d8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a0da" href="#a0da">[a0da]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a0dd" href="#a0dd">[a0dd]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a></span></span></span>
<span class="l"><a class="anc" name="a0e0" href="#a0e0">[a0e0]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a0e2" href="#a0e2">[a0e2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a0e4" href="#a0e4">[a0e4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<a name=":a0e7:@_return"></a><span class="l"><a class="anc" name="a0e7" href="#a0e7">[a0e7]</a><a href="#:a0e7:@_return" class="lla">@_return:</a><span class="ce">; [$a0e7]</span></span>
<span class="l"><a class="anc" name="a0e7" href="#a0e7">[a0e7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Magic_81"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Magic_81
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8129]
;============================================================================
</div><span class="l"><a class="anc" name="a0e8" href="#a0e8">[a0e8]</a><a href="#SpriteUpdateHandler_Magic_81" class="la">SpriteUpdateHandler_Magic_81:</a><span class="ce">; [$a0e8]</span></span>
<span class="l"><a class="anc" name="a0e8" href="#a0e8">[a0e8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a0ea" href="#a0ea">[a0ea]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a0ec" href="#a0ec">[a0ec]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a0ef" href="#a0ef">[a0ef]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a0f0" href="#a0f0">[a0f0]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a0f1" href="#a0f1">[a0f1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a0f3" href="#a0f3">[a0f3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_CastMagic"></a><div class="cp">;============================================================================
; TODO: Document Sprite_CastMagic
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_KingGrieve_9f65">SpriteBehavior_KingGrieve_9f65</a>
;     <a href="#SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos">SpriteBehavior_Ripasheiku_CastMagicOrUpdatePos</a>
;============================================================================
</div><span class="l"><a class="anc" name="a0f6" href="#a0f6">[a0f6]</a><a href="#Sprite_CastMagic" class="la">Sprite_CastMagic:</a><span class="ce">; [$a0f6]</span></span>
<span class="l"><a class="anc" name="a0f6" href="#a0f6">[a0f6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a0f9" href="#a0f9">[a0f9]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a0fb" href="#a0fb">[a0fb]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="a0fd" href="#a0fd">[a0fd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a100" href="#a100">[a100]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicX">CurrentSprite_Arg_CastMagicX</a></span></span></span>
<span class="l"><a class="anc" name="a103" href="#a103">[a103]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a106" href="#a106">[a106]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicY">CurrentSprite_Arg_CastMagicY</a></span></span></span>
<span class="l"><a class="anc" name="a109" href="#a109">[a109]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a10c" href="#a10c">[a10c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a10f" href="#a10f">[a10f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a111" href="#a111">[a111]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a114" href="#a114">[a114]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="a116" href="#a116">[a116]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a119" href="#a119">[a119]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
<a name=":a11c:@_return"></a><span class="l"><a class="anc" name="a11c" href="#a11c">[a11c]</a><a href="#:a11c:@_return" class="lla">@_return:</a><span class="ce">; [$a11c]</span></span>
<span class="l"><a class="anc" name="a11c" href="#a11c">[a11c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="_thunk_SpriteBehavior__a0cb"></a><div class="cp">;============================================================================
; TODO: Document _thunk_SpriteBehavior__a0cb
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a61f]
;============================================================================
</div><span class="l"><a class="anc" name="a11d" href="#a11d">[a11d]</a><a href="#_thunk_SpriteBehavior__a0cb" class="la">_thunk_SpriteBehavior__a0cb:</a><span class="ce">; [$a11d]</span></span>
<span class="l"><a class="anc" name="a11d" href="#a11d">[a11d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior_EnemyMagic">SpriteBehavior_EnemyMagic</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_TODO_Garbled10"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_TODO_Garbled10
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::809b]
;============================================================================
</div><span class="l"><a class="anc" name="a120" href="#a120">[a120]</a><a href="#SpriteUpdateHandler_TODO_Garbled10" class="la">SpriteUpdateHandler_TODO_Garbled10:</a><span class="ce">; [$a120]</span></span>
<span class="l"><a class="anc" name="a120" href="#a120">[a120]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a123" href="#a123">[a123]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a126" href="#a126">[a126]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a127" href="#a127">[a127]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a128" href="#a128">[a128]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a12a" href="#a12a">[a12a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_ShadowEura__a12d"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ShadowEura__a12d
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_ShadowEura__a077">SpriteBehavior_ShadowEura__a077</a>
;============================================================================
</div><span class="l"><a class="anc" name="a12d" href="#a12d">[a12d]</a><a href="#SpriteBehavior_ShadowEura__a12d" class="la">SpriteBehavior_ShadowEura__a12d:</a><span class="ce">; [$a12d]</span></span>
<span class="l"><a class="anc" name="a12d" href="#a12d">[a12d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a130" href="#a130">[a130]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a132" href="#a132">[a132]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$53</span></span></span>
<span class="l"><a class="anc" name="a134" href="#a134">[a134]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a137" href="#a137">[a137]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicX">CurrentSprite_Arg_CastMagicX</a></span></span></span>
<span class="l"><a class="anc" name="a13a" href="#a13a">[a13a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a13d" href="#a13d">[a13d]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicY">CurrentSprite_Arg_CastMagicY</a></span></span></span>
<span class="l"><a class="anc" name="a140" href="#a140">[a140]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a143" href="#a143">[a143]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a146" href="#a146">[a146]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a148" href="#a148">[a148]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a14b" href="#a14b">[a14b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a14d" href="#a14d">[a14d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a150" href="#a150">[a150]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
<a name=":a153:@_return"></a><span class="l"><a class="anc" name="a153" href="#a153">[a153]</a><a href="#:a153:@_return" class="lla">@_return:</a><span class="ce">; [$a153]</span></span>
<span class="l"><a class="anc" name="a153" href="#a153">[a153]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Unknown_29"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Unknown_29
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a621]
;============================================================================
</div><span class="l"><a class="anc" name="a154" href="#a154">[a154]</a><a href="#SpriteBehavior_Unknown_29" class="la">SpriteBehavior_Unknown_29:</a><span class="ce">; [$a154]</span></span>
<span class="l"><a class="anc" name="a154" href="#a154">[a154]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a157" href="#a157">[a157]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a183">@LAB_PRG14__a183</a></span></span></span>
<span class="l"><a class="anc" name="a159" href="#a159">[a159]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a15b" href="#a15b">[a15b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a15e" href="#a15e">[a15e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a161" href="#a161">[a161]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a163" href="#a163">[a163]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a164" href="#a164">[a164]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#SpriteBehavior_Unknown_29_SomeSetup">SpriteBehavior_Unknown_29_SomeSetup</a></span></span></span>
<span class="l"><a class="anc" name="a167" href="#a167">[a167]</a><span class="cd"><span class="i">ASL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a16a" href="#a16a">[a16a]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a16d" href="#a16d">[a16d]</a><span class="cd"><span class="i">ASL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a170" href="#a170">[a170]</a><span class="cd"><span class="i">ROL</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a173" href="#a173">[a173]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="a174" href="#a174">[a174]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="a176" href="#a176">[a176]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a179" href="#a179">[a179]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span></span>
<span class="l"><a class="anc" name="a17b" href="#a17b">[a17b]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="a17d" href="#a17d">[a17d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a180" href="#a180">[a180]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a183:@LAB_PRG14__a183"></a><span class="l"><a class="anc" name="a183" href="#a183">[a183]</a><a href="#:a183:@LAB_PRG14__a183" class="lla">@LAB_PRG14__a183:</a><span class="ce">; [$a183]</span></span>
<span class="l"><a class="anc" name="a183" href="#a183">[a183]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a186" href="#a186">[a186]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="a189" href="#a189">[a189]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a18c" href="#a18c">[a18c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a18f" href="#a18f">[a18f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="a192" href="#a192">[a192]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__a1bc">@LAB_PRG14__a1bc</a></span></span></span>
<span class="l"><a class="anc" name="a194" href="#a194">[a194]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a197" href="#a197">[a197]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="a19a" href="#a19a">[a19a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a19d" href="#a19d">[a19d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a1a0" href="#a1a0">[a1a0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="a1a3" href="#a1a3">[a1a3]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__a1bc">@LAB_PRG14__a1bc</a></span></span></span>
<span class="l"><a class="anc" name="a1a5" href="#a1a5">[a1a5]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a1a8" href="#a1a8">[a1a8]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a1aa" href="#a1aa">[a1aa]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a1ac" href="#a1ac">[a1ac]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a1af" href="#a1af">[a1af]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a1b2" href="#a1b2">[a1b2]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a1b4" href="#a1b4">[a1b4]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a1b6" href="#a1b6">[a1b6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a1b8" href="#a1b8">[a1b8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"></span>
<a name=":a1bb:@_return"></a><span class="l"><a class="anc" name="a1bb" href="#a1bb">[a1bb]</a><a href="#:a1bb:@_return" class="lla">@_return:</a><span class="ce">; [$a1bb]</span></span>
<span class="l"><a class="anc" name="a1bb" href="#a1bb">[a1bb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a1bc:@LAB_PRG14__a1bc"></a><span class="l"><a class="anc" name="a1bc" href="#a1bc">[a1bc]</a><a href="#:a1bc:@LAB_PRG14__a1bc" class="lla">@LAB_PRG14__a1bc:</a><span class="ce">; [$a1bc]</span></span>
<span class="l"><a class="anc" name="a1bc" href="#a1bc">[a1bc]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a1be" href="#a1be">[a1be]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="a1c1" href="#a1c1">[a1c1]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Magic_83"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Magic_83
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::812d]
;============================================================================
</div><span class="l"><a class="anc" name="a1c2" href="#a1c2">[a1c2]</a><a href="#SpriteUpdateHandler_Magic_83" class="la">SpriteUpdateHandler_Magic_83:</a><span class="ce">; [$a1c2]</span></span>
<span class="l"><a class="anc" name="a1c2" href="#a1c2">[a1c2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a1c4" href="#a1c4">[a1c4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a1c6" href="#a1c6">[a1c6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a1c9" href="#a1c9">[a1c9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="FUN_PRG14__a1cc"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__a1cc
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="a1cc" href="#a1cc">[a1cc]</a><a href="#FUN_PRG14__a1cc" class="la">FUN_PRG14__a1cc:</a><span class="ce">; [$a1cc]</span></span>
<span class="l"><a class="anc" name="a1cc" href="#a1cc">[a1cc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a1cf" href="#a1cf">[a1cf]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a1d1" href="#a1d1">[a1d1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$54</span></span></span>
<span class="l"><a class="anc" name="a1d3" href="#a1d3">[a1d3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a1d6" href="#a1d6">[a1d6]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicX">CurrentSprite_Arg_CastMagicX</a></span></span></span>
<span class="l"><a class="anc" name="a1d9" href="#a1d9">[a1d9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a1dc" href="#a1dc">[a1dc]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CurrentSprite_Arg_CastMagicY">CurrentSprite_Arg_CastMagicY</a></span></span></span>
<span class="l"><a class="anc" name="a1df" href="#a1df">[a1df]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a1e2" href="#a1e2">[a1e2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a1e5" href="#a1e5">[a1e5]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a1e7" href="#a1e7">[a1e7]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="a1e9" href="#a1e9">[a1e9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a1ec" href="#a1ec">[a1ec]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a1ee" href="#a1ee">[a1ee]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a1f1" href="#a1f1">[a1f1]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a></span></span></span>
<span class="l"></span>
<a name=":a1f4:@_return"></a><span class="l"><a class="anc" name="a1f4" href="#a1f4">[a1f4]</a><a href="#:a1f4:@_return" class="lla">@_return:</a><span class="ce">; [$a1f4]</span></span>
<span class="l"><a class="anc" name="a1f4" href="#a1f4">[a1f4]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_EnemyMagic"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_EnemyMagic
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::812f]
;============================================================================
</div><span class="l"><a class="anc" name="a1f5" href="#a1f5">[a1f5]</a><a href="#SpriteUpdateHandler_EnemyMagic" class="la">SpriteUpdateHandler_EnemyMagic:</a><span class="ce">; [$a1f5]</span></span>
<span class="l"><a class="anc" name="a1f5" href="#a1f5">[a1f5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a1f8" href="#a1f8">[a1f8]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a1fb" href="#a1fb">[a1fb]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a1fc" href="#a1fc">[a1fc]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a1fd" href="#a1fd">[a1fd]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a1ff" href="#a1ff">[a1ff]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_Maybe_ResetState"></a><div class="cp">;============================================================================
; TODO: Document Sprite_Maybe_ResetState
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#BScript_Action_CastMagic">BScript_Action_CastMagic</a>
;     <a href="#SpriteBehavior_ExecutionHood__a0ad">SpriteBehavior_ExecutionHood__a0ad</a>
;     <a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>
;     <a href="#SpriteBehavior_ShadowEura__a12d">SpriteBehavior_ShadowEura__a12d</a>
;     <a href="#SpriteBehavior_Zorugeriru__9e13">SpriteBehavior_Zorugeriru__9e13</a>
;     <a href="#Sprite_CastMagic">Sprite_CastMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="a202" href="#a202">[a202]</a><a href="#Sprite_Maybe_ResetState" class="la">Sprite_Maybe_ResetState:</a><span class="ce">; [$a202]</span></span>
<span class="l"><a class="anc" name="a202" href="#a202">[a202]</a><span class="cd"><span class="i">TXA</span></span></span>
<span class="l"><a class="anc" name="a203" href="#a203">[a203]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a204" href="#a204">[a204]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a207" href="#a207">[a207]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a208" href="#a208">[a208]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="a209" href="#a209">[a209]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>,X</span></span></span>
<span class="l"><a class="anc" name="a20c" href="#a20c">[a20c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a20f" href="#a20f">[a20f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>+1,X</span></span></span>
<span class="l"><a class="anc" name="a212" href="#a212">[a212]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a215" href="#a215">[a215]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a217" href="#a217">[a217]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a21a" href="#a21a">[a21a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a21d" href="#a21d">[a21d]</a><span class="cd"><span class="i">LDX</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a220" href="#a220">[a220]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITIES_HITBOX_TYPES">SPRITE_ENTITIES_HITBOX_TYPES</a>,X</span></span></span>
<span class="l"><a class="anc" name="a223" href="#a223">[a223]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a226" href="#a226">[a226]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a228" href="#a228">[a228]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a22b" href="#a22b">[a22b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a22e" href="#a22e">[a22e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$bf</span></span></span>
<span class="l"><a class="anc" name="a230" href="#a230">[a230]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a233" href="#a233">[a233]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="a234" href="#a234">[a234]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="a235" href="#a235">[a235]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_HasMaxOnScreen"></a><div class="cp">;============================================================================
; Return whether all sprite slots are populated.
;
; INPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         All populated sprite entities on the screen.
;
; OUTPUTS:
;     C:
;         1 if all sprite slot are populated.
;         0 if any are unpopulated.
;
; XREFS:
;     <a href="#BScript_Action_CastMagic">BScript_Action_CastMagic</a>
;     <a href="#FUN_PRG14__a0a0">FUN_PRG14__a0a0</a>
;     <a href="#FUN_PRG14__a1cc">FUN_PRG14__a1cc</a>
;     <a href="#SpriteBehavior_ExecutionHood__a093">SpriteBehavior_ExecutionHood__a093</a>
;     <a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>
;     <a href="#SpriteBehavior_ShadowEura__a12d">SpriteBehavior_ShadowEura__a12d</a>
;     <a href="#SpriteBehavior_Zorugeriru">SpriteBehavior_Zorugeriru</a>
;     <a href="#SpriteBehavior_Zorugeriru__9e13">SpriteBehavior_Zorugeriru__9e13</a>
;     <a href="#Sprite_CastMagic">Sprite_CastMagic</a>
;     <a href="#Sprite_HandleDeathDropIfPossible">Sprite_HandleDeathDropIfPossible</a>
;============================================================================
</div><span class="l"><a class="anc" name="a236" href="#a236">[a236]</a><a href="#Sprites_HasMaxOnScreen" class="la">Sprites_HasMaxOnScreen:</a><span class="ce">; [$a236]</span></span>
<span class="l"><a class="anc" name="a236" href="#a236">[a236]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$07</span></span><span class="ce">; Y = 7 (our loop counter)</span></span>
<span class="l"></span>
<a name=":a238:@_loop"></a><span class="l"><a class="anc" name="a238" href="#a238">[a238]</a><a href="#:a238:@_loop" class="lla">@_loop:</a><span class="ce">; [$a238]</span></span>
<span class="l"><a class="anc" name="a238" href="#a238">[a238]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span><span class="ce">; A = sprite entity at X</span></span>
<span class="l"><a class="anc" name="a23b" href="#a23b">[a23b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it 0xFF (unpopulated)?</span></span>
<span class="l"><a class="anc" name="a23d" href="#a23d">[a23d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_isPopulated">@_isPopulated</a></span></span><span class="ce">; If not, jump to prepare the next loop.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; There's an unpopulated sprite. Return a false result.
;
</div><span class="l"><a class="anc" name="a23f" href="#a23f">[a23f]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; Set C = 0</span></span>
<span class="l"><a class="anc" name="a240" href="#a240">[a240]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; And return it.</span></span>
<span class="l"></span>
<a name=":a241:@_isPopulated"></a><span class="l"><a class="anc" name="a241" href="#a241">[a241]</a><a href="#:a241:@_isPopulated" class="lla">@_isPopulated:</a><span class="ce">; [$a241]</span></span>
<span class="l"><a class="anc" name="a241" href="#a241">[a241]</a><span class="cd"><span class="i">DEY</span></span><span class="ce">; Y--</span></span>
<span class="l"><a class="anc" name="a242" href="#a242">[a242]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_loop">@_loop</a></span></span><span class="ce">; If &gt;= 0, loop.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; All slots are populated. Return a true result.
;
</div><span class="l"><a class="anc" name="a244" href="#a244">[a244]</a><span class="cd"><span class="i">SEC</span></span><span class="ce">; Set C = 1</span></span>
<span class="l"><a class="anc" name="a245" href="#a245">[a245]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; And return it.</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Ointment"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Ointment
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a639]
;============================================================================
</div><span class="l"><a class="anc" name="a246" href="#a246">[a246]</a><a href="#SpriteBehavior_Ointment" class="la">SpriteBehavior_Ointment:</a><span class="ce">; [$a246]</span></span>
<span class="l"><a class="anc" name="a246" href="#a246">[a246]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a249" href="#a249">[a249]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Sprite_FallIfNeeded">Sprite_FallIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="a24b" href="#a24b">[a24b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationOintment">DurationOintment</a></span></span></span>
<span class="l"><a class="anc" name="a24e" href="#a24e">[a24e]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#Sprite_SetReadyAndFallIfNeeded">Sprite_SetReadyAndFallIfNeeded</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteBehavior_a25f_ClearEntity"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_a25f_ClearEntity
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Glove">SpriteBehavior_Glove</a>
;============================================================================
</div><span class="l"><a class="anc" name="a250" href="#a250">[a250]</a><a href="#SpriteBehavior_a25f_ClearEntity" class="la">SpriteBehavior_a25f_ClearEntity:</a><span class="ce">; [$a250]</span></span>
<span class="l"><a class="anc" name="a250" href="#a250">[a250]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a252" href="#a252">[a252]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="a255" href="#a255">[a255]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_SetReadyAndFallIfNeeded"></a><div class="cp">;============================================================================
; TODO: Document Sprite_SetReadyAndFallIfNeeded
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Glove">SpriteBehavior_Glove</a>
;     <a href="#SpriteBehavior_Ointment">SpriteBehavior_Ointment</a>
;============================================================================
</div><span class="l"><a class="anc" name="a256" href="#a256">[a256]</a><a href="#Sprite_SetReadyAndFallIfNeeded" class="la">Sprite_SetReadyAndFallIfNeeded:</a><span class="ce">; [$a256]</span></span>
<span class="l"><a class="anc" name="a256" href="#a256">[a256]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="Sprite_FallIfNeeded"></a><div class="cp">;============================================================================
; TODO: Document Sprite_FallIfNeeded
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Glove">SpriteBehavior_Glove</a>
;     <a href="#SpriteBehavior_Ointment">SpriteBehavior_Ointment</a>
;============================================================================
</div><span class="l"><a class="anc" name="a259" href="#a259">[a259]</a><a href="#Sprite_FallIfNeeded" class="la">Sprite_FallIfNeeded:</a><span class="ce">; [$a259]</span></span>
<span class="l"><a class="anc" name="a259" href="#a259">[a259]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="a25c" href="#a25c">[a25c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Glove"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Glove
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a63b]
;============================================================================
</div><span class="l"><a class="anc" name="a25f" href="#a25f">[a25f]</a><a href="#SpriteBehavior_Glove" class="la">SpriteBehavior_Glove:</a><span class="ce">; [$a25f]</span></span>
<span class="l"><a class="anc" name="a25f" href="#a25f">[a25f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a262" href="#a262">[a262]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Sprite_FallIfNeeded">Sprite_FallIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="a264" href="#a264">[a264]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationGlove">DurationGlove</a></span></span></span>
<span class="l"><a class="anc" name="a267" href="#a267">[a267]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#Sprite_SetReadyAndFallIfNeeded">Sprite_SetReadyAndFallIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="a269" href="#a269">[a269]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#SpriteBehavior_a25f_ClearEntity">SpriteBehavior_a25f_ClearEntity</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_Walking"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_Walking
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80ef]
;     <a href="#thunk1_SpriteUpdateHandler_NPC_Walking">thunk1_SpriteUpdateHandler_NPC_Walking</a>
;     <a href="#thunk2_SpriteUpdateHandler_NPC_Walking">thunk2_SpriteUpdateHandler_NPC_Walking</a>
;============================================================================
</div><span class="l"><a class="anc" name="a26b" href="#a26b">[a26b]</a><a href="#SpriteUpdateHandler_NPC_Walking" class="la">SpriteUpdateHandler_NPC_Walking:</a><span class="ce">; [$a26b]</span></span>
<span class="l"><a class="anc" name="a26b" href="#a26b">[a26b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a26e" href="#a26e">[a26e]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a270" href="#a270">[a270]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a273" href="#a273">[a273]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a275" href="#a275">[a275]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__a280">@LAB_PRG14__a280</a></span></span></span>
<span class="l"><a class="anc" name="a277" href="#a277">[a277]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a27a" href="#a27a">[a27a]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a27b" href="#a27b">[a27b]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a27c" href="#a27c">[a27c]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a27d" href="#a27d">[a27d]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a27f" href="#a27f">[a27f]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"></span>
<a name=":a280:@LAB_PRG14__a280"></a><span class="l"><a class="anc" name="a280" href="#a280">[a280]</a><a href="#:a280:@LAB_PRG14__a280" class="lla">@LAB_PRG14__a280:</a><span class="ce">; [$a280]</span></span>
<span class="l"><a class="anc" name="a280" href="#a280">[a280]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__a286">BYTE_ARRAY_PRG14__a286</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a283" href="#a283">[a283]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__a286"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_NPC_Walking">SpriteUpdateHandler_NPC_Walking</a>
;
</div><span class="l"><a class="anc" name="a286" href="#a286">[a286]</a><a href="#BYTE_ARRAY_PRG14__a286" class="la">BYTE_ARRAY_PRG14__a286:</a><span class="ce">; [$a286]</span></span>
<span class="l"><a class="anc" name="a286" href="#a286">[a286]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a287" href="#a287">[a287]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="a288" href="#a288">[a288]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="a289" href="#a289">[a289]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="thunk1_SpriteUpdateHandler_NPC_Walking"></a><div class="cp">;============================================================================
; TODO: Document thunk1_SpriteUpdateHandler_NPC_Walking
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80f1]
;============================================================================
</div><span class="l"><a class="anc" name="a28a" href="#a28a">[a28a]</a><a href="#thunk1_SpriteUpdateHandler_NPC_Walking" class="la">thunk1_SpriteUpdateHandler_NPC_Walking:</a><span class="ce">; [$a28a]</span></span>
<span class="l"><a class="anc" name="a28a" href="#a28a">[a28a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteUpdateHandler_NPC_Walking">SpriteUpdateHandler_NPC_Walking</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="thunk2_SpriteUpdateHandler_NPC_Walking"></a><div class="cp">;============================================================================
; TODO: Document thunk2_SpriteUpdateHandler_NPC_Walking
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80f3]
;============================================================================
</div><span class="l"><a class="anc" name="a28d" href="#a28d">[a28d]</a><a href="#thunk2_SpriteUpdateHandler_NPC_Walking" class="la">thunk2_SpriteUpdateHandler_NPC_Walking:</a><span class="ce">; [$a28d]</span></span>
<span class="l"><a class="anc" name="a28d" href="#a28d">[a28d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteUpdateHandler_NPC_Walking">SpriteUpdateHandler_NPC_Walking</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_ArmorSalesman"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_ArmorSalesman
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80f5]
;============================================================================
</div><span class="l"><a class="anc" name="a290" href="#a290">[a290]</a><a href="#SpriteUpdateHandler_NPC_ArmorSalesman" class="la">SpriteUpdateHandler_NPC_ArmorSalesman:</a><span class="ce">; [$a290]</span></span>
<span class="l"><a class="anc" name="a290" href="#a290">[a290]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a292" href="#a292">[a292]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a294" href="#a294">[a294]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a297" href="#a297">[a297]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a298" href="#a298">[a298]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a299" href="#a299">[a299]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a29a" href="#a29a">[a29a]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a29b" href="#a29b">[a29b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a29d" href="#a29d">[a29d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_MartialArts"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_MartialArts
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80f7]
;============================================================================
</div><span class="l"><a class="anc" name="a2a0" href="#a2a0">[a2a0]</a><a href="#SpriteUpdateHandler_NPC_MartialArts" class="la">SpriteUpdateHandler_NPC_MartialArts:</a><span class="ce">; [$a2a0]</span></span>
<span class="l"><a class="anc" name="a2a0" href="#a2a0">[a2a0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a2a3" href="#a2a3">[a2a3]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a2a6" href="#a2a6">[a2a6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2a7" href="#a2a7">[a2a7]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2a8" href="#a2a8">[a2a8]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2a9" href="#a2a9">[a2a9]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2aa" href="#a2aa">[a2aa]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a2ac" href="#a2ac">[a2ac]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_Priest"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_Priest
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80f9]
;============================================================================
</div><span class="l"><a class="anc" name="a2af" href="#a2af">[a2af]</a><a href="#SpriteUpdateHandler_NPC_Priest" class="la">SpriteUpdateHandler_NPC_Priest:</a><span class="ce">; [$a2af]</span></span>
<span class="l"><a class="anc" name="a2af" href="#a2af">[a2af]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a2b2" href="#a2b2">[a2b2]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a2b5" href="#a2b5">[a2b5]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2b6" href="#a2b6">[a2b6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2b7" href="#a2b7">[a2b7]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2b8" href="#a2b8">[a2b8]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2b9" href="#a2b9">[a2b9]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a2bb" href="#a2bb">[a2bb]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_King"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_King
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80fb]
;============================================================================
</div><span class="l"><a class="anc" name="a2be" href="#a2be">[a2be]</a><a href="#SpriteUpdateHandler_NPC_King" class="la">SpriteUpdateHandler_NPC_King:</a><span class="ce">; [$a2be]</span></span>
<span class="l"><a class="anc" name="a2be" href="#a2be">[a2be]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="a2c0" href="#a2c0">[a2c0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a2c2" href="#a2c2">[a2c2]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a2c5" href="#a2c5">[a2c5]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="a2c6" href="#a2c6">[a2c6]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a2c9" href="#a2c9">[a2c9]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2ca" href="#a2ca">[a2ca]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2cb" href="#a2cb">[a2cb]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2cc" href="#a2cc">[a2cc]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2cd" href="#a2cd">[a2cd]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a2cf" href="#a2cf">[a2cf]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="a2d0" href="#a2d0">[a2d0]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__a2d6">BYTE_ARRAY_PRG14__a2d6</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a2d3" href="#a2d3">[a2d3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__a2d6"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_NPC_King">SpriteUpdateHandler_NPC_King</a>
;
</div><span class="l"><a class="anc" name="a2d6" href="#a2d6">[a2d6]</a><a href="#BYTE_ARRAY_PRG14__a2d6" class="la">BYTE_ARRAY_PRG14__a2d6:</a><span class="ce">; [$a2d6]</span></span>
<span class="l"><a class="anc" name="a2d6" href="#a2d6">[a2d6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a2d7" href="#a2d7">[a2d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_MagicTeacher"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_MagicTeacher
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80fd]
;============================================================================
</div><span class="l"><a class="anc" name="a2d8" href="#a2d8">[a2d8]</a><a href="#SpriteUpdateHandler_NPC_MagicTeacher" class="la">SpriteUpdateHandler_NPC_MagicTeacher:</a><span class="ce">; [$a2d8]</span></span>
<span class="l"><a class="anc" name="a2d8" href="#a2d8">[a2d8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a2db" href="#a2db">[a2db]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a2de" href="#a2de">[a2de]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2df" href="#a2df">[a2df]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2e0" href="#a2e0">[a2e0]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2e1" href="#a2e1">[a2e1]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2e2" href="#a2e2">[a2e2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a2e4" href="#a2e4">[a2e4]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_KeySalesman_Others"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_KeySalesman_Others
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::80ff]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8101]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8103]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8105]
;============================================================================
</div><span class="l"><a class="anc" name="a2e7" href="#a2e7">[a2e7]</a><a href="#SpriteUpdateHandler_NPC_KeySalesman_Others" class="la">SpriteUpdateHandler_NPC_KeySalesman_Others:</a><span class="ce">; [$a2e7]</span></span>
<span class="l"><a class="anc" name="a2e7" href="#a2e7">[a2e7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="a2e9" href="#a2e9">[a2e9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="FUN_PRG14__a2eb"></a><div class="cp">;============================================================================
; TODO: Document FUN_PRG14__a2eb
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura">SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura</a>
;     <a href="#SpriteUpdateHandler_NPC_Doctor">SpriteUpdateHandler_NPC_Doctor</a>
;     <a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others">SpriteUpdateHandler_NPC_MeatSalesman_Others</a>
;============================================================================
</div><span class="l"><a class="anc" name="a2eb" href="#a2eb">[a2eb]</a><a href="#FUN_PRG14__a2eb" class="la">FUN_PRG14__a2eb:</a><span class="ce">; [$a2eb]</span></span>
<span class="l"><a class="anc" name="a2eb" href="#a2eb">[a2eb]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a2ee" href="#a2ee">[a2ee]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2ef" href="#a2ef">[a2ef]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2f0" href="#a2f0">[a2f0]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2f1" href="#a2f1">[a2f1]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a2f2" href="#a2f2">[a2f2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a2f4" href="#a2f4">[a2f4]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_Doctor"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_Doctor
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::810d]
;============================================================================
</div><span class="l"><a class="anc" name="a2f7" href="#a2f7">[a2f7]</a><a href="#SpriteUpdateHandler_NPC_Doctor" class="la">SpriteUpdateHandler_NPC_Doctor:</a><span class="ce">; [$a2f7]</span></span>
<span class="l"><a class="anc" name="a2f7" href="#a2f7">[a2f7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a2f9" href="#a2f9">[a2f9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a2fb" href="#a2fb">[a2fb]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__a2eb">FUN_PRG14__a2eb</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_NPC_MeatSalesman_Others"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_NPC_MeatSalesman_Others
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8107]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8109]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::810b]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::810f]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8111]
;============================================================================
</div><span class="l"><a class="anc" name="a2fe" href="#a2fe">[a2fe]</a><a href="#SpriteUpdateHandler_NPC_MeatSalesman_Others" class="la">SpriteUpdateHandler_NPC_MeatSalesman_Others:</a><span class="ce">; [$a2fe]</span></span>
<span class="l"><a class="anc" name="a2fe" href="#a2fe">[a2fe]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a301" href="#a301">[a301]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__a2eb">FUN_PRG14__a2eb</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8113]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8115]
;============================================================================
</div><span class="l"><a class="anc" name="a304" href="#a304">[a304]</a><a href="#SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura" class="la">SpriteUpdateHandler_Enemy_UnusedEyeball_Zozura:</a><span class="ce">; [$a304]</span></span>
<span class="l"><a class="anc" name="a304" href="#a304">[a304]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a307" href="#a307">[a307]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__a2eb">FUN_PRG14__a2eb</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Item_Standard"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Item_Standard
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8117]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::811d]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::811f]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8121]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8123]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8127]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8131]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8133]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::813d]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::813f]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8141]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8143]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8145]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8147]
;============================================================================
</div><span class="l"><a class="anc" name="a30a" href="#a30a">[a30a]</a><a href="#SpriteUpdateHandler_Item_Standard" class="la">SpriteUpdateHandler_Item_Standard:</a><span class="ce">; [$a30a]</span></span>
<span class="l"><a class="anc" name="a30a" href="#a30a">[a30a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a30c" href="#a30c">[a30c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a30e" href="#a30e">[a30e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a310" href="#a310">[a310]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Bread"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Bread
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8089]
;============================================================================
</div><span class="l"><a class="anc" name="a313" href="#a313">[a313]</a><a href="#SpriteUpdateHandler_Bread" class="la">SpriteUpdateHandler_Bread:</a><span class="ce">; [$a313]</span></span>
<span class="l"><a class="anc" name="a313" href="#a313">[a313]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a315" href="#a315">[a315]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="a317" href="#a317">[a317]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a319" href="#a319">[a319]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a31b" href="#a31b">[a31b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Fountain"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Fountain
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a659]
;============================================================================
</div><span class="l"><a class="anc" name="a31e" href="#a31e">[a31e]</a><a href="#SpriteBehavior_Fountain" class="la">SpriteBehavior_Fountain:</a><span class="ce">; [$a31e]</span></span>
<span class="l"><a class="anc" name="a31e" href="#a31e">[a31e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a321" href="#a321">[a321]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkQuest">@_checkQuest</a></span></span></span>
<span class="l"><a class="anc" name="a323" href="#a323">[a323]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a326:@_checkQuest"></a><span class="l"><a class="anc" name="a326" href="#a326">[a326]</a><a href="#:a326:@_checkQuest" class="lla">@_checkQuest:</a><span class="ce">; [$a326]</span></span>
<span class="l"><a class="anc" name="a326" href="#a326">[a326]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Quests">Quests</a></span></span></span>
<span class="l"><a class="anc" name="a329" href="#a329">[a329]</a><span class="cd"><span class="i">AND</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="a32b" href="#a32b">[a32b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="a32d" href="#a32d">[a32d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a32f" href="#a32f">[a32f]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a332:@_setVisible"></a><span class="l"><a class="anc" name="a332" href="#a332">[a332]</a><a href="#:a332:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a332]</span></span>
<span class="l"><a class="anc" name="a332" href="#a332">[a332]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Effect_Fountain"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Effect_Fountain
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::812b]
;     <a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>
;============================================================================
</div><span class="l"><a class="anc" name="a335" href="#a335">[a335]</a><a href="#SpriteUpdateHandler_Effect_Fountain" class="la">SpriteUpdateHandler_Effect_Fountain:</a><span class="ce">; [$a335]</span></span>
<span class="l"><a class="anc" name="a335" href="#a335">[a335]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a337" href="#a337">[a337]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a339" href="#a339">[a339]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpriteUpdateCounter">SpriteUpdateCounter</a></span></span></span>
<span class="l"><a class="anc" name="a33c" href="#a33c">[a33c]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a33d" href="#a33d">[a33d]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a33e" href="#a33e">[a33e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a340" href="#a340">[a340]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="a341" href="#a341">[a341]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_FOUNTAIN_PHASES">SPRITE_FOUNTAIN_PHASES</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a344" href="#a344">[a344]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="SPRITE_FOUNTAIN_PHASES"></a><div class="c">;
; XREFS:
;     <a href="#SpriteUpdateHandler_Effect_Fountain">SpriteUpdateHandler_Effect_Fountain</a>
;
</div><span class="l"><a class="anc" name="a347" href="#a347">[a347]</a><a href="#SPRITE_FOUNTAIN_PHASES" class="la">SPRITE_FOUNTAIN_PHASES:</a><span class="ce">; [$a347]</span></span>
<span class="l"><a class="anc" name="a347" href="#a347">[a347]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a348" href="#a348">[a348]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="a349" href="#a349">[a349]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="a34a" href="#a34a">[a34a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Item_Special"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Item_Special
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8119]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::811b]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8135]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8137]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8139]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::813b]
;============================================================================
</div><span class="l"><a class="anc" name="a34b" href="#a34b">[a34b]</a><a href="#SpriteUpdateHandler_Item_Special" class="la">SpriteUpdateHandler_Item_Special:</a><span class="ce">; [$a34b]</span></span>
<span class="l"><a class="anc" name="a34b" href="#a34b">[a34b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a34d" href="#a34d">[a34d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a34f" href="#a34f">[a34f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a351" href="#a351">[a351]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_BattleSuitDroppedByZoradohna"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_BattleSuitDroppedByZoradohna
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a63d]
;============================================================================
</div><span class="l"><a class="anc" name="a354" href="#a354">[a354]</a><a href="#SpriteBehavior_BattleSuitDroppedByZoradohna" class="la">SpriteBehavior_BattleSuitDroppedByZoradohna:</a><span class="ce">; [$a354]</span></span>
<span class="l"><a class="anc" name="a354" href="#a354">[a354]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a357" href="#a357">[a357]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a359" href="#a359">[a359]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedArmor">SelectedArmor</a></span></span></span>
<span class="l"><a class="anc" name="a35c" href="#a35c">[a35c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a35e" href="#a35e">[a35e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_ClearAllEntities">Sprites_ClearAllEntities</a></span></span></span>
<span class="l"><a class="anc" name="a360" href="#a360">[a360]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#NumberOfArmors">NumberOfArmors</a></span></span></span>
<span class="l"></span>
<a name=":a363:@_checkArmorLoop"></a><span class="l"><a class="anc" name="a363" href="#a363">[a363]</a><a href="#:a363:@_checkArmorLoop" class="lla">@_checkArmorLoop:</a><span class="ce">; [$a363]</span></span>
<span class="l"><a class="anc" name="a363" href="#a363">[a363]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="a364" href="#a364">[a364]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a366" href="#a366">[a366]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#ArmorInventory">ArmorInventory</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a369" href="#a369">[a369]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a36b" href="#a36b">[a36b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_ClearAllEntities">Sprites_ClearAllEntities</a></span></span></span>
<span class="l"><a class="anc" name="a36d" href="#a36d">[a36d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkArmorLoop">@_checkArmorLoop</a></span></span></span>
<span class="l"></span>
<a name=":a36f:@_setReady"></a><span class="l"><a class="anc" name="a36f" href="#a36f">[a36f]</a><a href="#:a36f:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a36f]</span></span>
<span class="l"><a class="anc" name="a36f" href="#a36f">[a36f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a371" href="#a371">[a371]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a374" href="#a374">[a374]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a377:@_checkOnScreen"></a><span class="l"><a class="anc" name="a377" href="#a377">[a377]</a><a href="#:a377:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a377]</span></span>
<span class="l"><a class="anc" name="a377" href="#a377">[a377]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$2e</span></span></span>
<span class="l"><a class="anc" name="a379" href="#a379">[a379]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a37c" href="#a37c">[a37c]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a37e" href="#a37e">[a37e]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a381:@_setVisible"></a><span class="l"><a class="anc" name="a381" href="#a381">[a381]</a><a href="#:a381:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a381]</span></span>
<span class="l"><a class="anc" name="a381" href="#a381">[a381]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_BattleHelmetDroppedByZoradohna"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_BattleHelmetDroppedByZoradohna
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a63f]
;============================================================================
</div><span class="l"><a class="anc" name="a384" href="#a384">[a384]</a><a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna" class="la">SpriteBehavior_BattleHelmetDroppedByZoradohna:</a><span class="ce">; [$a384]</span></span>
<span class="l"><a class="anc" name="a384" href="#a384">[a384]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a387" href="#a387">[a387]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a389" href="#a389">[a389]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedShield">SelectedShield</a></span></span></span>
<span class="l"><a class="anc" name="a38c" href="#a38c">[a38c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a38e" href="#a38e">[a38e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_ClearAllEntities">Sprites_ClearAllEntities</a></span></span></span>
<span class="l"><a class="anc" name="a390" href="#a390">[a390]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#NumberOfShields">NumberOfShields</a></span></span></span>
<span class="l"></span>
<a name=":a393:@_checkShieldLoop"></a><span class="l"><a class="anc" name="a393" href="#a393">[a393]</a><a href="#:a393:@_checkShieldLoop" class="lla">@_checkShieldLoop:</a><span class="ce">; [$a393]</span></span>
<span class="l"><a class="anc" name="a393" href="#a393">[a393]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="a394" href="#a394">[a394]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a396" href="#a396">[a396]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#ShieldInventory">ShieldInventory</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a399" href="#a399">[a399]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a39b" href="#a39b">[a39b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_ClearAllEntities">Sprites_ClearAllEntities</a></span></span></span>
<span class="l"><a class="anc" name="a39d" href="#a39d">[a39d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkShieldLoop">@_checkShieldLoop</a></span></span></span>
<span class="l"></span>
<a name=":a39f:@_setReady"></a><span class="l"><a class="anc" name="a39f" href="#a39f">[a39f]</a><a href="#:a39f:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a39f]</span></span>
<span class="l"><a class="anc" name="a39f" href="#a39f">[a39f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a3a1" href="#a3a1">[a3a1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a3a4" href="#a3a4">[a3a4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a3a7:@_checkOnScreen"></a><span class="l"><a class="anc" name="a3a7" href="#a3a7">[a3a7]</a><a href="#:a3a7:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a3a7]</span></span>
<span class="l"><a class="anc" name="a3a7" href="#a3a7">[a3a7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$2e</span></span></span>
<span class="l"><a class="anc" name="a3a9" href="#a3a9">[a3a9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a3ac" href="#a3ac">[a3ac]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a3ae" href="#a3ae">[a3ae]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a3b1:@_setVisible"></a><span class="l"><a class="anc" name="a3b1" href="#a3b1">[a3b1]</a><a href="#:a3b1:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a3b1]</span></span>
<span class="l"><a class="anc" name="a3b1" href="#a3b1">[a3b1]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_ClearAllEntities"></a><div class="cp">;============================================================================
; TODO: Document Sprites_ClearAllEntities
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna">SpriteBehavior_BattleHelmetDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BattleSuitDroppedByZoradohna">SpriteBehavior_BattleSuitDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve">SpriteBehavior_DragonSlayerDroppedByKingGrieve</a>
;============================================================================
</div><span class="l"><a class="anc" name="a3b4" href="#a3b4">[a3b4]</a><a href="#Sprites_ClearAllEntities" class="la">Sprites_ClearAllEntities:</a><span class="ce">; [$a3b4]</span></span>
<span class="l"><a class="anc" name="a3b4" href="#a3b4">[a3b4]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$07</span></span></span>
<span class="l"></span>
<a name=":a3b6:@_loop"></a><span class="l"><a class="anc" name="a3b6" href="#a3b6">[a3b6]</a><a href="#:a3b6:@_loop" class="lla">@_loop:</a><span class="ce">; [$a3b6]</span></span>
<span class="l"><a class="anc" name="a3b6" href="#a3b6">[a3b6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a3b8" href="#a3b8">[a3b8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a3bb" href="#a3bb">[a3bb]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="a3bc" href="#a3bc">[a3bc]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_loop">@_loop</a></span></span></span>
<span class="l"><a class="anc" name="a3be" href="#a3be">[a3be]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_DragonSlayerDroppedByKingGrieve"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_DragonSlayerDroppedByKingGrieve
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a641]
;============================================================================
</div><span class="l"><a class="anc" name="a3bf" href="#a3bf">[a3bf]</a><a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve" class="la">SpriteBehavior_DragonSlayerDroppedByKingGrieve:</a><span class="ce">; [$a3bf]</span></span>
<span class="l"><a class="anc" name="a3bf" href="#a3bf">[a3bf]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a3c2" href="#a3c2">[a3c2]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a3c4" href="#a3c4">[a3c4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"><a class="anc" name="a3c7" href="#a3c7">[a3c7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a3c9" href="#a3c9">[a3c9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_ClearAllEntities">Sprites_ClearAllEntities</a></span></span></span>
<span class="l"><a class="anc" name="a3cb" href="#a3cb">[a3cb]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#NumberOfWeapons">NumberOfWeapons</a></span></span></span>
<span class="l"></span>
<a name=":a3ce:@_checkWeaponLoop"></a><span class="l"><a class="anc" name="a3ce" href="#a3ce">[a3ce]</a><a href="#:a3ce:@_checkWeaponLoop" class="lla">@_checkWeaponLoop:</a><span class="ce">; [$a3ce]</span></span>
<span class="l"><a class="anc" name="a3ce" href="#a3ce">[a3ce]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="a3cf" href="#a3cf">[a3cf]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a3d1" href="#a3d1">[a3d1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#WeaponInventory">WeaponInventory</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a3d4" href="#a3d4">[a3d4]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a3d6" href="#a3d6">[a3d6]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#Sprites_ClearAllEntities">Sprites_ClearAllEntities</a></span></span></span>
<span class="l"><a class="anc" name="a3d8" href="#a3d8">[a3d8]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkWeaponLoop">@_checkWeaponLoop</a></span></span></span>
<span class="l"></span>
<a name=":a3da:@_setReady"></a><span class="l"><a class="anc" name="a3da" href="#a3da">[a3da]</a><a href="#:a3da:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a3da]</span></span>
<span class="l"><a class="anc" name="a3da" href="#a3da">[a3da]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a3dc" href="#a3dc">[a3dc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a3df" href="#a3df">[a3df]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a3e2:@_checkOnScreen"></a><span class="l"><a class="anc" name="a3e2" href="#a3e2">[a3e2]</a><a href="#:a3e2:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a3e2]</span></span>
<span class="l"><a class="anc" name="a3e2" href="#a3e2">[a3e2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$32</span></span></span>
<span class="l"><a class="anc" name="a3e4" href="#a3e4">[a3e4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a3e7" href="#a3e7">[a3e7]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a3e9" href="#a3e9">[a3e9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a3ec:@_setVisible"></a><span class="l"><a class="anc" name="a3ec" href="#a3ec">[a3ec]</a><a href="#:a3ec:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a3ec]</span></span>
<span class="l"><a class="anc" name="a3ec" href="#a3ec">[a3ec]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_MattockDroppedFromRipasheiku"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_MattockDroppedFromRipasheiku
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a643]
;============================================================================
</div><span class="l"><a class="anc" name="a3ef" href="#a3ef">[a3ef]</a><a href="#SpriteBehavior_MattockDroppedFromRipasheiku" class="la">SpriteBehavior_MattockDroppedFromRipasheiku:</a><span class="ce">; [$a3ef]</span></span>
<span class="l"><a class="anc" name="a3ef" href="#a3ef">[a3ef]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a3f2" href="#a3f2">[a3f2]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a3f4" href="#a3f4">[a3f4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Quests">Quests</a></span></span></span>
<span class="l"><a class="anc" name="a3f7" href="#a3f7">[a3f7]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="a3f9" href="#a3f9">[a3f9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a3fb" href="#a3fb">[a3fb]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a3fe:@_setReady"></a><span class="l"><a class="anc" name="a3fe" href="#a3fe">[a3fe]</a><a href="#:a3fe:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a3fe]</span></span>
<span class="l"><a class="anc" name="a3fe" href="#a3fe">[a3fe]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a400" href="#a400">[a400]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a403" href="#a403">[a403]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a406:@_checkOnScreen"></a><span class="l"><a class="anc" name="a406" href="#a406">[a406]</a><a href="#:a406:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a406]</span></span>
<span class="l"><a class="anc" name="a406" href="#a406">[a406]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$2d</span></span></span>
<span class="l"><a class="anc" name="a408" href="#a408">[a408]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a40b" href="#a40b">[a40b]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a40d" href="#a40d">[a40d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a410:@_setVisible"></a><span class="l"><a class="anc" name="a410" href="#a410">[a410]</a><a href="#:a410:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a410]</span></span>
<span class="l"><a class="anc" name="a410" href="#a410">[a410]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_WingBootsDroppedByZorugeriru"></a><div class="cp">;============================================================================
; ## Behavior $2F: Wing Boots Dropped by Zorugeriru
;
; Shows the sprite on screen only if all conditions are met:
;
; 1. The player has not retrieved the Wingboots from Zorugeriru
; 2. Zorugeriru is not on the screen
;
; Parameters:
;     1. Unused (1 byte)
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a645]
;============================================================================
</div><span class="l"><a class="anc" name="a413" href="#a413">[a413]</a><a href="#SpriteBehavior_WingBootsDroppedByZorugeriru" class="la">SpriteBehavior_WingBootsDroppedByZorugeriru:</a><span class="ce">; [$a413]</span></span>
<span class="l"><a class="anc" name="a413" href="#a413">[a413]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span><span class="ce">; Is the sprite behavior disabled?</span></span>
<span class="l"><a class="anc" name="a416" href="#a416">[a416]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a418" href="#a418">[a418]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Quests">Quests</a></span></span></span>
<span class="l"><a class="anc" name="a41b" href="#a41b">[a41b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="a41d" href="#a41d">[a41d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a41f" href="#a41f">[a41f]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a422:@_setReady"></a><span class="l"><a class="anc" name="a422" href="#a422">[a422]</a><a href="#:a422:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a422]</span></span>
<span class="l"><a class="anc" name="a422" href="#a422">[a422]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a424" href="#a424">[a424]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a427" href="#a427">[a427]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a42a:@_checkOnScreen"></a><span class="l"><a class="anc" name="a42a" href="#a42a">[a42a]</a><a href="#:a42a:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a42a]</span></span>
<span class="l"><a class="anc" name="a42a" href="#a42a">[a42a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$31</span></span></span>
<span class="l"><a class="anc" name="a42c" href="#a42c">[a42c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a42f" href="#a42f">[a42f]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a431" href="#a431">[a431]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a434:@_setVisible"></a><span class="l"><a class="anc" name="a434" href="#a434">[a434]</a><a href="#:a434:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a434]</span></span>
<span class="l"><a class="anc" name="a434" href="#a434">[a434]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_BlackOnyxDropFromZoradohna"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_BlackOnyxDropFromZoradohna
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a647]
;============================================================================
</div><span class="l"><a class="anc" name="a437" href="#a437">[a437]</a><a href="#SpriteBehavior_BlackOnyxDropFromZoradohna" class="la">SpriteBehavior_BlackOnyxDropFromZoradohna:</a><span class="ce">; [$a437]</span></span>
<span class="l"><a class="anc" name="a437" href="#a437">[a437]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a43a" href="#a43a">[a43a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a43c" href="#a43c">[a43c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpecialItems">SpecialItems</a></span></span></span>
<span class="l"><a class="anc" name="a43f" href="#a43f">[a43f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a441" href="#a441">[a441]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a443" href="#a443">[a443]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a446:@_setReady"></a><span class="l"><a class="anc" name="a446" href="#a446">[a446]</a><a href="#:a446:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a446]</span></span>
<span class="l"><a class="anc" name="a446" href="#a446">[a446]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a448" href="#a448">[a448]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a44b" href="#a44b">[a44b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a44e:@_checkOnScreen"></a><span class="l"><a class="anc" name="a44e" href="#a44e">[a44e]</a><a href="#:a44e:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a44e]</span></span>
<span class="l"><a class="anc" name="a44e" href="#a44e">[a44e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$2e</span></span></span>
<span class="l"><a class="anc" name="a450" href="#a450">[a450]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a453" href="#a453">[a453]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a455" href="#a455">[a455]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a458:@_setVisible"></a><span class="l"><a class="anc" name="a458" href="#a458">[a458]</a><a href="#:a458:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a458]</span></span>
<span class="l"><a class="anc" name="a458" href="#a458">[a458]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_PendantDroppedFromRipasheiku"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_PendantDroppedFromRipasheiku
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a649]
;============================================================================
</div><span class="l"><a class="anc" name="a45b" href="#a45b">[a45b]</a><a href="#SpriteBehavior_PendantDroppedFromRipasheiku" class="la">SpriteBehavior_PendantDroppedFromRipasheiku:</a><span class="ce">; [$a45b]</span></span>
<span class="l"><a class="anc" name="a45b" href="#a45b">[a45b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a45e" href="#a45e">[a45e]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_checkOnScreen">@_checkOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a460" href="#a460">[a460]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpecialItems">SpecialItems</a></span></span></span>
<span class="l"><a class="anc" name="a463" href="#a463">[a463]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a465" href="#a465">[a465]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_setReady">@_setReady</a></span></span></span>
<span class="l"><a class="anc" name="a467" href="#a467">[a467]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a46a:@_setReady"></a><span class="l"><a class="anc" name="a46a" href="#a46a">[a46a]</a><a href="#:a46a:@_setReady" class="lla">@_setReady:</a><span class="ce">; [$a46a]</span></span>
<span class="l"><a class="anc" name="a46a" href="#a46a">[a46a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a46c" href="#a46c">[a46c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a46f" href="#a46f">[a46f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a472:@_checkOnScreen"></a><span class="l"><a class="anc" name="a472" href="#a472">[a472]</a><a href="#:a472:@_checkOnScreen" class="lla">@_checkOnScreen:</a><span class="ce">; [$a472]</span></span>
<span class="l"><a class="anc" name="a472" href="#a472">[a472]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$2d</span></span></span>
<span class="l"><a class="anc" name="a474" href="#a474">[a474]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Maybe_IsSpriteEntityNotOnScreen">Maybe_IsSpriteEntityNotOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="a477" href="#a477">[a477]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_setVisible">@_setVisible</a></span></span></span>
<span class="l"><a class="anc" name="a479" href="#a479">[a479]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"></span>
<a name=":a47c:@_setVisible"></a><span class="l"><a class="anc" name="a47c" href="#a47c">[a47c]</a><a href="#:a47c:@_setVisible" class="lla">@_setVisible:</a><span class="ce">; [$a47c]</span></span>
<span class="l"><a class="anc" name="a47c" href="#a47c">[a47c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_ShowMagicalRod"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_ShowMagicalRod
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a661]
;============================================================================
</div><span class="l"><a class="anc" name="a47f" href="#a47f">[a47f]</a><a href="#SpriteBehavior_ShowMagicalRod" class="la">SpriteBehavior_ShowMagicalRod:</a><span class="ce">; [$a47f]</span></span>
<span class="l"><a class="anc" name="a47f" href="#a47f">[a47f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SpecialItems">SpecialItems</a></span></span></span>
<span class="l"><a class="anc" name="a482" href="#a482">[a482]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="a484" href="#a484">[a484]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a486" href="#a486">[a486]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a489:@_return"></a><span class="l"><a class="anc" name="a489" href="#a489">[a489]</a><a href="#:a489:@_return" class="lla">@_return:</a><span class="ce">; [$a489]</span></span>
<span class="l"><a class="anc" name="a489" href="#a489">[a489]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_50"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_50
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a64b]
;============================================================================
</div><span class="l"><a class="anc" name="a48a" href="#a48a">[a48a]</a><a href="#SpriteBehavior_RandomlyShowItem_50" class="la">SpriteBehavior_RandomlyShowItem_50:</a><span class="ce">; [$a48a]</span></span>
<span class="l"><a class="anc" name="a48a" href="#a48a">[a48a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a48d" href="#a48d">[a48d]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a49a">@LAB_PRG14__a49a</a></span></span></span>
<span class="l"><a class="anc" name="a48f" href="#a48f">[a48f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a492" href="#a492">[a492]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a497">@LAB_PRG14__a497</a></span></span></span>
<span class="l"><a class="anc" name="a494" href="#a494">[a494]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a497:@LAB_PRG14__a497"></a><span class="l"><a class="anc" name="a497" href="#a497">[a497]</a><a href="#:a497:@LAB_PRG14__a497" class="lla">@LAB_PRG14__a497:</a><span class="ce">; [$a497]</span></span>
<span class="l"><a class="anc" name="a497" href="#a497">[a497]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a49a:@LAB_PRG14__a49a"></a><span class="l"><a class="anc" name="a49a" href="#a49a">[a49a]</a><a href="#:a49a:@LAB_PRG14__a49a" class="lla">@LAB_PRG14__a49a:</a><span class="ce">; [$a49a]</span></span>
<span class="l"><a class="anc" name="a49a" href="#a49a">[a49a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_51"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_51
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a64d]
;============================================================================
</div><span class="l"><a class="anc" name="a49d" href="#a49d">[a49d]</a><a href="#SpriteBehavior_RandomlyShowItem_51" class="la">SpriteBehavior_RandomlyShowItem_51:</a><span class="ce">; [$a49d]</span></span>
<span class="l"><a class="anc" name="a49d" href="#a49d">[a49d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a4a0" href="#a4a0">[a4a0]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a4ad">@LAB_PRG14__a4ad</a></span></span></span>
<span class="l"><a class="anc" name="a4a2" href="#a4a2">[a4a2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a4a5" href="#a4a5">[a4a5]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a4aa">@LAB_PRG14__a4aa</a></span></span></span>
<span class="l"><a class="anc" name="a4a7" href="#a4a7">[a4a7]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a4aa:@LAB_PRG14__a4aa"></a><span class="l"><a class="anc" name="a4aa" href="#a4aa">[a4aa]</a><a href="#:a4aa:@LAB_PRG14__a4aa" class="lla">@LAB_PRG14__a4aa:</a><span class="ce">; [$a4aa]</span></span>
<span class="l"><a class="anc" name="a4aa" href="#a4aa">[a4aa]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a4ad:@LAB_PRG14__a4ad"></a><span class="l"><a class="anc" name="a4ad" href="#a4ad">[a4ad]</a><a href="#:a4ad:@LAB_PRG14__a4ad" class="lla">@LAB_PRG14__a4ad:</a><span class="ce">; [$a4ad]</span></span>
<span class="l"><a class="anc" name="a4ad" href="#a4ad">[a4ad]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_52"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_52
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a64f]
;============================================================================
</div><span class="l"><a class="anc" name="a4b0" href="#a4b0">[a4b0]</a><a href="#SpriteBehavior_RandomlyShowItem_52" class="la">SpriteBehavior_RandomlyShowItem_52:</a><span class="ce">; [$a4b0]</span></span>
<span class="l"><a class="anc" name="a4b0" href="#a4b0">[a4b0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a4b3" href="#a4b3">[a4b3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a4c0">@LAB_PRG14__a4c0</a></span></span></span>
<span class="l"><a class="anc" name="a4b5" href="#a4b5">[a4b5]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a4b8" href="#a4b8">[a4b8]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a4bd">@LAB_PRG14__a4bd</a></span></span></span>
<span class="l"><a class="anc" name="a4ba" href="#a4ba">[a4ba]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a4bd:@LAB_PRG14__a4bd"></a><span class="l"><a class="anc" name="a4bd" href="#a4bd">[a4bd]</a><a href="#:a4bd:@LAB_PRG14__a4bd" class="lla">@LAB_PRG14__a4bd:</a><span class="ce">; [$a4bd]</span></span>
<span class="l"><a class="anc" name="a4bd" href="#a4bd">[a4bd]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a4c0:@LAB_PRG14__a4c0"></a><span class="l"><a class="anc" name="a4c0" href="#a4c0">[a4c0]</a><a href="#:a4c0:@LAB_PRG14__a4c0" class="lla">@LAB_PRG14__a4c0:</a><span class="ce">; [$a4c0]</span></span>
<span class="l"><a class="anc" name="a4c0" href="#a4c0">[a4c0]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_53"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_53
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a651]
;============================================================================
</div><span class="l"><a class="anc" name="a4c3" href="#a4c3">[a4c3]</a><a href="#SpriteBehavior_RandomlyShowItem_53" class="la">SpriteBehavior_RandomlyShowItem_53:</a><span class="ce">; [$a4c3]</span></span>
<span class="l"><a class="anc" name="a4c3" href="#a4c3">[a4c3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a4c6" href="#a4c6">[a4c6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a4d3">@LAB_PRG14__a4d3</a></span></span></span>
<span class="l"><a class="anc" name="a4c8" href="#a4c8">[a4c8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a4cb" href="#a4cb">[a4cb]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a4d0">@LAB_PRG14__a4d0</a></span></span></span>
<span class="l"><a class="anc" name="a4cd" href="#a4cd">[a4cd]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a4d0:@LAB_PRG14__a4d0"></a><span class="l"><a class="anc" name="a4d0" href="#a4d0">[a4d0]</a><a href="#:a4d0:@LAB_PRG14__a4d0" class="lla">@LAB_PRG14__a4d0:</a><span class="ce">; [$a4d0]</span></span>
<span class="l"><a class="anc" name="a4d0" href="#a4d0">[a4d0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a4d3:@LAB_PRG14__a4d3"></a><span class="l"><a class="anc" name="a4d3" href="#a4d3">[a4d3]</a><a href="#:a4d3:@LAB_PRG14__a4d3" class="lla">@LAB_PRG14__a4d3:</a><span class="ce">; [$a4d3]</span></span>
<span class="l"><a class="anc" name="a4d3" href="#a4d3">[a4d3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_54"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_54
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a653]
;============================================================================
</div><span class="l"><a class="anc" name="a4d6" href="#a4d6">[a4d6]</a><a href="#SpriteBehavior_RandomlyShowItem_54" class="la">SpriteBehavior_RandomlyShowItem_54:</a><span class="ce">; [$a4d6]</span></span>
<span class="l"><a class="anc" name="a4d6" href="#a4d6">[a4d6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a4d9" href="#a4d9">[a4d9]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a4e6">@LAB_PRG14__a4e6</a></span></span></span>
<span class="l"><a class="anc" name="a4db" href="#a4db">[a4db]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a4de" href="#a4de">[a4de]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a4e3">@LAB_PRG14__a4e3</a></span></span></span>
<span class="l"><a class="anc" name="a4e0" href="#a4e0">[a4e0]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a4e3:@LAB_PRG14__a4e3"></a><span class="l"><a class="anc" name="a4e3" href="#a4e3">[a4e3]</a><a href="#:a4e3:@LAB_PRG14__a4e3" class="lla">@LAB_PRG14__a4e3:</a><span class="ce">; [$a4e3]</span></span>
<span class="l"><a class="anc" name="a4e3" href="#a4e3">[a4e3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a4e6:@LAB_PRG14__a4e6"></a><span class="l"><a class="anc" name="a4e6" href="#a4e6">[a4e6]</a><a href="#:a4e6:@LAB_PRG14__a4e6" class="lla">@LAB_PRG14__a4e6:</a><span class="ce">; [$a4e6]</span></span>
<span class="l"><a class="anc" name="a4e6" href="#a4e6">[a4e6]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_56"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_56
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a657]
;============================================================================
</div><span class="l"><a class="anc" name="a4e9" href="#a4e9">[a4e9]</a><a href="#SpriteBehavior_RandomlyShowItem_56" class="la">SpriteBehavior_RandomlyShowItem_56:</a><span class="ce">; [$a4e9]</span></span>
<span class="l"><a class="anc" name="a4e9" href="#a4e9">[a4e9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a4ec" href="#a4ec">[a4ec]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a4f9">@LAB_PRG14__a4f9</a></span></span></span>
<span class="l"><a class="anc" name="a4ee" href="#a4ee">[a4ee]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a4f1" href="#a4f1">[a4f1]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a4f6">@LAB_PRG14__a4f6</a></span></span></span>
<span class="l"><a class="anc" name="a4f3" href="#a4f3">[a4f3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a4f6:@LAB_PRG14__a4f6"></a><span class="l"><a class="anc" name="a4f6" href="#a4f6">[a4f6]</a><a href="#:a4f6:@LAB_PRG14__a4f6" class="lla">@LAB_PRG14__a4f6:</a><span class="ce">; [$a4f6]</span></span>
<span class="l"><a class="anc" name="a4f6" href="#a4f6">[a4f6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a4f9:@LAB_PRG14__a4f9"></a><span class="l"><a class="anc" name="a4f9" href="#a4f9">[a4f9]</a><a href="#:a4f9:@LAB_PRG14__a4f9" class="lla">@LAB_PRG14__a4f9:</a><span class="ce">; [$a4f9]</span></span>
<span class="l"><a class="anc" name="a4f9" href="#a4f9">[a4f9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_RandomlyShowItem_55"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_RandomlyShowItem_55
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a655]
;============================================================================
</div><span class="l"><a class="anc" name="a4fc" href="#a4fc">[a4fc]</a><a href="#SpriteBehavior_RandomlyShowItem_55" class="la">SpriteBehavior_RandomlyShowItem_55:</a><span class="ce">; [$a4fc]</span></span>
<span class="l"><a class="anc" name="a4fc" href="#a4fc">[a4fc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a4ff" href="#a4ff">[a4ff]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a50c">@LAB_PRG14__a50c</a></span></span></span>
<span class="l"><a class="anc" name="a501" href="#a501">[a501]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Screen_Is3Of4Visits">Screen_Is3Of4Visits</a></span></span></span>
<span class="l"><a class="anc" name="a504" href="#a504">[a504]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a509">@LAB_PRG14__a509</a></span></span></span>
<span class="l"><a class="anc" name="a506" href="#a506">[a506]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_Remove">Sprites_Remove</a></span></span></span>
<span class="l"></span>
<a name=":a509:@LAB_PRG14__a509"></a><span class="l"><a class="anc" name="a509" href="#a509">[a509]</a><a href="#:a509:@LAB_PRG14__a509" class="lla">@LAB_PRG14__a509:</a><span class="ce">; [$a509]</span></span>
<span class="l"><a class="anc" name="a509" href="#a509">[a509]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a50c:@LAB_PRG14__a50c"></a><span class="l"><a class="anc" name="a50c" href="#a50c">[a50c]</a><a href="#:a50c:@LAB_PRG14__a50c" class="lla">@LAB_PRG14__a50c:</a><span class="ce">; [$a50c]</span></span>
<span class="l"><a class="anc" name="a50c" href="#a50c">[a50c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a></span></span></span>
<span class="l"><a class="anc" name="a50f" href="#a50f">[a50f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ShowIfNoEnemies"></a><div class="cp">;============================================================================
; Show a sprite if there are no enemies on the screen.
;
; This is used for things like item drops.
;
; If there are enemies on the screen, the sprite will be
; hidden.
;
; INPUTS:
;     X:
;         The index of the sprite to show or hide.
;
; OUTPUTS:
;     None.
;
; CALLS:
;     <a href="#Sprites_HasAnyEnemyOnScreen">Sprites_HasAnyEnemyOnScreen</a>
;     <a href="#Sprite_SetVisible">Sprite_SetVisible</a>
;     <a href="#Sprites_HideSprite">Sprites_HideSprite</a>
;
; XREFS:
;     <a href="#SpriteBehavior_RandomlyShowItem_50">SpriteBehavior_RandomlyShowItem_50</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_51">SpriteBehavior_RandomlyShowItem_51</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_52">SpriteBehavior_RandomlyShowItem_52</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_53">SpriteBehavior_RandomlyShowItem_53</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_54">SpriteBehavior_RandomlyShowItem_54</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_55">SpriteBehavior_RandomlyShowItem_55</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_56">SpriteBehavior_RandomlyShowItem_56</a>
;============================================================================
</div><span class="l"><a class="anc" name="a510" href="#a510">[a510]</a><a href="#Sprite_ShowIfNoEnemies" class="la">Sprite_ShowIfNoEnemies:</a><span class="ce">; [$a510]</span></span>
<span class="l"><a class="anc" name="a510" href="#a510">[a510]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasAnyEnemyOnScreen">Sprites_HasAnyEnemyOnScreen</a></span></span><span class="ce">; Are there any enemies on screen?</span></span>
<span class="l"><a class="anc" name="a513" href="#a513">[a513]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_hideSprite">@_hideSprite</a></span></span><span class="ce">; If so, jump to hide the sprite.</span></span>
<span class="l"><a class="anc" name="a515" href="#a515">[a515]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span><span class="ce">; Else, show the sprite.</span></span>
<span class="l"></span>
<a name=":a518:@_hideSprite"></a><span class="l"><a class="anc" name="a518" href="#a518">[a518]</a><a href="#:a518:@_hideSprite" class="lla">@_hideSprite:</a><span class="ce">; [$a518]</span></span>
<span class="l"><a class="anc" name="a518" href="#a518">[a518]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span><span class="ce">; Hide the sprite.</span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_MaybeResetPhaseAndEnable"></a><div class="cp">;============================================================================
; TODO: Document Sprites_MaybeResetPhaseAndEnable
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Fountain">SpriteBehavior_Fountain</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_50">SpriteBehavior_RandomlyShowItem_50</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_51">SpriteBehavior_RandomlyShowItem_51</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_52">SpriteBehavior_RandomlyShowItem_52</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_53">SpriteBehavior_RandomlyShowItem_53</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_54">SpriteBehavior_RandomlyShowItem_54</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_55">SpriteBehavior_RandomlyShowItem_55</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_56">SpriteBehavior_RandomlyShowItem_56</a>
;     <a href="#SpriteBehavior_SpringOfFortress">SpriteBehavior_SpringOfFortress</a>
;     <a href="#SpriteBehavior_SpringOfJoker">SpriteBehavior_SpringOfJoker</a>
;     <a href="#SpriteBehavior_SpringOfSky">SpriteBehavior_SpringOfSky</a>
;============================================================================
</div><span class="l"><a class="anc" name="a51b" href="#a51b">[a51b]</a><a href="#Sprites_MaybeResetPhaseAndEnable" class="la">Sprites_MaybeResetPhaseAndEnable:</a><span class="ce">; [$a51b]</span></span>
<span class="l"><a class="anc" name="a51b" href="#a51b">[a51b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a51d" href="#a51d">[a51d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a520" href="#a520">[a520]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_Remove"></a><div class="cp">;============================================================================
; Queue removal of a sprite.
;
; This clears the sprite type for the given sprite index.
;
; INPUTS:
;     X:
;         The index of the sprite to clear.
;
; OUTPUTS:
;     None
;
; XREFS:
;     <a href="#SpriteBehavior_BlackOnyxDropFromZoradohna">SpriteBehavior_BlackOnyxDropFromZoradohna</a>
;     <a href="#SpriteBehavior_MattockDroppedFromRipasheiku">SpriteBehavior_MattockDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_PendantDroppedFromRipasheiku">SpriteBehavior_PendantDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_50">SpriteBehavior_RandomlyShowItem_50</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_51">SpriteBehavior_RandomlyShowItem_51</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_52">SpriteBehavior_RandomlyShowItem_52</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_53">SpriteBehavior_RandomlyShowItem_53</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_54">SpriteBehavior_RandomlyShowItem_54</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_55">SpriteBehavior_RandomlyShowItem_55</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_56">SpriteBehavior_RandomlyShowItem_56</a>
;     <a href="#SpriteBehavior_ShowMagicalRod">SpriteBehavior_ShowMagicalRod</a>
;     <a href="#SpriteBehavior_WingBootsDroppedByZorugeriru">SpriteBehavior_WingBootsDroppedByZorugeriru</a>
;============================================================================
</div><span class="l"><a class="anc" name="a523" href="#a523">[a523]</a><a href="#Sprites_Remove" class="la">Sprites_Remove:</a><span class="ce">; [$a523]</span></span>
<span class="l"><a class="anc" name="a523" href="#a523">[a523]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a525" href="#a525">[a525]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Unset the sprite entity.</span></span>
<span class="l"><a class="anc" name="a528" href="#a528">[a528]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Screen_Is3Of4Visits"></a><div class="cp">;============================================================================
; Return whether the screen visit count is 3 out of 4 values.
;
; This is used to determine whether to conditionally show
; certain items on a screen. Every 3 of 4 visits, this will
; return true (via the Carry flag). On the 4th visit, it
; will return false.
;
; The counter is only updated when this function is called,
; leaving the counter to only increment on some screens.
;
; INPUTS:
;     <a href="RAM.html#Screen_TrackedVisitCount">Screen_TrackedVisitCount</a>:
;         The incrementing visit counter.
;
; OUTPUTS:
;     C:
;         1 = This is 3 out of 4 screen visits.
;         0 = This is the 4th out of 4 screen visits.
;
; XREFS:
;     <a href="#SpriteBehavior_RandomlyShowItem_50">SpriteBehavior_RandomlyShowItem_50</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_51">SpriteBehavior_RandomlyShowItem_51</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_52">SpriteBehavior_RandomlyShowItem_52</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_53">SpriteBehavior_RandomlyShowItem_53</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_54">SpriteBehavior_RandomlyShowItem_54</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_55">SpriteBehavior_RandomlyShowItem_55</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_56">SpriteBehavior_RandomlyShowItem_56</a>
;============================================================================
</div><span class="l"><a class="anc" name="a529" href="#a529">[a529]</a><a href="#Screen_Is3Of4Visits" class="la">Screen_Is3Of4Visits:</a><span class="ce">; [$a529]</span></span>
<span class="l"><a class="anc" name="a529" href="#a529">[a529]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#Screen_TrackedVisitCount">Screen_TrackedVisitCount</a></span></span><span class="ce">; Increment the visit count.</span></span>
<span class="l"><a class="anc" name="a52c" href="#a52c">[a52c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Screen_TrackedVisitCount">Screen_TrackedVisitCount</a></span></span><span class="ce">; Load it.</span></span>
<span class="l"><a class="anc" name="a52f" href="#a52f">[a52f]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span><span class="ce">; Is it &lt; 4?</span></span>
<span class="l"><a class="anc" name="a531" href="#a531">[a531]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_returnTrue">@_returnTrue</a></span></span><span class="ce">; If so, jump to return true.</span></span>
<span class="l"><a class="anc" name="a533" href="#a533">[a533]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span><span class="ce">; Else, reset the track to 0.</span></span>
<span class="l"><a class="anc" name="a535" href="#a535">[a535]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Screen_TrackedVisitCount">Screen_TrackedVisitCount</a></span></span><span class="ce">; And store as the new count.</span></span>
<span class="l"><a class="anc" name="a538" href="#a538">[a538]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; Set C = 0 (false result).</span></span>
<span class="l"><a class="anc" name="a539" href="#a539">[a539]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a53a:@_returnTrue"></a><span class="l"><a class="anc" name="a53a" href="#a53a">[a53a]</a><a href="#:a53a:@_returnTrue" class="lla">@_returnTrue:</a><span class="ce">; [$a53a]</span></span>
<span class="l"><a class="anc" name="a53a" href="#a53a">[a53a]</a><span class="cd"><span class="i">SEC</span></span><span class="ce">; Set C = 1 (true result).</span></span>
<span class="l"><a class="anc" name="a53b" href="#a53b">[a53b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_HasAnyEnemyOnScreen"></a><div class="cp">;============================================================================
; Return whether there are any enemies on screen.
;
; This will check for all current sprites on screen.
; If any are an enemy, this will set Carry to 1.
; Otherwise, Carry will be set to 0.
;
; INPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The sprite entities currently on screen.
;
;     <a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>:
;         The mapping of sprite entities to categories.
;
; OUTPUTS:
;     C:
;         1 = One or more enemies on screen.
;         0 = No enemies on screen.
;
; XREFS:
;     <a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a>
;============================================================================
</div><span class="l"><a class="anc" name="a53c" href="#a53c">[a53c]</a><a href="#Sprites_HasAnyEnemyOnScreen" class="la">Sprites_HasAnyEnemyOnScreen:</a><span class="ce">; [$a53c]</span></span>
<span class="l"><a class="anc" name="a53c" href="#a53c">[a53c]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$07</span></span><span class="ce">; Y = 7 (loop counter)</span></span>
<span class="l"></span>
<a name=":a53e:@_loop"></a><span class="l"><a class="anc" name="a53e" href="#a53e">[a53e]</a><a href="#:a53e:@_loop" class="lla">@_loop:</a><span class="ce">; [$a53e]</span></span>
<span class="l"><a class="anc" name="a53e" href="#a53e">[a53e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,Y</span></span><span class="ce">; A = Sprite entity at Y</span></span>
<span class="l"><a class="anc" name="a541" href="#a541">[a541]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it unset?</span></span>
<span class="l"><a class="anc" name="a543" href="#a543">[a543]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_prepareNextLoop">@_prepareNextLoop</a></span></span><span class="ce">; If it's set, jump to prepare for next loop.</span></span>
<span class="l"><a class="anc" name="a545" href="#a545">[a545]</a><span class="cd"><span class="i">TAX</span></span><span class="ce">; X = A</span></span>
<span class="l"><a class="anc" name="a546" href="#a546">[a546]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,X</span></span><span class="ce">; A = Sprite category for entity X</span></span>
<span class="l"><a class="anc" name="a549" href="#a549">[a549]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_prepareNextLoop">@_prepareNextLoop</a></span></span><span class="ce">; If not an enemy, jump to prepare for next loop.</span></span>
<span class="l"><a class="anc" name="a54b" href="#a54b">[a54b]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Else, restore the X register.</span></span>
<span class="l"><a class="anc" name="a54e" href="#a54e">[a54e]</a><span class="cd"><span class="i">SEC</span></span><span class="ce">; Set C = 1 (true result).</span></span>
<span class="l"><a class="anc" name="a54f" href="#a54f">[a54f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a550:@_prepareNextLoop"></a><span class="l"><a class="anc" name="a550" href="#a550">[a550]</a><a href="#:a550:@_prepareNextLoop" class="lla">@_prepareNextLoop:</a><span class="ce">; [$a550]</span></span>
<span class="l"><a class="anc" name="a550" href="#a550">[a550]</a><span class="cd"><span class="i">DEY</span></span><span class="ce">; Y--</span></span>
<span class="l"><a class="anc" name="a551" href="#a551">[a551]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_loop">@_loop</a></span></span><span class="ce">; If Y &gt;= 0, loop.</span></span>
<span class="l"><a class="anc" name="a553" href="#a553">[a553]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; Else, restore the X register.</span></span>
<span class="l"><a class="anc" name="a556" href="#a556">[a556]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; Set C = 0 (false result).</span></span>
<span class="l"><a class="anc" name="a557" href="#a557">[a557]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_SpringOfFortress"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_SpringOfFortress
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a65b]
;============================================================================
</div><span class="l"><a class="anc" name="a558" href="#a558">[a558]</a><a href="#SpriteBehavior_SpringOfFortress" class="la">SpriteBehavior_SpringOfFortress:</a><span class="ce">; [$a558]</span></span>
<span class="l"><a class="anc" name="a558" href="#a558">[a558]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a55b" href="#a55b">[a55b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a560">@LAB_PRG14__a560</a></span></span></span>
<span class="l"><a class="anc" name="a55d" href="#a55d">[a55d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a560:@LAB_PRG14__a560"></a><span class="l"><a class="anc" name="a560" href="#a560">[a560]</a><a href="#:a560:@LAB_PRG14__a560" class="lla">@LAB_PRG14__a560:</a><span class="ce">; [$a560]</span></span>
<span class="l"><a class="anc" name="a560" href="#a560">[a560]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a563" href="#a563">[a563]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a></span></span></span>
<span class="l"><a class="anc" name="a565" href="#a565">[a565]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Quests">Quests</a></span></span></span>
<span class="l"><a class="anc" name="a568" href="#a568">[a568]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a56a" href="#a56a">[a56a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a></span></span></span>
<span class="l"><a class="anc" name="a56c" href="#a56c">[a56c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_SpringOfSky"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_SpringOfSky
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a65d]
;============================================================================
</div><span class="l"><a class="anc" name="a56f" href="#a56f">[a56f]</a><a href="#SpriteBehavior_SpringOfSky" class="la">SpriteBehavior_SpringOfSky:</a><span class="ce">; [$a56f]</span></span>
<span class="l"><a class="anc" name="a56f" href="#a56f">[a56f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a572" href="#a572">[a572]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a577">@LAB_PRG14__a577</a></span></span></span>
<span class="l"><a class="anc" name="a574" href="#a574">[a574]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a577:@LAB_PRG14__a577"></a><span class="l"><a class="anc" name="a577" href="#a577">[a577]</a><a href="#:a577:@LAB_PRG14__a577" class="lla">@LAB_PRG14__a577:</a><span class="ce">; [$a577]</span></span>
<span class="l"><a class="anc" name="a577" href="#a577">[a577]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a57a" href="#a57a">[a57a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a></span></span></span>
<span class="l"><a class="anc" name="a57c" href="#a57c">[a57c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Quests">Quests</a></span></span></span>
<span class="l"><a class="anc" name="a57f" href="#a57f">[a57f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a581" href="#a581">[a581]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a></span></span></span>
<span class="l"><a class="anc" name="a583" href="#a583">[a583]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_SpringOfJoker"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_SpringOfJoker
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a65f]
;============================================================================
</div><span class="l"><a class="anc" name="a586" href="#a586">[a586]</a><a href="#SpriteBehavior_SpringOfJoker" class="la">SpriteBehavior_SpringOfJoker:</a><span class="ce">; [$a586]</span></span>
<span class="l"><a class="anc" name="a586" href="#a586">[a586]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a589" href="#a589">[a589]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a58e">@LAB_PRG14__a58e</a></span></span></span>
<span class="l"><a class="anc" name="a58b" href="#a58b">[a58b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a></span></span></span>
<span class="l"></span>
<a name=":a58e:@LAB_PRG14__a58e"></a><span class="l"><a class="anc" name="a58e" href="#a58e">[a58e]</a><a href="#:a58e:@LAB_PRG14__a58e" class="lla">@LAB_PRG14__a58e:</a><span class="ce">; [$a58e]</span></span>
<span class="l"><a class="anc" name="a58e" href="#a58e">[a58e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a591" href="#a591">[a591]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a></span></span></span>
<span class="l"><a class="anc" name="a593" href="#a593">[a593]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Quests">Quests</a></span></span></span>
<span class="l"><a class="anc" name="a596" href="#a596">[a596]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="a598" href="#a598">[a598]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a></span></span></span>
<span class="l"><a class="anc" name="a59a" href="#a59a">[a59a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetVisible">Sprite_SetVisible</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Springs_UpdateFlowing"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Springs_UpdateFlowing
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_SpringOfFortress">SpriteBehavior_SpringOfFortress</a>
;     <a href="#SpriteBehavior_SpringOfJoker">SpriteBehavior_SpringOfJoker</a>
;     <a href="#SpriteBehavior_SpringOfSky">SpriteBehavior_SpringOfSky</a>
;============================================================================
</div><span class="l"><a class="anc" name="a59d" href="#a59d">[a59d]</a><a href="#SpriteBehavior_Springs_UpdateFlowing" class="la">SpriteBehavior_Springs_UpdateFlowing:</a><span class="ce">; [$a59d]</span></span>
<span class="l"><a class="anc" name="a59d" href="#a59d">[a59d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HideSprite">Sprites_HideSprite</a></span></span></span>
<span class="l"><a class="anc" name="a5a0" href="#a5a0">[a5a0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5a3" href="#a5a3">[a5a3]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a5b0">@LAB_PRG14__a5b0</a></span></span></span>
<span class="l"><a class="anc" name="a5a5" href="#a5a5">[a5a5]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5a8" href="#a5a8">[a5a8]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a5aa" href="#a5aa">[a5aa]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5ad" href="#a5ad">[a5ad]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":a5b0:@LAB_PRG14__a5b0"></a><span class="l"><a class="anc" name="a5b0" href="#a5b0">[a5b0]</a><a href="#:a5b0:@LAB_PRG14__a5b0" class="lla">@LAB_PRG14__a5b0:</a><span class="ce">; [$a5b0]</span></span>
<span class="l"><a class="anc" name="a5b0" href="#a5b0">[a5b0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5b3" href="#a5b3">[a5b3]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a5b5" href="#a5b5">[a5b5]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Sprite_SetPhase2">Sprite_SetPhase2</a></span></span></span>
<span class="l"><a class="anc" name="a5b7" href="#a5b7">[a5b7]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5ba" href="#a5ba">[a5ba]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5bd" href="#a5bd">[a5bd]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a5bf" href="#a5bf">[a5bf]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_A5CB">RETURN_A5CB</a></span></span></span>
<span class="l"><a class="anc" name="a5c1" href="#a5c1">[a5c1]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5c4" href="#a5c4">[a5c4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5c7" href="#a5c7">[a5c7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="a5c9" href="#a5c9">[a5c9]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#Sprite_SetPhase2">Sprite_SetPhase2</a></span></span></span>
<span class="l"></span>
<a name="RETURN_A5CB"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a>
;     <a href="#SpriteUpdateHandler_Effect_Spring">SpriteUpdateHandler_Effect_Spring</a>
;
</div><span class="l"><a class="anc" name="a5cb" href="#a5cb">[a5cb]</a><a href="#RETURN_A5CB" class="la">RETURN_A5CB:</a><span class="ce">; [$a5cb]</span></span>
<span class="l"><a class="anc" name="a5cb" href="#a5cb">[a5cb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_SetPhase2"></a><div class="cp">;============================================================================
; TODO: Document Sprite_SetPhase2
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a>
;============================================================================
</div><span class="l"><a class="anc" name="a5cc" href="#a5cc">[a5cc]</a><a href="#Sprite_SetPhase2" class="la">Sprite_SetPhase2:</a><span class="ce">; [$a5cc]</span></span>
<span class="l"><a class="anc" name="a5cc" href="#a5cc">[a5cc]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a5ce" href="#a5ce">[a5ce]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5d1" href="#a5d1">[a5d1]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteUpdateHandler_Effect_Spring"></a><div class="cp">;============================================================================
; TODO: Document SpriteUpdateHandler_Effect_Spring
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::8149]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::814b]
;     <a href="#SPRITE_UPDATE_HANDLERS">SPRITE_UPDATE_HANDLERS</a> [$PRG14::814d]
;============================================================================
</div><span class="l"><a class="anc" name="a5d2" href="#a5d2">[a5d2]</a><a href="#SpriteUpdateHandler_Effect_Spring" class="la">SpriteUpdateHandler_Effect_Spring:</a><span class="ce">; [$a5d2]</span></span>
<span class="l"><a class="anc" name="a5d2" href="#a5d2">[a5d2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5d5" href="#a5d5">[a5d5]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#RETURN_A5CB">RETURN_A5CB</a></span></span></span>
<span class="l"><a class="anc" name="a5d7" href="#a5d7">[a5d7]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a5d9" href="#a5d9">[a5d9]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__a5de">@LAB_PRG14__a5de</a></span></span></span>
<span class="l"><a class="anc" name="a5db" href="#a5db">[a5db]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteUpdateHandler_Effect_Fountain">SpriteUpdateHandler_Effect_Fountain</a></span></span></span>
<span class="l"></span>
<a name=":a5de:@LAB_PRG14__a5de"></a><span class="l"><a class="anc" name="a5de" href="#a5de">[a5de]</a><a href="#:a5de:@LAB_PRG14__a5de" class="lla">@LAB_PRG14__a5de:</a><span class="ce">; [$a5de]</span></span>
<span class="l"><a class="anc" name="a5de" href="#a5de">[a5de]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_UpdateFlipMask">CurrentSprite_UpdateFlipMask</a></span></span></span>
<span class="l"><a class="anc" name="a5e1" href="#a5e1">[a5e1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a5e4" href="#a5e4">[a5e4]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_EnterNextAppearancePhase">Sprite_EnterNextAppearancePhase</a></span></span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIORS"></a><div class="c">;
; XREFS:
;     <a href="#Sprites_UpdateBehavior">Sprites_UpdateBehavior</a>
;
</div><span class="l"><a class="anc" name="a5e7" href="#a5e7">[a5e7]</a><a href="#SPRITE_BEHAVIORS" class="la">SPRITE_BEHAVIORS:</a><span class="ce">; [$a5e7]</span></span>
<span class="l"><a class="anc" name="a5e7" href="#a5e7">[a5e7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_MoveTowardPlayer">SpriteBehavior_MoveTowardPlayer</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]: Common</span></span>
<span class="l"><a class="anc" name="a5e9" href="#a5e9">[a5e9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Wait">SpriteBehavior_Wait</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Common</span></span>
<span class="l"><a class="anc" name="a5eb" href="#a5eb">[a5eb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Item: Dropped coin</span></span>
<span class="l"><a class="anc" name="a5ed" href="#a5ed">[a5ed]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Garbled3">SpriteBehavior_Garbled3</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="a5ef" href="#a5ef">[a5ef]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Common</span></span>
<span class="l"><a class="anc" name="a5f1" href="#a5f1">[a5f1]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Return">SpriteBehavior_Return</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="a5f3" href="#a5f3">[a5f3]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_EnemyUnused18">SpriteBehavior_EnemyUnused18</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="a5f5" href="#a5f5">[a5f5]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_LightningBallOrCharron">SpriteBehavior_LightningBallOrCharron</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="a5f7" href="#a5f7">[a5f7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_LightningBallOrCharron">SpriteBehavior_LightningBallOrCharron</a>-1) &amp; $FFFF</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="a5f9" href="#a5f9">[a5f9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>-1) &amp; $FFFF</span></span><span class="ce">; [9]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="a5fb" href="#a5fb">[a5fb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>-1) &amp; $FFFF</span></span><span class="ce">; [10]: Boss: Dragon boss guy</span></span>
<span class="l"><a class="anc" name="a5fd" href="#a5fd">[a5fd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Return">SpriteBehavior_Return</a>-1) &amp; $FFFF</span></span><span class="ce">; [11]:</span></span>
<span class="l"><a class="anc" name="a5ff" href="#a5ff">[a5ff]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>-1) &amp; $FFFF</span></span><span class="ce">; [12]:</span></span>
<span class="l"><a class="anc" name="a601" href="#a601">[a601]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>-1) &amp; $FFFF</span></span><span class="ce">; [13]:</span></span>
<span class="l"><a class="anc" name="a603" href="#a603">[a603]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Zorugeriru">SpriteBehavior_Zorugeriru</a>-1) &amp; $FFFF</span></span><span class="ce">; [14]:</span></span>
<span class="l"><a class="anc" name="a605" href="#a605">[a605]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>-1) &amp; $FFFF</span></span><span class="ce">; [15]:</span></span>
<span class="l"><a class="anc" name="a607" href="#a607">[a607]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>-1) &amp; $FFFF</span></span><span class="ce">; [16]:</span></span>
<span class="l"><a class="anc" name="a609" href="#a609">[a609]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>-1) &amp; $FFFF</span></span><span class="ce">; [17]:</span></span>
<span class="l"><a class="anc" name="a60b" href="#a60b">[a60b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>-1) &amp; $FFFF</span></span><span class="ce">; [18]:</span></span>
<span class="l"><a class="anc" name="a60d" href="#a60d">[a60d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_MoveVertically">SpriteBehavior_MoveVertically</a>-1) &amp; $FFFF</span></span><span class="ce">; [19]:</span></span>
<span class="l"><a class="anc" name="a60f" href="#a60f">[a60f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior__a8d7">SpriteBehavior__a8d7</a>-1) &amp; $FFFF</span></span><span class="ce">; [20]:</span></span>
<span class="l"><a class="anc" name="a611" href="#a611">[a611]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>-1) &amp; $FFFF</span></span><span class="ce">; [21]: Common</span></span>
<span class="l"><a class="anc" name="a613" href="#a613">[a613]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>-1) &amp; $FFFF</span></span><span class="ce">; [22]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="a615" href="#a615">[a615]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>-1) &amp; $FFFF</span></span><span class="ce">; [23]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="a617" href="#a617">[a617]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>-1) &amp; $FFFF</span></span><span class="ce">; [24]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="a619" href="#a619">[a619]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>-1) &amp; $FFFF</span></span><span class="ce">; [25]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="a61b" href="#a61b">[a61b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>-1) &amp; $FFFF</span></span><span class="ce">; [26]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="a61d" href="#a61d">[a61d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_EnemyMagic">SpriteBehavior_EnemyMagic</a>-1) &amp; $FFFF</span></span><span class="ce">; [27]:</span></span>
<span class="l"><a class="anc" name="a61f" href="#a61f">[a61f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#_thunk_SpriteBehavior__a0cb">_thunk_SpriteBehavior__a0cb</a>-1) &amp; $FFFF</span></span><span class="ce">; [28]:</span></span>
<span class="l"><a class="anc" name="a621" href="#a621">[a621]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Unknown_29">SpriteBehavior_Unknown_29</a>-1) &amp; $FFFF</span></span><span class="ce">; [29]:</span></span>
<span class="l"><a class="anc" name="a623" href="#a623">[a623]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7">_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7</a>-1) &amp; $FFFF</span></span><span class="ce">; [30]:</span></span>
<span class="l"><a class="anc" name="a625" href="#a625">[a625]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_FlashScreenHitPlayer">SpriteBehavior_FlashScreenHitPlayer</a>-1) &amp; $FFFF</span></span><span class="ce">; [31]:</span></span>
<span class="l"><a class="anc" name="a627" href="#a627">[a627]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>-1) &amp; $FFFF</span></span><span class="ce">; [32]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="a629" href="#a629">[a629]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>-1) &amp; $FFFF</span></span><span class="ce">; [33]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="a62b" href="#a62b">[a62b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Yareeka">SpriteBehavior_Yareeka</a>-1) &amp; $FFFF</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="a62d" href="#a62d">[a62d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Magman">SpriteBehavior_Magman</a>-1) &amp; $FFFF</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="a62f" href="#a62f">[a62f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>-1) &amp; $FFFF</span></span><span class="ce">; [36]: Enemy: Unused 36</span></span>
<span class="l"><a class="anc" name="a631" href="#a631">[a631]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_EnemyUnused39">SpriteBehavior_EnemyUnused39</a>-1) &amp; $FFFF</span></span><span class="ce">; [37]: Enemy: Unused 39</span></span>
<span class="l"><a class="anc" name="a633" href="#a633">[a633]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>-1) &amp; $FFFF</span></span><span class="ce">; [38]: Enemy: Unused 43</span></span>
<span class="l"><a class="anc" name="a635" href="#a635">[a635]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>-1) &amp; $FFFF</span></span><span class="ce">; [39]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="a637" href="#a637">[a637]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>-1) &amp; $FFFF</span></span><span class="ce">; [40]: Enemy: Sir Gawaine
Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="a639" href="#a639">[a639]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Ointment">SpriteBehavior_Ointment</a>-1) &amp; $FFFF</span></span><span class="ce">; [41]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="a63b" href="#a63b">[a63b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Glove">SpriteBehavior_Glove</a>-1) &amp; $FFFF</span></span><span class="ce">; [42]: Item: Glove</span></span>
<span class="l"><a class="anc" name="a63d" href="#a63d">[a63d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_BattleSuitDroppedByZoradohna">SpriteBehavior_BattleSuitDroppedByZoradohna</a>-1) &amp; $FFFF</span></span><span class="ce">; [43]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="a63f" href="#a63f">[a63f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna">SpriteBehavior_BattleHelmetDroppedByZoradohna</a>-1) &amp; $FFFF</span></span><span class="ce">; [44]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="a641" href="#a641">[a641]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve">SpriteBehavior_DragonSlayerDroppedByKingGrieve</a>-1) &amp; $FFFF</span></span><span class="ce">; [45]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="a643" href="#a643">[a643]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_MattockDroppedFromRipasheiku">SpriteBehavior_MattockDroppedFromRipasheiku</a>-1) &amp; $FFFF</span></span><span class="ce">; [46]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="a645" href="#a645">[a645]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_WingBootsDroppedByZorugeriru">SpriteBehavior_WingBootsDroppedByZorugeriru</a>-1) &amp; $FFFF</span></span><span class="ce">; [47]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="a647" href="#a647">[a647]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_BlackOnyxDropFromZoradohna">SpriteBehavior_BlackOnyxDropFromZoradohna</a>-1) &amp; $FFFF</span></span><span class="ce">; [48]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="a649" href="#a649">[a649]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_PendantDroppedFromRipasheiku">SpriteBehavior_PendantDroppedFromRipasheiku</a>-1) &amp; $FFFF</span></span><span class="ce">; [49]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="a64b" href="#a64b">[a64b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_50">SpriteBehavior_RandomlyShowItem_50</a>-1) &amp; $FFFF</span></span><span class="ce">; [50]:</span></span>
<span class="l"><a class="anc" name="a64d" href="#a64d">[a64d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_51">SpriteBehavior_RandomlyShowItem_51</a>-1) &amp; $FFFF</span></span><span class="ce">; [51]:</span></span>
<span class="l"><a class="anc" name="a64f" href="#a64f">[a64f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_52">SpriteBehavior_RandomlyShowItem_52</a>-1) &amp; $FFFF</span></span><span class="ce">; [52]:</span></span>
<span class="l"><a class="anc" name="a651" href="#a651">[a651]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_53">SpriteBehavior_RandomlyShowItem_53</a>-1) &amp; $FFFF</span></span><span class="ce">; [53]:</span></span>
<span class="l"><a class="anc" name="a653" href="#a653">[a653]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_54">SpriteBehavior_RandomlyShowItem_54</a>-1) &amp; $FFFF</span></span><span class="ce">; [54]:</span></span>
<span class="l"><a class="anc" name="a655" href="#a655">[a655]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_55">SpriteBehavior_RandomlyShowItem_55</a>-1) &amp; $FFFF</span></span><span class="ce">; [55]:</span></span>
<span class="l"><a class="anc" name="a657" href="#a657">[a657]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_RandomlyShowItem_56">SpriteBehavior_RandomlyShowItem_56</a>-1) &amp; $FFFF</span></span><span class="ce">; [56]:</span></span>
<span class="l"><a class="anc" name="a659" href="#a659">[a659]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Fountain">SpriteBehavior_Fountain</a>-1) &amp; $FFFF</span></span><span class="ce">; [57]: Spring of Fountain</span></span>
<span class="l"><a class="anc" name="a65b" href="#a65b">[a65b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_SpringOfFortress">SpriteBehavior_SpringOfFortress</a>-1) &amp; $FFFF</span></span><span class="ce">; [58]: Spring of Fortress</span></span>
<span class="l"><a class="anc" name="a65d" href="#a65d">[a65d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_SpringOfSky">SpriteBehavior_SpringOfSky</a>-1) &amp; $FFFF</span></span><span class="ce">; [59]: Spring of Sky</span></span>
<span class="l"><a class="anc" name="a65f" href="#a65f">[a65f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_SpringOfJoker">SpriteBehavior_SpringOfJoker</a>-1) &amp; $FFFF</span></span><span class="ce">; [60]: Spring of Joker</span></span>
<span class="l"><a class="anc" name="a661" href="#a661">[a661]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_ShowMagicalRod">SpriteBehavior_ShowMagicalRod</a>-1) &amp; $FFFF</span></span><span class="ce">; [61]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="a663" href="#a663">[a663]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_BossDeath">SpriteBehavior_BossDeath</a>-1) &amp; $FFFF</span></span><span class="ce">; [62]: Effect: Boss Death</span></span>
<span class="l"><a class="anc" name="a665" href="#a665">[a665]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>-1) &amp; $FFFF</span></span><span class="ce">; [63]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="a667" href="#a667">[a667]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>-1) &amp; $FFFF</span></span><span class="ce">; [64]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="a669" href="#a669">[a669]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>-1) &amp; $FFFF</span></span><span class="ce">; [65]: Enemy: Execution Hood</span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_UpdateBehavior"></a><div class="cp">;============================================================================
; TODO: Document Sprites_UpdateBehavior
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#LAB_PRG14__802e">LAB_PRG14__802e</a> [$PRG14::802e]
;============================================================================
</div><span class="l"><a class="anc" name="a66b" href="#a66b">[a66b]</a><a href="#Sprites_UpdateBehavior" class="la">Sprites_UpdateBehavior:</a><span class="ce">; [$a66b]</span></span>
<span class="l"><a class="anc" name="a66b" href="#a66b">[a66b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#DurationHourGlass">DurationHourGlass</a></span></span></span>
<span class="l"><a class="anc" name="a66e" href="#a66e">[a66e]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__a679">@LAB_PRG14__a679</a></span></span></span>
<span class="l"><a class="anc" name="a670" href="#a670">[a670]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="a673" href="#a673">[a673]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_CATEGORIES_BY_ENTITY">SPRITE_CATEGORIES_BY_ENTITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a676" href="#a676">[a676]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a679">@LAB_PRG14__a679</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is an enemy sprite, and the Hour Glass is active.
; Don't run any behavior updates.
;
</div><span class="l"><a class="anc" name="a678" href="#a678">[a678]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":a679:@LAB_PRG14__a679"></a><div class="c">;
; Set the currently-processing sprite behavior address to
; the one from the current sprites map.
;
</div><span class="l"><a class="anc" name="a679" href="#a679">[a679]</a><a href="#:a679:@LAB_PRG14__a679" class="lla">@LAB_PRG14__a679:</a><span class="ce">; [$a679]</span></span>
<span class="l"><a class="anc" name="a679" href="#a679">[a679]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="a67c" href="#a67c">[a67c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>,X</span></span></span>
<span class="l"><a class="anc" name="a67f" href="#a67f">[a67f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span></span>
<span class="l"><a class="anc" name="a681" href="#a681">[a681]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>,X</span></span></span>
<span class="l"><a class="anc" name="a684" href="#a684">[a684]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span></span>
<span class="l"><a class="anc" name="a686" href="#a686">[a686]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span></span>
<span class="l"><a class="anc" name="a689" href="#a689">[a689]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a68c" href="#a68c">[a68c]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a68d" href="#a68d">[a68d]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="a68e" href="#a68e">[a68e]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$84</span></span></span>
<span class="l"><a class="anc" name="a690" href="#a690">[a690]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_updateCurrentSprites">@_updateCurrentSprites</a></span></span></span>
<span class="l"><a class="anc" name="a692" href="#a692">[a692]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$a6</span></span></span>
<span class="l"><a class="anc" name="a694" href="#a694">[a694]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a695" href="#a695">[a695]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$a0</span></span></span>
<span class="l"><a class="anc" name="a697" href="#a697">[a697]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a698" href="#a698">[a698]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="a69b" href="#a69b">[a69b]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a69c" href="#a69c">[a69c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a69f" href="#a69f">[a69f]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a6a0" href="#a6a0">[a6a0]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":a6a1:@_updateCurrentSprites"></a><div class="c">;
; Update the map of current sprites to sprite behavior addresses
; with the updated address.
;
</div><span class="l"><a class="anc" name="a6a1" href="#a6a1">[a6a1]</a><a href="#:a6a1:@_updateCurrentSprites" class="lla">@_updateCurrentSprites:</a><span class="ce">; [$a6a1]</span></span>
<span class="l"><a class="anc" name="a6a1" href="#a6a1">[a6a1]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="a6a4" href="#a6a4">[a6a4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span></span>
<span class="l"><a class="anc" name="a6a6" href="#a6a6">[a6a6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6a9" href="#a6a9">[a6a9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span></span>
<span class="l"><a class="anc" name="a6ab" href="#a6ab">[a6ab]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>,X</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteBehavior_Return"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Return
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5f1]
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5fd]
;     <a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a>
;============================================================================
</div><span class="l"><a class="anc" name="a6ae" href="#a6ae">[a6ae]</a><a href="#SpriteBehavior_Return" class="la">SpriteBehavior_Return:</a><span class="ce">; [$a6ae]</span></span>
<span class="l"><a class="anc" name="a6ae" href="#a6ae">[a6ae]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_CountdownBehavior"></a><div class="cp">;============================================================================
; TODO: Document Sprites_CountdownBehavior
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>
;     <a href="#SpriteBehavior_MoveVertically">SpriteBehavior_MoveVertically</a>
;     <a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_Wait">SpriteBehavior_Wait</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a>
;============================================================================
</div><span class="l"><a class="anc" name="a6af" href="#a6af">[a6af]</a><a href="#Sprites_CountdownBehavior" class="la">Sprites_CountdownBehavior:</a><span class="ce">; [$a6af]</span></span>
<span class="l"><a class="anc" name="a6af" href="#a6af">[a6af]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorArg1">CurrentSprites_BehaviorArg1</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6b2" href="#a6b2">[a6b2]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SpriteBehavior_Return">SpriteBehavior_Return</a></span></span></span>
<span class="l"><a class="anc" name="a6b4" href="#a6b4">[a6b4]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorArg1">CurrentSprites_BehaviorArg1</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6b7" href="#a6b7">[a6b7]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior_Return">SpriteBehavior_Return</a></span></span></span>
<span class="l"><a class="anc" name="a6b9" href="#a6b9">[a6b9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="BScripts_LoadNextOp"></a><div class="cp">;============================================================================
; TODO: Document BScripts_LoadNextOp
;
; INPUTS:
;     X
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#BScript_Op_AddToSpriteData">BScript_Op_AddToSpriteData</a>
;     <a href="#BScript_Op_FinishBehavior">BScript_Op_FinishBehavior</a>
;     <a href="#BScript_Op_GoTo">BScript_Op_GoTo</a>
;     <a href="#BScript_Op_SetPhase">BScript_Op_SetPhase</a>
;     <a href="#SpriteOp_CheckDistanceToPlayer_X">SpriteOp_CheckDistanceToPlayer_X</a>
;     <a href="#SpriteOp_CheckDistanceToPlayer_Y">SpriteOp_CheckDistanceToPlayer_Y</a>
;     <a href="#Sprites_MaybeDisableAndGoTo">Sprites_MaybeDisableAndGoTo</a>
;     <a href="#Sprites_Maybe_Skip2AndLoadNextAction">Sprites_Maybe_Skip2AndLoadNextAction</a>
;     <a href="#Sprites_UpdateBehavior">Sprites_UpdateBehavior</a>
;============================================================================
</div><span class="l"><a class="anc" name="a6bc" href="#a6bc">[a6bc]</a><a href="#BScripts_LoadNextOp" class="la">BScripts_LoadNextOp:</a><span class="ce">; [$a6bc]</span></span>
<span class="l"><a class="anc" name="a6bc" href="#a6bc">[a6bc]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a6be" href="#a6be">[a6be]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a6c0" href="#a6c0">[a6c0]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="a6c2" href="#a6c2">[a6c2]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__a6cf">@LAB_PRG14__a6cf</a></span></span></span>
<span class="l"><a class="anc" name="a6c4" href="#a6c4">[a6c4]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a6c5" href="#a6c5">[a6c5]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="a6c6" href="#a6c6">[a6c6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="a6c9" href="#a6c9">[a6c9]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a6ca" href="#a6ca">[a6ca]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a6cd" href="#a6cd">[a6cd]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a6ce" href="#a6ce">[a6ce]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a6cf:@LAB_PRG14__a6cf"></a><span class="l"><a class="anc" name="a6cf" href="#a6cf">[a6cf]</a><a href="#:a6cf:@LAB_PRG14__a6cf" class="lla">@LAB_PRG14__a6cf:</a><span class="ce">; [$a6cf]</span></span>
<span class="l"><a class="anc" name="a6cf" href="#a6cf">[a6cf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6d2" href="#a6d2">[a6d2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="a6d4" href="#a6d4">[a6d4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6d7" href="#a6d7">[a6d7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BSCRIPT_OP_HANDLERS"></a><div class="c">;
; XREFS:
;     <a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a>
;
</div><span class="l"><a class="anc" name="a6d8" href="#a6d8">[a6d8]</a><a href="#BSCRIPT_OP_HANDLERS" class="la">BSCRIPT_OP_HANDLERS:</a><span class="ce">; [$a6d8]</span></span>
<span class="l"><a class="anc" name="a6d8" href="#a6d8">[a6d8]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_SwitchBehavior">BScript_Op_SwitchBehavior</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a6da" href="#a6da">[a6da]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_MaybeDisableAndGoTo">BScript_Op_MaybeDisableAndGoTo</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="a6dc" href="#a6dc">[a6dc]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_RunAction">BScript_Op_RunAction</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="a6de" href="#a6de">[a6de]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_CheckDistanceToPlayer">BScript_Op_CheckDistanceToPlayer</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="a6e0" href="#a6e0">[a6e0]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_FinishBehavior">BScript_Op_FinishBehavior</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="a6e2" href="#a6e2">[a6e2]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_GoTo">BScript_Op_GoTo</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="a6e4" href="#a6e4">[a6e4]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_AddToSpriteData">BScript_Op_AddToSpriteData</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="a6e6" href="#a6e6">[a6e6]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Op_SetPhase">BScript_Op_SetPhase</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_SetPhase"></a><div class="cp">;============================================================================
; TODO: Document BScript_Op_SetPhase
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6e6]
;============================================================================
</div><span class="l"><a class="anc" name="a6e8" href="#a6e8">[a6e8]</a><a href="#BScript_Op_SetPhase" class="la">BScript_Op_SetPhase:</a><span class="ce">; [$a6e8]</span></span>
<span class="l"><a class="anc" name="a6e8" href="#a6e8">[a6e8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6eb" href="#a6eb">[a6eb]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__a6f0">@LAB_PRG14__a6f0</a></span></span></span>
<span class="l"><a class="anc" name="a6ed" href="#a6ed">[a6ed]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#RETURN_A771">RETURN_A771</a></span></span></span>
<span class="l"></span>
<a name=":a6f0:@LAB_PRG14__a6f0"></a><span class="l"><a class="anc" name="a6f0" href="#a6f0">[a6f0]</a><a href="#:a6f0:@LAB_PRG14__a6f0" class="lla">@LAB_PRG14__a6f0:</a><span class="ce">; [$a6f0]</span></span>
<span class="l"><a class="anc" name="a6f0" href="#a6f0">[a6f0]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a6f2" href="#a6f2">[a6f2]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a6f4" href="#a6f4">[a6f4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a6f7" href="#a6f7">[a6f7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a6f9" href="#a6f9">[a6f9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a6fc" href="#a6fc">[a6fc]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_SwitchBehavior"></a><div class="cp">;============================================================================
; TODO: Document BScript_Op_SwitchBehavior
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6d8]
;============================================================================
</div><span class="l"><a class="anc" name="a6ff" href="#a6ff">[a6ff]</a><a href="#BScript_Op_SwitchBehavior" class="la">BScript_Op_SwitchBehavior:</a><span class="ce">; [$a6ff]</span></span>
<span class="l"><a class="anc" name="a6ff" href="#a6ff">[a6ff]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a702" href="#a702">[a702]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__a707">@LAB_PRG14__a707</a></span></span></span>
<span class="l"><a class="anc" name="a704" href="#a704">[a704]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#RETURN_A771">RETURN_A771</a></span></span></span>
<span class="l"></span>
<a name=":a707:@LAB_PRG14__a707"></a><span class="l"><a class="anc" name="a707" href="#a707">[a707]</a><a href="#:a707:@LAB_PRG14__a707" class="lla">@LAB_PRG14__a707:</a><span class="ce">; [$a707]</span></span>
<span class="l"><a class="anc" name="a707" href="#a707">[a707]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a70a" href="#a70a">[a70a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a70c" href="#a70c">[a70c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a70f" href="#a70f">[a70f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a711" href="#a711">[a711]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a713" href="#a713">[a713]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a716" href="#a716">[a716]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a717" href="#a717">[a717]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a719" href="#a719">[a719]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorArg1">CurrentSprites_BehaviorArg1</a>,X</span></span></span>
<span class="l"><a class="anc" name="a71c" href="#a71c">[a71c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a71e" href="#a71e">[a71e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a721" href="#a721">[a721]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a724" href="#a724">[a724]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$06</span></span></span>
<span class="l"><a class="anc" name="a726" href="#a726">[a726]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="a728" href="#a728">[a728]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#FUN_PRG14__9917">FUN_PRG14__9917</a></span></span></span>
<span class="l"></span>
<a name=":a72b:@_return"></a><span class="l"><a class="anc" name="a72b" href="#a72b">[a72b]</a><a href="#:a72b:@_return" class="lla">@_return:</a><span class="ce">; [$a72b]</span></span>
<span class="l"><a class="anc" name="a72b" href="#a72b">[a72b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_MaybeDisableAndGoTo"></a><div class="cp">;============================================================================
; TODO: Document BScript_Op_MaybeDisableAndGoTo
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6da]
;============================================================================
</div><span class="l"><a class="anc" name="a72c" href="#a72c">[a72c]</a><a href="#BScript_Op_MaybeDisableAndGoTo" class="la">BScript_Op_MaybeDisableAndGoTo:</a><span class="ce">; [$a72c]</span></span>
<span class="l"><a class="anc" name="a72c" href="#a72c">[a72c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a72f" href="#a72f">[a72f]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#Sprites_MaybeDisableAndGoTo">Sprites_MaybeDisableAndGoTo</a></span></span></span>
<span class="l"><a class="anc" name="a731" href="#a731">[a731]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#RETURN_A771">RETURN_A771</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_MaybeDisableAndGoTo"></a><div class="cp">;============================================================================
; TODO: Document Sprites_MaybeDisableAndGoTo
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BScript_Op_MaybeDisableAndGoTo">BScript_Op_MaybeDisableAndGoTo</a>
;============================================================================
</div><span class="l"><a class="anc" name="a734" href="#a734">[a734]</a><a href="#Sprites_MaybeDisableAndGoTo" class="la">Sprites_MaybeDisableAndGoTo:</a><span class="ce">; [$a734]</span></span>
<span class="l"><a class="anc" name="a734" href="#a734">[a734]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a736" href="#a736">[a736]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a739" href="#a739">[a739]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a73b" href="#a73b">[a73b]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a73d" href="#a73d">[a73d]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a73e" href="#a73e">[a73e]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a73f" href="#a73f">[a73f]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a741" href="#a741">[a741]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span></span>
<span class="l"><a class="anc" name="a743" href="#a743">[a743]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="a744" href="#a744">[a744]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span></span>
<span class="l"><a class="anc" name="a746" href="#a746">[a746]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span></span>
<span class="l"><a class="anc" name="a749" href="#a749">[a749]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_GoTo"></a><div class="cp">;============================================================================
; TODO: Document BScript_Op_GoTo
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6e2]
;============================================================================
</div><span class="l"><a class="anc" name="a74c" href="#a74c">[a74c]</a><a href="#BScript_Op_GoTo" class="la">BScript_Op_GoTo:</a><span class="ce">; [$a74c]</span></span>
<span class="l"><a class="anc" name="a74c" href="#a74c">[a74c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a74f" href="#a74f">[a74f]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__a754">@LAB_PRG14__a754</a></span></span></span>
<span class="l"><a class="anc" name="a751" href="#a751">[a751]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#RETURN_A771">RETURN_A771</a></span></span></span>
<span class="l"></span>
<a name=":a754:@LAB_PRG14__a754"></a><span class="l"><a class="anc" name="a754" href="#a754">[a754]</a><a href="#:a754:@LAB_PRG14__a754" class="lla">@LAB_PRG14__a754:</a><span class="ce">; [$a754]</span></span>
<span class="l"><a class="anc" name="a754" href="#a754">[a754]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a756" href="#a756">[a756]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a759" href="#a759">[a759]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a75b" href="#a75b">[a75b]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a75d" href="#a75d">[a75d]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a75e" href="#a75e">[a75e]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a75f" href="#a75f">[a75f]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a761" href="#a761">[a761]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span></span>
<span class="l"><a class="anc" name="a763" href="#a763">[a763]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="a764" href="#a764">[a764]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span></span>
<span class="l"><a class="anc" name="a766" href="#a766">[a766]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a768" href="#a768">[a768]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="a76b" href="#a76b">[a76b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span></span>
<span class="l"><a class="anc" name="a76e" href="#a76e">[a76e]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span></span>
<span class="l"></span>
<a name="RETURN_A771"></a><div class="c">;
; XREFS:
;     <a href="#BScript_Op_GoTo">BScript_Op_GoTo</a>
;     <a href="#BScript_Op_MaybeDisableAndGoTo">BScript_Op_MaybeDisableAndGoTo</a>
;     <a href="#BScript_Op_RunAction">BScript_Op_RunAction</a>
;     <a href="#BScript_Op_SetPhase">BScript_Op_SetPhase</a>
;     <a href="#BScript_Op_SwitchBehavior">BScript_Op_SwitchBehavior</a>
;
</div><span class="l"><a class="anc" name="a771" href="#a771">[a771]</a><a href="#RETURN_A771" class="la">RETURN_A771:</a><span class="ce">; [$a771]</span></span>
<span class="l"><a class="anc" name="a771" href="#a771">[a771]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_RunAction"></a><div class="cp">;============================================================================
; TODO: Document BScript_Op_RunAction
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6dc]
;============================================================================
</div><span class="l"><a class="anc" name="a772" href="#a772">[a772]</a><a href="#BScript_Op_RunAction" class="la">BScript_Op_RunAction:</a><span class="ce">; [$a772]</span></span>
<span class="l"><a class="anc" name="a772" href="#a772">[a772]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a775" href="#a775">[a775]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#RETURN_A771">RETURN_A771</a></span></span></span>
<span class="l"><a class="anc" name="a777" href="#a777">[a777]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="a779" href="#a779">[a779]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a77b" href="#a77b">[a77b]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="a77c" href="#a77c">[a77c]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="a77d" href="#a77d">[a77d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$a7</span></span></span>
<span class="l"><a class="anc" name="a77f" href="#a77f">[a77f]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a780" href="#a780">[a780]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$8b</span></span></span>
<span class="l"><a class="anc" name="a782" href="#a782">[a782]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a783" href="#a783">[a783]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="a786" href="#a786">[a786]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a787" href="#a787">[a787]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="a78a" href="#a78a">[a78a]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="a78b" href="#a78b">[a78b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprites_Maybe_Skip2AndLoadNextAction"></a><div class="cp">;============================================================================
; TODO: Document Sprites_Maybe_Skip2AndLoadNextAction
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;============================================================================
</div><span class="l"><a class="anc" name="a78c" href="#a78c">[a78c]</a><a href="#Sprites_Maybe_Skip2AndLoadNextAction" class="la">Sprites_Maybe_Skip2AndLoadNextAction:</a><span class="ce">; [$a78c]</span></span>
<span class="l"><a class="anc" name="a78c" href="#a78c">[a78c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a78e" href="#a78e">[a78e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a791" href="#a791">[a791]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span></span>
<span class="l"></span>
<a name="BSCRIPT_ACTIONS"></a><div class="c">;
; XREFS:
;     <a href="#BScript_Op_RunAction">BScript_Op_RunAction</a>
;
</div><span class="l"><a class="anc" name="a794" href="#a794">[a794]</a><a href="#BSCRIPT_ACTIONS" class="la">BSCRIPT_ACTIONS:</a><span class="ce">; [$a794]</span></span>
<span class="l"><a class="anc" name="a794" href="#a794">[a794]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_FacePlayerX">BScript_Action_FacePlayerX</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]: Face Player (X)</span></span>
<span class="l"><a class="anc" name="a796" href="#a796">[a796]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_FlipXDirection">BScript_Action_FlipXDirection</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Flip X Direction</span></span>
<span class="l"><a class="anc" name="a798" href="#a798">[a798]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_FacePlayerY">BScript_Action_FacePlayerY</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Face Player (Y)</span></span>
<span class="l"><a class="anc" name="a79a" href="#a79a">[a79a]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]: Flip Y Direction</span></span>
<span class="l"><a class="anc" name="a79c" href="#a79c">[a79c]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_RandomlyFlipXDirection">BScript_Action_RandomlyFlipXDirection</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Randomly Flip X Direction</span></span>
<span class="l"><a class="anc" name="a79e" href="#a79e">[a79e]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_RandomlyFlipYDirection">BScript_Action_RandomlyFlipYDirection</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]: Randomly Flip Y Direction</span></span>
<span class="l"><a class="anc" name="a7a0" href="#a7a0">[a7a0]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_RiseUp">BScript_Action_RiseUp</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]: Rise Up</span></span>
<span class="l"><a class="anc" name="a7a2" href="#a7a2">[a7a2]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#BScript_Action_CastMagic">BScript_Action_CastMagic</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]: Cast Magic</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_RiseUp"></a><div class="cp">;============================================================================
; BScript Action $06: Rise Up
;
; This will clear the Falling flag for the sprite, causing it to rise up.
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a7a0]
;============================================================================
</div><span class="l"><a class="anc" name="a7a4" href="#a7a4">[a7a4]</a><a href="#BScript_Action_RiseUp" class="la">BScript_Action_RiseUp:</a><span class="ce">; [$a7a4]</span></span>
<span class="l"><a class="anc" name="a7a4" href="#a7a4">[a7a4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="a7a7" href="#a7a7">[a7a7]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span><span class="ce">; Clear the Falling bit.</span></span>
<span class="l"><a class="anc" name="a7a9" href="#a7a9">[a7a9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a7ac" href="#a7ac">[a7ac]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_RandomlyFlipXDirection"></a><div class="cp">;============================================================================
; BScript Action $04: Randomly flip the X direction.
;
; This will generate a random number. If it's &lt; 128, the sprite will face
; right. Otherwise it will face left.
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a79c]
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;============================================================================
</div><span class="l"><a class="anc" name="a7ad" href="#a7ad">[a7ad]</a><a href="#BScript_Action_RandomlyFlipXDirection" class="la">BScript_Action_RandomlyFlipXDirection:</a><span class="ce">; [$a7ad]</span></span>
<span class="l"><a class="anc" name="a7ad" href="#a7ad">[a7ad]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#GetRandom">GetRandom</a></span></span><span class="ce">; Load a random value.</span></span>
<span class="l"><a class="anc" name="a7b0" href="#a7b0">[a7b0]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Current sprite index.</span></span>
<span class="l"><a class="anc" name="a7b3" href="#a7b3">[a7b3]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$80</span></span><span class="ce">; Is the random value &lt; 128?</span></span>
<span class="l"><a class="anc" name="a7b5" href="#a7b5">[a7b5]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_setFaceRight">@_setFaceRight</a></span></span><span class="ce">; If so, jump to set facing right.</span></span>
<span class="l"><a class="anc" name="a7b7" href="#a7b7">[a7b7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite flags.</span></span>
<span class="l"><a class="anc" name="a7ba" href="#a7ba">[a7ba]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span><span class="ce">; Clear the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="a7bc" href="#a7bc">[a7bc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a7bf" href="#a7bf">[a7bf]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a7c0:@_setFaceRight"></a><span class="l"><a class="anc" name="a7c0" href="#a7c0">[a7c0]</a><a href="#:a7c0:@_setFaceRight" class="lla">@_setFaceRight:</a><span class="ce">; [$a7c0]</span></span>
<span class="l"><a class="anc" name="a7c0" href="#a7c0">[a7c0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite flags.</span></span>
<span class="l"><a class="anc" name="a7c3" href="#a7c3">[a7c3]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$01</span></span><span class="ce">; Set the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="a7c5" href="#a7c5">[a7c5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a7c8" href="#a7c8">[a7c8]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="BScript_Action_RandomlyFlipYDirection"></a><div class="cp">;============================================================================
; BScript Action $05: Randomly flip the Y direction.
;
; This will generate a random number. If it's &lt; 128, the sprite will fall.
; Otherwise it will rise.
;
; XREFS:
;     <a href="#BSCRIPT_ACTIONS">BSCRIPT_ACTIONS</a> [$PRG14::a79e]
;============================================================================
</div><span class="l"><a class="anc" name="a7c9" href="#a7c9">[a7c9]</a><a href="#BScript_Action_RandomlyFlipYDirection" class="la">BScript_Action_RandomlyFlipYDirection:</a><span class="ce">; [$a7c9]</span></span>
<span class="l"><a class="anc" name="a7c9" href="#a7c9">[a7c9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#GetRandom">GetRandom</a></span></span><span class="ce">; Load a random value.</span></span>
<span class="l"><a class="anc" name="a7cc" href="#a7cc">[a7cc]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Current sprite index.</span></span>
<span class="l"><a class="anc" name="a7cf" href="#a7cf">[a7cf]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$80</span></span><span class="ce">; Is the random value &lt; 128?</span></span>
<span class="l"><a class="anc" name="a7d1" href="#a7d1">[a7d1]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_setFalling">@_setFalling</a></span></span><span class="ce">; If so, jump to set falling.</span></span>
<span class="l"><a class="anc" name="a7d3" href="#a7d3">[a7d3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite flags.</span></span>
<span class="l"><a class="anc" name="a7d6" href="#a7d6">[a7d6]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span><span class="ce">; Clear the falling bit.</span></span>
<span class="l"><a class="anc" name="a7d8" href="#a7d8">[a7d8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a7db" href="#a7db">[a7db]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a7dc:@_setFalling"></a><span class="l"><a class="anc" name="a7dc" href="#a7dc">[a7dc]</a><a href="#:a7dc:@_setFalling" class="lla">@_setFalling:</a><span class="ce">; [$a7dc]</span></span>
<span class="l"><a class="anc" name="a7dc" href="#a7dc">[a7dc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite flags.</span></span>
<span class="l"><a class="anc" name="a7df" href="#a7df">[a7df]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span><span class="ce">; Set the falling bit.</span></span>
<span class="l"><a class="anc" name="a7e1" href="#a7e1">[a7e1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a7e4" href="#a7e4">[a7e4]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_CheckDistanceToPlayer"></a><div class="cp">;============================================================================
; BScript Op $03: Check Distance to Player.
;
; Check if the distance between the player and sprite is
; within or outside the given value.
;
; This can check in either the X or Y direction. Depending
; on the result, this will jump to one of two addresses
; defined in the arguments.
;
; Arguments:
;     1. Check direction (0=X, 1=Y) (1 byte)
;     2. Distance value (1 byte)
;     3. Address to jump to if distance &lt; value (2 bytes)
;     4. Address to jump to if distance &gt;= value (2 bytes)
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6de]
;============================================================================
</div><span class="l"><a class="anc" name="a7e5" href="#a7e5">[a7e5]</a><a href="#BScript_Op_CheckDistanceToPlayer" class="la">BScript_Op_CheckDistanceToPlayer:</a><span class="ce">; [$a7e5]</span></span>
<span class="l"><a class="anc" name="a7e5" href="#a7e5">[a7e5]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span><span class="ce">; Y = 1 (op direction argument)</span></span>
<span class="l"><a class="anc" name="a7e7" href="#a7e7">[a7e7]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; Read the direction to check.</span></span>
<span class="l"><a class="anc" name="a7e9" href="#a7e9">[a7e9]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span><span class="ce">; Convert to a word boundary for the lookup table.</span></span>
<span class="l"><a class="anc" name="a7ea" href="#a7ea">[a7ea]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"><a class="anc" name="a7eb" href="#a7eb">[a7eb]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS">SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS</a>+1,Y</span></span><span class="ce">; Load the lower byte of the subcommand address.</span></span>
<span class="l"><a class="anc" name="a7ee" href="#a7ee">[a7ee]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push to the stack.</span></span>
<span class="l"><a class="anc" name="a7ef" href="#a7ef">[a7ef]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS">SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS</a>,Y</span></span><span class="ce">; Load the upper byte of the subcommand address.</span></span>
<span class="l"><a class="anc" name="a7f2" href="#a7f2">[a7f2]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push to the stack.</span></span>
<span class="l"><a class="anc" name="a7f3" href="#a7f3">[a7f3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS"></a><div class="cp">;============================================================================
; Subcommand table for the Check Distance to Player op.
;
; Keys correspond to the first argument to the op.
;
; XREFS:
;     <a href="#BScript_Op_CheckDistanceToPlayer">BScript_Op_CheckDistanceToPlayer</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#BScript_Op_CheckDistanceToPlayer">BScript_Op_CheckDistanceToPlayer</a>
;
</div><span class="l"><a class="anc" name="a7f4" href="#a7f4">[a7f4]</a><a href="#SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS" class="la">SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS:</a><span class="ce">; [$a7f4]</span></span>
<span class="l"><a class="anc" name="a7f4" href="#a7f4">[a7f4]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteOp_CheckDistanceToPlayer_X">SpriteOp_CheckDistanceToPlayer_X</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="a7f6" href="#a7f6">[a7f6]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#SpriteOp_CheckDistanceToPlayer_Y">SpriteOp_CheckDistanceToPlayer_Y</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]:</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="SpriteOp_CheckDistanceToPlayer_X"></a><div class="cp">;============================================================================
; Jump to an address based on X distance between sprite and player.
;
; If the distance is &lt; the value provided to the script,
; this will return the first address (parameter 3).
;
; If the distance is &gt;= the value provided to the script,
; this will return the second address (parameter 4).
;
; INPUTS:
;     X:
;         The sprite index.
;
;     <a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>:
;         The current sprite behaviors.
;
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>:
;         The read address for the script arguments.
;
; OUTPUTS:
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>:
;         The new address to read from.
;
; CALLS:
;     <a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a>
;     <a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a>
;     <a href="#Sprite_CalcDistanceXToPlayer">Sprite_CalcDistanceXToPlayer</a>
;
; XREFS:
;     <a href="#SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS">SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS</a>
;     [$PRG14::a7f4]
;============================================================================
</div><span class="l"><a class="anc" name="a7f8" href="#a7f8">[a7f8]</a><a href="#SpriteOp_CheckDistanceToPlayer_X" class="la">SpriteOp_CheckDistanceToPlayer_X:</a><span class="ce">; [$a7f8]</span></span>
<span class="l"><a class="anc" name="a7f8" href="#a7f8">[a7f8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span><span class="ce">; A = Sprite behavior</span></span>
<span class="l"><a class="anc" name="a7fb" href="#a7fb">[a7fb]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_checkDistance">@_checkDistance</a></span></span><span class="ce">; If the behavior is ready, jump to check.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The behavior is not ready, so skip this check and all
; arguments.
;
</div><span class="l"><a class="anc" name="a7fd" href="#a7fd">[a7fd]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$07</span></span><span class="ce">; 7 = bytes to skip.</span></span>
<span class="l"><a class="anc" name="a7ff" href="#a7ff">[a7ff]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span><span class="ce">; Skip them.</span></span>
<span class="l"><a class="anc" name="a802" href="#a802">[a802]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span><span class="ce">; Load the next operation.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":a805:@_checkDistance"></a><div class="c">;
; Check the distance to the player. This will result in
; jumping to code that sets the address for one of the
; script jump address destinations.
;
</div><span class="l"><a class="anc" name="a805" href="#a805">[a805]</a><a href="#:a805:@_checkDistance" class="lla">@_checkDistance:</a><span class="ce">; [$a805]</span></span>
<span class="l"><a class="anc" name="a805" href="#a805">[a805]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceXToPlayer">Sprite_CalcDistanceXToPlayer</a></span></span><span class="ce">; Calculate the distance between the sprite and player.</span></span>
<span class="l"><a class="anc" name="a808" href="#a808">[a808]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span><span class="ce">; Y = 2 (op distance argument)</span></span>
<span class="l"><a class="anc" name="a80a" href="#a80a">[a80a]</a><span class="cd"><span class="i">CMP</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; Is distance &lt; argument?</span></span>
<span class="l"><a class="anc" name="a80c" href="#a80c">[a80c]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_isLessThan">@_isLessThan</a></span></span><span class="ce">; If so, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The calculated distance is &gt;= the distance argument.
; Choose the second address.
;
</div><span class="l"><a class="anc" name="a80e" href="#a80e">[a80e]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span><span class="ce">; Y = 4</span></span>
<span class="l"><a class="anc" name="a810" href="#a810">[a810]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (5)</span></span>
<span class="l"><a class="anc" name="a811" href="#a811">[a811]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; A = lower byte of jump address.</span></span>
<span class="l"><a class="anc" name="a813" href="#a813">[a813]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push to the stack.</span></span>
<span class="l"><a class="anc" name="a814" href="#a814">[a814]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (6)</span></span>
<span class="l"><a class="anc" name="a815" href="#a815">[a815]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; A = upper byte of jump address.</span></span>
<span class="l"><a class="anc" name="a817" href="#a817">[a817]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span><span class="ce">; Store as the new upper byte of the read address.</span></span>
<span class="l"><a class="anc" name="a819" href="#a819">[a819]</a><span class="cd"><span class="i">PLA</span></span><span class="ce">; Pop the lower byte.</span></span>
<span class="l"><a class="anc" name="a81a" href="#a81a">[a81a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span><span class="ce">; Store as the new lower byte of the read address.</span></span>
<span class="l"><a class="anc" name="a81c" href="#a81c">[a81c]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; Return.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":a81d:@_isLessThan"></a><div class="c">;
; The calculated distance is &lt; the distance argument.
; Choose the first address.
;
</div><span class="l"><a class="anc" name="a81d" href="#a81d">[a81d]</a><a href="#:a81d:@_isLessThan" class="lla">@_isLessThan:</a><span class="ce">; [$a81d]</span></span>
<span class="l"><a class="anc" name="a81d" href="#a81d">[a81d]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (3)</span></span>
<span class="l"><a class="anc" name="a81e" href="#a81e">[a81e]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; A = lower byte of jump address.</span></span>
<span class="l"><a class="anc" name="a820" href="#a820">[a820]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push to the stack.</span></span>
<span class="l"><a class="anc" name="a821" href="#a821">[a821]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (4)</span></span>
<span class="l"><a class="anc" name="a822" href="#a822">[a822]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; A = upper byte of jump address.</span></span>
<span class="l"><a class="anc" name="a824" href="#a824">[a824]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span><span class="ce">; Store as the new upper byte of the read address.</span></span>
<span class="l"><a class="anc" name="a826" href="#a826">[a826]</a><span class="cd"><span class="i">PLA</span></span><span class="ce">; Pop the lower byte.</span></span>
<span class="l"><a class="anc" name="a827" href="#a827">[a827]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span><span class="ce">; Store as the new lower byte of the read address.</span></span>
<span class="l"><a class="anc" name="a829" href="#a829">[a829]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; Return.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="SpriteOp_CheckDistanceToPlayer_Y"></a><div class="cp">;============================================================================
; Jump to an address based on Y distance between sprite and player.
;
; If the distance is &lt; the value provided to the script,
; this will return the first address (parameter 3).
;
; If the distance is &gt;= the value provided to the script,
; this will return the second address (parameter 4).
;
; INPUTS:
;     X:
;         The sprite index.
;
;     <a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>:
;         The current sprite behaviors.
;
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>:
;         The read address for the script arguments.
;
; OUTPUTS:
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>:
;         The new address to read from.
;
; CALLS:
;     <a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a>
;     <a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a>
;     <a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a>
;
; XREFS:
;     <a href="#SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS">SPRITEOP_CHECKDISTANCETOPLAYER_SUBCOMMANDS</a>
;     [$PRG14::a7f6]
;============================================================================
</div><span class="l"><a class="anc" name="a82a" href="#a82a">[a82a]</a><a href="#SpriteOp_CheckDistanceToPlayer_Y" class="la">SpriteOp_CheckDistanceToPlayer_Y:</a><span class="ce">; [$a82a]</span></span>
<span class="l"><a class="anc" name="a82a" href="#a82a">[a82a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span><span class="ce">; A = Sprite behavior</span></span>
<span class="l"><a class="anc" name="a82d" href="#a82d">[a82d]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_checkDistance">@_checkDistance</a></span></span><span class="ce">; If the behavior is ready, jump to check.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The behavior is not ready, so skip this check and all
; arguments.
;
</div><span class="l"><a class="anc" name="a82f" href="#a82f">[a82f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$07</span></span><span class="ce">; 7 = bytes to skip.</span></span>
<span class="l"><a class="anc" name="a831" href="#a831">[a831]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span><span class="ce">; Skip them.</span></span>
<span class="l"><a class="anc" name="a834" href="#a834">[a834]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span><span class="ce">; Load the next operation.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":a837:@_checkDistance"></a><div class="c">;
; Check the distance to the player. This will result in
; a value for Y, which will be the offset to the jump address
; - 1.
;
</div><span class="l"><a class="anc" name="a837" href="#a837">[a837]</a><a href="#:a837:@_checkDistance" class="lla">@_checkDistance:</a><span class="ce">; [$a837]</span></span>
<span class="l"><a class="anc" name="a837" href="#a837">[a837]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_CalcDistanceYToPlayer">Sprite_CalcDistanceYToPlayer</a></span></span><span class="ce">; Calculate the distance between the sprite and player.</span></span>
<span class="l"><a class="anc" name="a83a" href="#a83a">[a83a]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span><span class="ce">; Y = 2 (op distance argument)</span></span>
<span class="l"><a class="anc" name="a83c" href="#a83c">[a83c]</a><span class="cd"><span class="i">CMP</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; Is distance &lt; argument?</span></span>
<span class="l"><a class="anc" name="a83e" href="#a83e">[a83e]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_isLessThan">@_isLessThan</a></span></span><span class="ce">; If so, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The calculated distance is &gt;= the distance argument.
; Choose the first address.
;
</div><span class="l"><a class="anc" name="a840" href="#a840">[a840]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$04</span></span><span class="ce">; Y = 4 (byte before second address)</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":a842:@_isLessThan"></a><div class="c">;
; Load the jump address for the script based on Y above.
;
</div><span class="l"><a class="anc" name="a842" href="#a842">[a842]</a><a href="#:a842:@_isLessThan" class="lla">@_isLessThan:</a><span class="ce">; [$a842]</span></span>
<span class="l"><a class="anc" name="a842" href="#a842">[a842]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (target jump address)</span></span>
<span class="l"><a class="anc" name="a843" href="#a843">[a843]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; A = lower byte of jump address.</span></span>
<span class="l"><a class="anc" name="a845" href="#a845">[a845]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push to the stack.</span></span>
<span class="l"><a class="anc" name="a846" href="#a846">[a846]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++</span></span>
<span class="l"><a class="anc" name="a847" href="#a847">[a847]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; A = upper byte of jump address.</span></span>
<span class="l"><a class="anc" name="a849" href="#a849">[a849]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span><span class="ce">; Store as the new upper byte of the read address.</span></span>
<span class="l"><a class="anc" name="a84b" href="#a84b">[a84b]</a><span class="cd"><span class="i">PLA</span></span><span class="ce">; Pop the lower byte.</span></span>
<span class="l"><a class="anc" name="a84c" href="#a84c">[a84c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span><span class="ce">; Store as the new lower byte of the read address.</span></span>
<span class="l"><a class="anc" name="a84e" href="#a84e">[a84e]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; Return.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_AddToSpriteData"></a><div class="cp">;============================================================================
; Op $06: Add Value To Sprite Data
;
; Add a value to the existing value in a Current Sprites
; data block of RAM, as in:
;
;     existing_value += new_value
;
; This is valid for several collections of Current
; Sprite data in RAM, including:
;
; * <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>
; * <a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>
; * <a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>
; * <a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>
; * <a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>
;
;
; The value will be set for the current sprite in that array.
;
; Arguments:
;     1. Sprites data RAM address (2 bytes)
;     2. Value to set (1 byte)
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6e4]
;============================================================================
</div><span class="l"><a class="anc" name="a84f" href="#a84f">[a84f]</a><a href="#BScript_Op_AddToSpriteData" class="la">BScript_Op_AddToSpriteData:</a><span class="ce">; [$a84f]</span></span>
<div class="c">;
; Load the address from parameter 1.
;
</div><span class="l"><a class="anc" name="a84f" href="#a84f">[a84f]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$01</span></span><span class="ce">; Y = 1 (argument 1, byte 1)</span></span>
<span class="l"><a class="anc" name="a851" href="#a851">[a851]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; Load the lower byte.</span></span>
<span class="l"><a class="anc" name="a853" href="#a853">[a853]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span><span class="ce">; Store as the lower byte of the address to write to.</span></span>
<span class="l"><a class="anc" name="a855" href="#a855">[a855]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (argument 1, byte 2)</span></span>
<span class="l"><a class="anc" name="a856" href="#a856">[a856]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; Load the upper byte.</span></span>
<span class="l"><a class="anc" name="a858" href="#a858">[a858]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span><span class="ce">; Store as the upper byte of the address to write to.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Load the value to set from parameter 2.
;
</div><span class="l"><a class="anc" name="a85a" href="#a85a">[a85a]</a><span class="cd"><span class="i">INY</span></span><span class="ce">; Y++ (argument 2)</span></span>
<span class="l"><a class="anc" name="a85b" href="#a85b">[a85b]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span><span class="ce">; Load the value.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the value in the address.
;
</div><span class="l"><a class="anc" name="a85d" href="#a85d">[a85d]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push the new value to the stack.</span></span>
<span class="l"><a class="anc" name="a85e" href="#a85e">[a85e]</a><span class="cd"><span class="i">TXA</span></span><span class="ce">; A = X (sprite index)</span></span>
<span class="l"><a class="anc" name="a85f" href="#a85f">[a85f]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"><a class="anc" name="a860" href="#a860">[a860]</a><span class="cd"><span class="i">PLA</span></span><span class="ce">; Pop the new value from the stack.</span></span>
<span class="l"><a class="anc" name="a861" href="#a861">[a861]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="a862" href="#a862">[a862]</a><span class="cd"><span class="i">ADC</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span><span class="ce">; Add the value from the address to our argument value.</span></span>
<span class="l"><a class="anc" name="a864" href="#a864">[a864]</a><span class="cd"><span class="i">STA</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span><span class="ce">; Store it as the new value.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Jump to the next op and load it.
;
</div><span class="l"><a class="anc" name="a866" href="#a866">[a866]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span><span class="ce">; A = 4 (number of bytes to skip)</span></span>
<span class="l"><a class="anc" name="a868" href="#a868">[a868]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span><span class="ce">; Skip over those bytes.</span></span>
<span class="l"><a class="anc" name="a86b" href="#a86b">[a86b]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span><span class="ce">; Load the next op.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="BScript_Op_FinishBehavior"></a><div class="cp">;============================================================================
; Op $04: Finish Behavior
;
; Immediately finish a behavior.
;
; This will unset the behavior ID and continue on with the next operation.
;
; Arguments: None
;
; XREFS:
;     <a href="#BSCRIPT_OP_HANDLERS">BSCRIPT_OP_HANDLERS</a> [$PRG14::a6e0]
;============================================================================
</div><span class="l"><a class="anc" name="a86e" href="#a86e">[a86e]</a><a href="#BScript_Op_FinishBehavior" class="la">BScript_Op_FinishBehavior:</a><span class="ce">; [$a86e]</span></span>
<span class="l"><a class="anc" name="a86e" href="#a86e">[a86e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span><span class="ce">; A = 1 (number of bytes to skip)</span></span>
<span class="l"><a class="anc" name="a870" href="#a870">[a870]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span><span class="ce">; Skip over the byte.</span></span>
<span class="l"><a class="anc" name="a873" href="#a873">[a873]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span><span class="ce">; Finish the current behavior.</span></span>
<span class="l"><a class="anc" name="a876" href="#a876">[a876]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScripts_LoadNextOp">BScripts_LoadNextOp</a></span></span><span class="ce">; Load the next op.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_IncrementScriptAddr"></a><div class="cp">;============================================================================
; Increment the address for a sprite's behavior info.
;
; INPUTS:
;     A:
;         The offset to increment by.
;
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>:
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>+1:
;         The current address of behavior information.
;
; OUTPUTS:
;     <a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>:
;         The new address of the behavior information.
;
; XREFS:
;     <a href="#BScript_Op_AddToSpriteData">BScript_Op_AddToSpriteData</a>
;     <a href="#BScript_Op_FinishBehavior">BScript_Op_FinishBehavior</a>
;     <a href="#BScript_Op_GoTo">BScript_Op_GoTo</a>
;     <a href="#BScript_Op_SetPhase">BScript_Op_SetPhase</a>
;     <a href="#BScript_Op_SwitchBehavior">BScript_Op_SwitchBehavior</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_MoveTowardPlayer">SpriteBehavior_MoveTowardPlayer</a>
;     <a href="#SpriteBehavior_MoveVertically">SpriteBehavior_MoveVertically</a>
;     <a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior__a8d7">SpriteBehavior__a8d7</a>
;     <a href="#SpriteOp_CheckDistanceToPlayer_X">SpriteOp_CheckDistanceToPlayer_X</a>
;     <a href="#SpriteOp_CheckDistanceToPlayer_Y">SpriteOp_CheckDistanceToPlayer_Y</a>
;     <a href="#Sprites_MaybeDisableAndGoTo">Sprites_MaybeDisableAndGoTo</a>
;     <a href="#Sprites_Maybe_Skip2AndLoadNextAction">Sprites_Maybe_Skip2AndLoadNextAction</a>
;============================================================================
</div><span class="l"><a class="anc" name="a879" href="#a879">[a879]</a><a href="#Sprites_IncrementScriptAddr" class="la">Sprites_IncrementScriptAddr:</a><span class="ce">; [$a879]</span></span>
<span class="l"><a class="anc" name="a879" href="#a879">[a879]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; C = 0</span></span>
<span class="l"><a class="anc" name="a87a" href="#a87a">[a87a]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span><span class="ce">; A = offset + lower byte of the behavior address
If overflow, C = 1</span></span>
<span class="l"><a class="anc" name="a87c" href="#a87c">[a87c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a87e" href="#a87e">[a87e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span><span class="ce">; A = upper byte of the behavior address</span></span>
<span class="l"><a class="anc" name="a880" href="#a880">[a880]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$00</span></span><span class="ce">; Add carry, if set.</span></span>
<span class="l"><a class="anc" name="a882" href="#a882">[a882]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_ReadInfoAddr_U">Sprites_ReadInfoAddr_U</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a884" href="#a884">[a884]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_IsBehaviorNotReady"></a><div class="cp">;============================================================================
; Return whether or not a sprite's behavior is disabled.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         Flags for the current sprites.
;
; OUTPUTS:
;     Z:
;         1 if the behavior is disabled.
;         0 if it is enabled.
;
; XREFS:
;     <a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna">SpriteBehavior_BattleHelmetDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BattleSuitDroppedByZoradohna">SpriteBehavior_BattleSuitDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_BlackOnyxDropFromZoradohna">SpriteBehavior_BlackOnyxDropFromZoradohna</a>
;     <a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>
;     <a href="#SpriteBehavior_BossDeath">SpriteBehavior_BossDeath</a>
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;     <a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>
;     <a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve">SpriteBehavior_DragonSlayerDroppedByKingGrieve</a>
;     <a href="#SpriteBehavior_EnemyMagic">SpriteBehavior_EnemyMagic</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_EnemyUnused39">SpriteBehavior_EnemyUnused39</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>
;     <a href="#SpriteBehavior_FlashScreenHitPlayer">SpriteBehavior_FlashScreenHitPlayer</a>
;     <a href="#SpriteBehavior_Fountain">SpriteBehavior_Fountain</a>
;     <a href="#SpriteBehavior_Garbled3">SpriteBehavior_Garbled3</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Glove">SpriteBehavior_Glove</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;     <a href="#SpriteBehavior_LightningBallOrCharron">SpriteBehavior_LightningBallOrCharron</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_Magman">SpriteBehavior_Magman</a>
;     <a href="#SpriteBehavior_MattockDroppedFromRipasheiku">SpriteBehavior_MattockDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_MoveTowardPlayer">SpriteBehavior_MoveTowardPlayer</a>
;     <a href="#SpriteBehavior_MoveVertically">SpriteBehavior_MoveVertically</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;     <a href="#SpriteBehavior_Ointment">SpriteBehavior_Ointment</a>
;     <a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>
;     <a href="#SpriteBehavior_PendantDroppedFromRipasheiku">SpriteBehavior_PendantDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_50">SpriteBehavior_RandomlyShowItem_50</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_51">SpriteBehavior_RandomlyShowItem_51</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_52">SpriteBehavior_RandomlyShowItem_52</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_53">SpriteBehavior_RandomlyShowItem_53</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_54">SpriteBehavior_RandomlyShowItem_54</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_55">SpriteBehavior_RandomlyShowItem_55</a>
;     <a href="#SpriteBehavior_RandomlyShowItem_56">SpriteBehavior_RandomlyShowItem_56</a>
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;     <a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_SpringOfFortress">SpriteBehavior_SpringOfFortress</a>
;     <a href="#SpriteBehavior_SpringOfJoker">SpriteBehavior_SpringOfJoker</a>
;     <a href="#SpriteBehavior_SpringOfSky">SpriteBehavior_SpringOfSky</a>
;     <a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>
;     <a href="#SpriteBehavior_Unknown_29">SpriteBehavior_Unknown_29</a>
;     <a href="#SpriteBehavior_Wait">SpriteBehavior_Wait</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior_WingBootsDroppedByZorugeriru">SpriteBehavior_WingBootsDroppedByZorugeriru</a>
;     <a href="#SpriteBehavior_Yareeka">SpriteBehavior_Yareeka</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;     <a href="#SpriteBehavior_Zorugeriru">SpriteBehavior_Zorugeriru</a>
;     <a href="#SpriteBehavior__a8d7">SpriteBehavior__a8d7</a>
;============================================================================
</div><span class="l"><a class="anc" name="a885" href="#a885">[a885]</a><a href="#Sprite_IsBehaviorNotReady" class="la">Sprite_IsBehaviorNotReady:</a><span class="ce">; [$a885]</span></span>
<span class="l"><a class="anc" name="a885" href="#a885">[a885]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="a888" href="#a888">[a888]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span><span class="ce">; Set Z = ready not set.</span></span>
<span class="l"><a class="anc" name="a88a" href="#a88a">[a88a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_SetBehaviorNotReady"></a><div class="cp">;============================================================================
; Disable a sprite's behavior.
;
; This is used once a sprite's behavior functionality needs
; to pause behavior.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         Flags for the current sprites.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The updated flags.
;
; XREFS:
;     <a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a>
;     <a href="#Sprite_ReplaceWithDroppedItem">Sprite_ReplaceWithDroppedItem</a>
;     <a href="#Sprite_ReplaceWithMattock">Sprite_ReplaceWithMattock</a>
;     <a href="#Sprite_SetDeathEntity">Sprite_SetDeathEntity</a>
;============================================================================
</div><span class="l"><a class="anc" name="a88b" href="#a88b">[a88b]</a><a href="#Sprite_SetBehaviorNotReady" class="la">Sprite_SetBehaviorNotReady:</a><span class="ce">; [$a88b]</span></span>
<span class="l"><a class="anc" name="a88b" href="#a88b">[a88b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="a88e" href="#a88e">[a88e]</a><span class="cd"><span class="i">AND</span> <span class="o">#$bf</span></span><span class="ce">; Clear the Ready flag.</span></span>
<span class="l"><a class="anc" name="a890" href="#a890">[a890]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a893" href="#a893">[a893]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_SetBehaviorReady"></a><div class="cp">;============================================================================
; Enable a sprite's behavior.
;
; This is used once a sprite is set up, or when the sprite's
; behavior handling wants to pause and then resume behavior.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         Flags for the current sprites.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The updated flags.
;
; XREFS:
;     <a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna">SpriteBehavior_BattleHelmetDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BattleSuitDroppedByZoradohna">SpriteBehavior_BattleSuitDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_Bihoruda">SpriteBehavior_Bihoruda</a>
;     <a href="#SpriteBehavior_BlackOnyxDropFromZoradohna">SpriteBehavior_BlackOnyxDropFromZoradohna</a>
;     <a href="#SpriteBehavior_Borabohra">SpriteBehavior_Borabohra</a>
;     <a href="#SpriteBehavior_BossDeath">SpriteBehavior_BossDeath</a>
;     <a href="#SpriteBehavior_BounceAndExpire">SpriteBehavior_BounceAndExpire</a>
;     <a href="#SpriteBehavior_BuzzAround">SpriteBehavior_BuzzAround</a>
;     <a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve">SpriteBehavior_DragonSlayerDroppedByKingGrieve</a>
;     <a href="#SpriteBehavior_EnemyMagic">SpriteBehavior_EnemyMagic</a>
;     <a href="#SpriteBehavior_EnemyUnused36">SpriteBehavior_EnemyUnused36</a>
;     <a href="#SpriteBehavior_EnemyUnused39">SpriteBehavior_EnemyUnused39</a>
;     <a href="#SpriteBehavior_EnemyUnused43">SpriteBehavior_EnemyUnused43</a>
;     <a href="#SpriteBehavior_ExecutionHood">SpriteBehavior_ExecutionHood</a>
;     <a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>
;     <a href="#SpriteBehavior_FlashScreenHitPlayer">SpriteBehavior_FlashScreenHitPlayer</a>
;     <a href="#SpriteBehavior_Garbled3">SpriteBehavior_Garbled3</a>
;     <a href="#SpriteBehavior_GiantBees">SpriteBehavior_GiantBees</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#SpriteBehavior_Ishiisu">SpriteBehavior_Ishiisu</a>
;     <a href="#SpriteBehavior_KingGrieve">SpriteBehavior_KingGrieve</a>
;     <a href="#SpriteBehavior_LightningBallOrCharron">SpriteBehavior_LightningBallOrCharron</a>
;     <a href="#SpriteBehavior_Lilith">SpriteBehavior_Lilith</a>
;     <a href="#SpriteBehavior_Magman">SpriteBehavior_Magman</a>
;     <a href="#SpriteBehavior_MattockDroppedFromRipasheiku">SpriteBehavior_MattockDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_MoveTowardPlayer">SpriteBehavior_MoveTowardPlayer</a>
;     <a href="#SpriteBehavior_MoveVertically">SpriteBehavior_MoveVertically</a>
;     <a href="#SpriteBehavior_Naga">SpriteBehavior_Naga</a>
;     <a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>
;     <a href="#SpriteBehavior_NecronAides">SpriteBehavior_NecronAides</a>
;     <a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>
;     <a href="#SpriteBehavior_PendantDroppedFromRipasheiku">SpriteBehavior_PendantDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_Ripasheiku">SpriteBehavior_Ripasheiku</a>
;     <a href="#SpriteBehavior_ShadowEura">SpriteBehavior_ShadowEura</a>
;     <a href="#SpriteBehavior_SirGawaineWolfman">SpriteBehavior_SirGawaineWolfman</a>
;     <a href="#SpriteBehavior_SomethingEyeball_17">SpriteBehavior_SomethingEyeball_17</a>
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;     <a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>
;     <a href="#SpriteBehavior_Unknown_29">SpriteBehavior_Unknown_29</a>
;     <a href="#SpriteBehavior_Wait">SpriteBehavior_Wait</a>
;     <a href="#SpriteBehavior_WalkForward">SpriteBehavior_WalkForward</a>
;     <a href="#SpriteBehavior_WingBootsDroppedByZorugeriru">SpriteBehavior_WingBootsDroppedByZorugeriru</a>
;     <a href="#SpriteBehavior_Yareeka">SpriteBehavior_Yareeka</a>
;     <a href="#SpriteBehavior_Yuinaru">SpriteBehavior_Yuinaru</a>
;     <a href="#SpriteBehavior_Zorugeriru">SpriteBehavior_Zorugeriru</a>
;     <a href="#SpriteBehavior__a8d7">SpriteBehavior__a8d7</a>
;     <a href="#Sprite_SetReadyAndFallIfNeeded">Sprite_SetReadyAndFallIfNeeded</a>
;     <a href="#Sprites_MaybeResetPhaseAndEnable">Sprites_MaybeResetPhaseAndEnable</a>
;============================================================================
</div><span class="l"><a class="anc" name="a894" href="#a894">[a894]</a><a href="#Sprite_SetBehaviorReady" class="la">Sprite_SetBehaviorReady:</a><span class="ce">; [$a894]</span></span>
<span class="l"><a class="anc" name="a894" href="#a894">[a894]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="a897" href="#a897">[a897]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$40</span></span><span class="ce">; Set the Ready flag.</span></span>
<span class="l"><a class="anc" name="a899" href="#a899">[a899]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="a89c" href="#a89c">[a89c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CurrentSpriteFlags_SetBit5"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="a89d" href="#a89d">[a89d]</a><a href="#CurrentSpriteFlags_SetBit5" class="la">CurrentSpriteFlags_SetBit5:</a><span class="ce">; [$a89d]</span></span>
<span class="l"><a class="anc" name="a89d" href="#a89d">[a89d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8a0" href="#a8a0">[a8a0]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="a8a2" href="#a8a2">[a8a2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8a5" href="#a8a5">[a8a5]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ClearFlags"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="a8a6" href="#a8a6">[a8a6]</a><a href="#Sprite_ClearFlags" class="la">Sprite_ClearFlags:</a><span class="ce">; [$a8a6]</span></span>
<span class="l"><a class="anc" name="a8a6" href="#a8a6">[a8a6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a8a8" href="#a8a8">[a8a8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8ab" href="#a8ab">[a8ab]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_FinishBehavior"></a><div class="cp">;============================================================================
; TODO: Document Sprite_FinishBehavior
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#BScript_Op_FinishBehavior">BScript_Op_FinishBehavior</a>
;     <a href="#BScript_Op_GoTo">BScript_Op_GoTo</a>
;     <a href="#SpriteBehavior_FlashScreenHitPlayer">SpriteBehavior_FlashScreenHitPlayer</a>
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;     <a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a>
;     <a href="#Sprites_MaybeDisableAndGoTo">Sprites_MaybeDisableAndGoTo</a>
;     <a href="#_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7">_thunk_Sprite_ClearBehaviorReadyAndSetSubtypeBit7</a>
;============================================================================
</div><span class="l"><a class="anc" name="a8ac" href="#a8ac">[a8ac]</a><a href="#Sprite_FinishBehavior" class="la">Sprite_FinishBehavior:</a><span class="ce">; [$a8ac]</span></span>
<span class="l"><a class="anc" name="a8ac" href="#a8ac">[a8ac]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a8af" href="#a8af">[a8af]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8b2" href="#a8b2">[a8b2]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="a8b4" href="#a8b4">[a8b4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8b7" href="#a8b7">[a8b7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_GetPreviousSpritePhase"></a><div class="cp">;============================================================================
; Return the previous phase for the sprite.
;
; INPUTS:
;     X:
;         The sprite's index.
;
;     <a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>:
;         The sprite phases.
;
; OUTPUTS:
;     A:
;         The previous phase.
;
; XREFS:
;     <a href="#SpriteUpdateHandler_Enemy_Ikeda">SpriteUpdateHandler_Enemy_Ikeda</a>
;     <a href="#SpriteUpdateHandler_Enemy_Monodron">SpriteUpdateHandler_Enemy_Monodron</a>
;     <a href="#SpriteUpdateHandler_Enemy_Zombie">SpriteUpdateHandler_Enemy_Zombie</a>
;============================================================================
</div><span class="l"><a class="anc" name="a8b8" href="#a8b8">[a8b8]</a><a href="#Sprite_GetPreviousSpritePhase" class="la">Sprite_GetPreviousSpritePhase:</a><span class="ce">; [$a8b8]</span></span>
<span class="l"><a class="anc" name="a8b8" href="#a8b8">[a8b8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span><span class="ce">; Load the current phase.</span></span>
<span class="l"><a class="anc" name="a8bb" href="#a8bb">[a8bb]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="a8bc" href="#a8bc">[a8bc]</a><span class="cd"><span class="i">SBC</span> <span class="o">#$01</span></span><span class="ce">; Subtract 1</span></span>
<span class="l"><a class="anc" name="a8be" href="#a8be">[a8be]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; Return the value.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_SetVisible"></a><div class="cp">;============================================================================
; Set a sprite to be visible.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The sprite's flags.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The updated flags.
;
; XREFS:
;     <a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna">SpriteBehavior_BattleHelmetDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BattleSuitDroppedByZoradohna">SpriteBehavior_BattleSuitDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BlackOnyxDropFromZoradohna">SpriteBehavior_BlackOnyxDropFromZoradohna</a>
;     <a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve">SpriteBehavior_DragonSlayerDroppedByKingGrieve</a>
;     <a href="#SpriteBehavior_Fountain">SpriteBehavior_Fountain</a>
;     <a href="#SpriteBehavior_MattockDroppedFromRipasheiku">SpriteBehavior_MattockDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>
;     <a href="#SpriteBehavior_PendantDroppedFromRipasheiku">SpriteBehavior_PendantDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_SpringOfFortress">SpriteBehavior_SpringOfFortress</a>
;     <a href="#SpriteBehavior_SpringOfJoker">SpriteBehavior_SpringOfJoker</a>
;     <a href="#SpriteBehavior_SpringOfSky">SpriteBehavior_SpringOfSky</a>
;     <a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>
;     <a href="#SpriteBehavior_WingBootsDroppedByZorugeriru">SpriteBehavior_WingBootsDroppedByZorugeriru</a>
;     <a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a>
;============================================================================
</div><span class="l"><a class="anc" name="a8bf" href="#a8bf">[a8bf]</a><a href="#Sprite_SetVisible" class="la">Sprite_SetVisible:</a><span class="ce">; [$a8bf]</span></span>
<span class="l"><a class="anc" name="a8bf" href="#a8bf">[a8bf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="a8c2" href="#a8c2">[a8c2]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$10</span></span><span class="ce">; Set the visibility flag.</span></span>
<span class="l"><a class="anc" name="a8c4" href="#a8c4">[a8c4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; And save it.</span></span>
<span class="l"><a class="anc" name="a8c7" href="#a8c7">[a8c7]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_IsSpriteHidden"></a><div class="cp">;============================================================================
; Return whether a sprite is hidden.
;
; INPUTS:
;     X:
;         The index of the sprite.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The sprite's flags.
;
; OUTPUTS:
;     Z:
;         1 if the sprite is hidden.
;         0 if the sprite is visible.
;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;     <a href="#CurrentSprite_UpdateState">CurrentSprite_UpdateState</a>
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="a8c8" href="#a8c8">[a8c8]</a><a href="#Sprites_IsSpriteHidden" class="la">Sprites_IsSpriteHidden:</a><span class="ce">; [$a8c8]</span></span>
<span class="l"><a class="anc" name="a8c8" href="#a8c8">[a8c8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the sprite's flags.</span></span>
<span class="l"><a class="anc" name="a8cb" href="#a8cb">[a8cb]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span><span class="ce">; Check the visible flag.</span></span>
<span class="l"><a class="anc" name="a8cd" href="#a8cd">[a8cd]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; And return Z.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_HideSprite"></a><div class="cp">;============================================================================
; Set a sprite to be hidden.
;
; INPUTS:
;     X:
;         The index of the sprite to hide.
;
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The sprite's flags.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>:
;         The updated flags.
;
; XREFS:
;     <a href="#SpriteBehavior_BattleHelmetDroppedByZoradohna">SpriteBehavior_BattleHelmetDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BattleSuitDroppedByZoradohna">SpriteBehavior_BattleSuitDroppedByZoradohna</a>
;     <a href="#SpriteBehavior_BlackOnyxDropFromZoradohna">SpriteBehavior_BlackOnyxDropFromZoradohna</a>
;     <a href="#SpriteBehavior_DragonSlayerDroppedByKingGrieve">SpriteBehavior_DragonSlayerDroppedByKingGrieve</a>
;     <a href="#SpriteBehavior_Fountain">SpriteBehavior_Fountain</a>
;     <a href="#SpriteBehavior_MattockDroppedFromRipasheiku">SpriteBehavior_MattockDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_Nash">SpriteBehavior_Nash</a>
;     <a href="#SpriteBehavior_PendantDroppedFromRipasheiku">SpriteBehavior_PendantDroppedFromRipasheiku</a>
;     <a href="#SpriteBehavior_Springs_UpdateFlowing">SpriteBehavior_Springs_UpdateFlowing</a>
;     <a href="#SpriteBehavior_Tamazutsu">SpriteBehavior_Tamazutsu</a>
;     <a href="#SpriteBehavior_WingBootsDroppedByZorugeriru">SpriteBehavior_WingBootsDroppedByZorugeriru</a>
;     <a href="#Sprite_ShowIfNoEnemies">Sprite_ShowIfNoEnemies</a>
;============================================================================
</div><span class="l"><a class="anc" name="a8ce" href="#a8ce">[a8ce]</a><a href="#Sprites_HideSprite" class="la">Sprites_HideSprite:</a><span class="ce">; [$a8ce]</span></span>
<span class="l"><a class="anc" name="a8ce" href="#a8ce">[a8ce]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Load the flags for the given sprite.</span></span>
<span class="l"><a class="anc" name="a8d1" href="#a8d1">[a8d1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$ef</span></span><span class="ce">; Clear the visible flag.</span></span>
<span class="l"><a class="anc" name="a8d3" href="#a8d3">[a8d3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span><span class="ce">; Set the new flags.</span></span>
<span class="l"><a class="anc" name="a8d6" href="#a8d6">[a8d6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior__a8d7"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior__a8d7
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a60f]
;============================================================================
</div><span class="l"><a class="anc" name="a8d7" href="#a8d7">[a8d7]</a><a href="#SpriteBehavior__a8d7" class="la">SpriteBehavior__a8d7:</a><span class="ce">; [$a8d7]</span></span>
<span class="l"><a class="anc" name="a8d7" href="#a8d7">[a8d7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a8da" href="#a8da">[a8da]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a></span></span></span>
<span class="l"><a class="anc" name="a8dc" href="#a8dc">[a8dc]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a8de" href="#a8de">[a8de]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a8e0" href="#a8e0">[a8e0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8e3" href="#a8e3">[a8e3]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a8e4" href="#a8e4">[a8e4]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a8e6" href="#a8e6">[a8e6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8e9" href="#a8e9">[a8e9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a8eb" href="#a8eb">[a8eb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a8ee" href="#a8ee">[a8ee]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"><a class="anc" name="a8f1" href="#a8f1">[a8f1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8f4" href="#a8f4">[a8f4]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a8f6" href="#a8f6">[a8f6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a8f9" href="#a8f9">[a8f9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_MoveTowardPlayer"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_MoveTowardPlayer
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5e7]
;============================================================================
</div><span class="l"><a class="anc" name="a8fc" href="#a8fc">[a8fc]</a><a href="#SpriteBehavior_MoveTowardPlayer" class="la">SpriteBehavior_MoveTowardPlayer:</a><span class="ce">; [$a8fc]</span></span>
<span class="l"><a class="anc" name="a8fc" href="#a8fc">[a8fc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a8ff" href="#a8ff">[a8ff]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#SpriteBehavior__a91e">SpriteBehavior__a91e</a></span></span></span>
<span class="l"><a class="anc" name="a901" href="#a901">[a901]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a903" href="#a903">[a903]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a905" href="#a905">[a905]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a908" href="#a908">[a908]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a909" href="#a909">[a909]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a90b" href="#a90b">[a90b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a90e" href="#a90e">[a90e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a910" href="#a910">[a910]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a913" href="#a913">[a913]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"><a class="anc" name="a916" href="#a916">[a916]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a919" href="#a919">[a919]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fd</span></span></span>
<span class="l"><a class="anc" name="a91b" href="#a91b">[a91b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="SpriteBehavior__a91e"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior__a91e
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_MoveTowardPlayer">SpriteBehavior_MoveTowardPlayer</a>
;     <a href="#SpriteBehavior__a8d7">SpriteBehavior__a8d7</a>
;============================================================================
</div><span class="l"><a class="anc" name="a91e" href="#a91e">[a91e]</a><a href="#SpriteBehavior__a91e" class="la">SpriteBehavior__a91e:</a><span class="ce">; [$a91e]</span></span>
<span class="l"><a class="anc" name="a91e" href="#a91e">[a91e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="a921" href="#a921">[a921]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a92e">@LAB_PRG14__a92e</a></span></span></span>
<span class="l"><a class="anc" name="a923" href="#a923">[a923]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"><a class="anc" name="a926" href="#a926">[a926]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="a929" href="#a929">[a929]</a><span class="cd"><span class="i">AND</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a92b" href="#a92b">[a92b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__a92e">@LAB_PRG14__a92e</a></span></span></span>
<span class="l"><a class="anc" name="a92d" href="#a92d">[a92d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":a92e:@LAB_PRG14__a92e"></a><span class="l"><a class="anc" name="a92e" href="#a92e">[a92e]</a><a href="#:a92e:@LAB_PRG14__a92e" class="lla">@LAB_PRG14__a92e:</a><span class="ce">; [$a92e]</span></span>
<span class="l"><a class="anc" name="a92e" href="#a92e">[a92e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a931" href="#a931">[a931]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a934" href="#a934">[a934]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a937" href="#a937">[a937]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="a93a" href="#a93a">[a93a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="a93d" href="#a93d">[a93d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"><a class="anc" name="a940" href="#a940">[a940]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_WalkForward"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_WalkForward
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5ef]
;============================================================================
</div><span class="l"><a class="anc" name="a941" href="#a941">[a941]</a><a href="#SpriteBehavior_WalkForward" class="la">SpriteBehavior_WalkForward:</a><span class="ce">; [$a941]</span></span>
<span class="l"><a class="anc" name="a941" href="#a941">[a941]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a944" href="#a944">[a944]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a95b">@LAB_PRG14__a95b</a></span></span></span>
<span class="l"><a class="anc" name="a946" href="#a946">[a946]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a948" href="#a948">[a948]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a94a" href="#a94a">[a94a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a94d" href="#a94d">[a94d]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a94e" href="#a94e">[a94e]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a950" href="#a950">[a950]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a953" href="#a953">[a953]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="a955" href="#a955">[a955]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a958" href="#a958">[a958]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a95b:@LAB_PRG14__a95b"></a><span class="l"><a class="anc" name="a95b" href="#a95b">[a95b]</a><a href="#:a95b:@LAB_PRG14__a95b" class="lla">@LAB_PRG14__a95b:</a><span class="ce">; [$a95b]</span></span>
<span class="l"><a class="anc" name="a95b" href="#a95b">[a95b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="a95e" href="#a95e">[a95e]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__a966">@LAB_PRG14__a966</a></span></span></span>
<span class="l"><a class="anc" name="a960" href="#a960">[a960]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#BScript_Action_FlipXDirection">BScript_Action_FlipXDirection</a></span></span></span>
<span class="l"><a class="anc" name="a963" href="#a963">[a963]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"></span>
<a name=":a966:@LAB_PRG14__a966"></a><span class="l"><a class="anc" name="a966" href="#a966">[a966]</a><a href="#:a966:@LAB_PRG14__a966" class="lla">@LAB_PRG14__a966:</a><span class="ce">; [$a966]</span></span>
<span class="l"><a class="anc" name="a966" href="#a966">[a966]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="a969" href="#a969">[a969]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a96c" href="#a96c">[a96c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="a96f" href="#a96f">[a96f]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="a972" href="#a972">[a972]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="a975" href="#a975">[a975]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Fall"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Fall
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a611]
;============================================================================
</div><span class="l"><a class="anc" name="a978" href="#a978">[a978]</a><a href="#SpriteBehavior_Fall" class="la">SpriteBehavior_Fall:</a><span class="ce">; [$a978]</span></span>
<span class="l"><a class="anc" name="a978" href="#a978">[a978]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a97b" href="#a97b">[a97b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__a980">@LAB_PRG14__a980</a></span></span></span>
<span class="l"><a class="anc" name="a97d" href="#a97d">[a97d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a980:@LAB_PRG14__a980"></a><span class="l"><a class="anc" name="a980" href="#a980">[a980]</a><a href="#:a980:@LAB_PRG14__a980" class="lla">@LAB_PRG14__a980:</a><span class="ce">; [$a980]</span></span>
<span class="l"><a class="anc" name="a980" href="#a980">[a980]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_SetCurrentSpriteCanMove">Sprites_SetCurrentSpriteCanMove</a></span></span></span>
<span class="l"><a class="anc" name="a983" href="#a983">[a983]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#Call_Sprites_CountdownBehavior">Call_Sprites_CountdownBehavior</a></span></span></span>
<span class="l"><a class="anc" name="a985" href="#a985">[a985]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CurrentSprite_HandleFall">CurrentSprite_HandleFall</a></span></span></span>
<span class="l"><a class="anc" name="a988" href="#a988">[a988]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Wait"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Wait
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5e9]
;============================================================================
</div><span class="l"><a class="anc" name="a98b" href="#a98b">[a98b]</a><a href="#SpriteBehavior_Wait" class="la">SpriteBehavior_Wait:</a><span class="ce">; [$a98b]</span></span>
<span class="l"><a class="anc" name="a98b" href="#a98b">[a98b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a98e" href="#a98e">[a98e]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#Call_Sprites_CountdownBehavior">Call_Sprites_CountdownBehavior</a></span></span></span>
<span class="l"><a class="anc" name="a990" href="#a990">[a990]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name="Call_Sprites_CountdownBehavior"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Fall">SpriteBehavior_Fall</a>
;     <a href="#SpriteBehavior_Wait">SpriteBehavior_Wait</a>
;
</div><span class="l"><a class="anc" name="a993" href="#a993">[a993]</a><a href="#Call_Sprites_CountdownBehavior" class="la">Call_Sprites_CountdownBehavior:</a><span class="ce">; [$a993]</span></span>
<span class="l"><a class="anc" name="a993" href="#a993">[a993]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"><a class="anc" name="a996" href="#a996">[a996]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_SomethingEyeball_17"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_SomethingEyeball_17
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a609]
;============================================================================
</div><span class="l"><a class="anc" name="a997" href="#a997">[a997]</a><a href="#SpriteBehavior_SomethingEyeball_17" class="la">SpriteBehavior_SomethingEyeball_17:</a><span class="ce">; [$a997]</span></span>
<span class="l"><a class="anc" name="a997" href="#a997">[a997]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a99a" href="#a99a">[a99a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_ready">@_ready</a></span></span></span>
<span class="l"><a class="anc" name="a99c" href="#a99c">[a99c]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a99e" href="#a99e">[a99e]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9a0" href="#a9a0">[a9a0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9a3" href="#a9a3">[a9a3]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a9a4" href="#a9a4">[a9a4]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9a6" href="#a9a6">[a9a6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9a9" href="#a9a9">[a9a9]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a9aa" href="#a9aa">[a9aa]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9ac" href="#a9ac">[a9ac]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9af" href="#a9af">[a9af]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a9b0" href="#a9b0">[a9b0]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9b2" href="#a9b2">[a9b2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9b5" href="#a9b5">[a9b5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="a9b7" href="#a9b7">[a9b7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a9ba" href="#a9ba">[a9ba]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":a9bd:@_ready"></a><span class="l"><a class="anc" name="a9bd" href="#a9bd">[a9bd]</a><a href="#:a9bd:@_ready" class="lla">@_ready:</a><span class="ce">; [$a9bd]</span></span>
<span class="l"><a class="anc" name="a9bd" href="#a9bd">[a9bd]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9c0" href="#a9c0">[a9c0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a9c3" href="#a9c3">[a9c3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9c6" href="#a9c6">[a9c6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="a9c9" href="#a9c9">[a9c9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz">Sprite_Maybe_TurnAroundIfAtScreenEdgeHoriz</a></span></span></span>
<span class="l"><a class="anc" name="a9cc" href="#a9cc">[a9cc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9cf" href="#a9cf">[a9cf]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="a9d2" href="#a9d2">[a9d2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9d5" href="#a9d5">[a9d5]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="a9d8" href="#a9d8">[a9d8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_Maybe_TurnAroundIfAtScreenEdgeVert">Sprite_Maybe_TurnAroundIfAtScreenEdgeVert</a></span></span></span>
<span class="l"><a class="anc" name="a9db" href="#a9db">[a9db]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_Hop"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_Hop
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5f9]
;============================================================================
</div><span class="l"><a class="anc" name="a9de" href="#a9de">[a9de]</a><a href="#SpriteBehavior_Hop" class="la">SpriteBehavior_Hop:</a><span class="ce">; [$a9de]</span></span>
<span class="l"><a class="anc" name="a9de" href="#a9de">[a9de]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="a9e1" href="#a9e1">[a9e1]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__aa14">@LAB_PRG14__aa14</a></span></span></span>
<span class="l"><a class="anc" name="a9e3" href="#a9e3">[a9e3]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a9e5" href="#a9e5">[a9e5]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9e7" href="#a9e7">[a9e7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9ea" href="#a9ea">[a9ea]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a9eb" href="#a9eb">[a9eb]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9ed" href="#a9ed">[a9ed]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9f0" href="#a9f0">[a9f0]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="a9f1" href="#a9f1">[a9f1]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="a9f3" href="#a9f3">[a9f3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="a9f6" href="#a9f6">[a9f6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="a9f8" href="#a9f8">[a9f8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="a9fb" href="#a9fb">[a9fb]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="a9fd" href="#a9fd">[a9fd]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorArg1">CurrentSprites_BehaviorArg1</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa00" href="#aa00">[aa00]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"><a class="anc" name="aa03" href="#aa03">[aa03]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa06" href="#aa06">[aa06]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span></span>
<span class="l"><a class="anc" name="aa08" href="#aa08">[aa08]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa0b" href="#aa0b">[aa0b]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa0e" href="#aa0e">[aa0e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOUR_HOP_START_TICKS">SPRITE_BEHAVIOUR_HOP_START_TICKS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aa11" href="#aa11">[aa11]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":aa14:@LAB_PRG14__aa14"></a><span class="l"><a class="anc" name="aa14" href="#aa14">[aa14]</a><a href="#:aa14:@LAB_PRG14__aa14" class="lla">@LAB_PRG14__aa14:</a><span class="ce">; [$aa14]</span></span>
<span class="l"><a class="anc" name="aa14" href="#aa14">[aa14]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa17" href="#aa17">[aa17]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="aa1a" href="#aa1a">[aa1a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa1d" href="#aa1d">[aa1d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="aa20" href="#aa20">[aa20]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_Something_SomethingAndMoveHoriz">Sprites_Something_SomethingAndMoveHoriz</a></span></span></span>
<span class="l"><a class="anc" name="aa23" href="#aa23">[aa23]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa26" href="#aa26">[aa26]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_GRAVITY">SPRITE_BEHAVIOR_HOP_GRAVITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aa29" href="#aa29">[aa29]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="aa2a" href="#aa2a">[aa2a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa2d" href="#aa2d">[aa2d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="aa30" href="#aa30">[aa30]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="aa31" href="#aa31">[aa31]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa34" href="#aa34">[aa34]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_JUMP_STRENGTH">SPRITE_BEHAVIOR_HOP_JUMP_STRENGTH</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aa37" href="#aa37">[aa37]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="aa38" href="#aa38">[aa38]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="aa39" href="#aa39">[aa39]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="aa3c" href="#aa3c">[aa3c]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="aa3f" href="#aa3f">[aa3f]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__aa49">@LAB_PRG14__aa49</a></span></span></span>
<span class="l"><a class="anc" name="aa41" href="#aa41">[aa41]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa44" href="#aa44">[aa44]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__aa49">@LAB_PRG14__aa49</a></span></span></span>
<span class="l"><a class="anc" name="aa46" href="#aa46">[aa46]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span></span>
<span class="l"></span>
<a name=":aa49:@LAB_PRG14__aa49"></a><span class="l"><a class="anc" name="aa49" href="#aa49">[aa49]</a><a href="#:aa49:@LAB_PRG14__aa49" class="lla">@LAB_PRG14__aa49:</a><span class="ce">; [$aa49]</span></span>
<span class="l"><a class="anc" name="aa49" href="#aa49">[aa49]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa4c" href="#aa4c">[aa4c]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa4f" href="#aa4f">[aa4f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_GRAVITY">SPRITE_BEHAVIOR_HOP_GRAVITY</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aa52" href="#aa52">[aa52]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="aa53" href="#aa53">[aa53]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa56" href="#aa56">[aa56]</a><span class="cd"><span class="i">AND</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_PEAK_TICKS">SPRITE_BEHAVIOR_HOP_PEAK_TICKS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aa59" href="#aa59">[aa59]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="aa5b" href="#aa5b">[aa5b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa5e" href="#aa5e">[aa5e]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__aa63">@LAB_PRG14__aa63</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Begin falling.
;
</div><span class="l"><a class="anc" name="aa60" href="#aa60">[aa60]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a></span></span></span>
<span class="l"></span>
<a name=":aa63:@LAB_PRG14__aa63"></a><span class="l"><a class="anc" name="aa63" href="#aa63">[aa63]</a><a href="#:aa63:@LAB_PRG14__aa63" class="lla">@LAB_PRG14__aa63:</a><span class="ce">; [$aa63]</span></span>
<span class="l"><a class="anc" name="aa63" href="#aa63">[aa63]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa66" href="#aa66">[aa66]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa69" href="#aa69">[aa69]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_GROUND_TICKS">SPRITE_BEHAVIOR_HOP_GROUND_TICKS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aa6c" href="#aa6c">[aa6c]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="aa6e" href="#aa6e">[aa6e]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"></span>
<a name=":aa71:@_return"></a><span class="l"><a class="anc" name="aa71" href="#aa71">[aa71]</a><a href="#:aa71:@_return" class="lla">@_return:</a><span class="ce">; [$aa71]</span></span>
<span class="l"><a class="anc" name="aa71" href="#aa71">[aa71]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOUR_HOP_START_TICKS"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;
</div><span class="l"><a class="anc" name="aa72" href="#aa72">[aa72]</a><a href="#SPRITE_BEHAVIOUR_HOP_START_TICKS" class="la">SPRITE_BEHAVIOUR_HOP_START_TICKS:</a><span class="ce">; [$aa72]</span></span>
<span class="l"><a class="anc" name="aa72" href="#aa72">[aa72]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="aa73" href="#aa73">[aa73]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="aa74" href="#aa74">[aa74]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [2]: Monodron</span></span>
<span class="l"><a class="anc" name="aa75" href="#aa75">[aa75]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="aa76" href="#aa76">[aa76]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [4]:</span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOR_HOP_GRAVITY"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;
</div><span class="l"><a class="anc" name="aa77" href="#aa77">[aa77]</a><a href="#SPRITE_BEHAVIOR_HOP_GRAVITY" class="la">SPRITE_BEHAVIOR_HOP_GRAVITY:</a><span class="ce">; [$aa77]</span></span>
<span class="l"><a class="anc" name="aa77" href="#aa77">[aa77]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="aa78" href="#aa78">[aa78]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="aa79" href="#aa79">[aa79]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="aa7a" href="#aa7a">[aa7a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="aa7b" href="#aa7b">[aa7b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [4]:</span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOR_HOP_JUMP_STRENGTH"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;
</div><span class="l"><a class="anc" name="aa7c" href="#aa7c">[aa7c]</a><a href="#SPRITE_BEHAVIOR_HOP_JUMP_STRENGTH" class="la">SPRITE_BEHAVIOR_HOP_JUMP_STRENGTH:</a><span class="ce">; [$aa7c]</span></span>
<span class="l"><a class="anc" name="aa7c" href="#aa7c">[aa7c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="aa7d" href="#aa7d">[aa7d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="aa7e" href="#aa7e">[aa7e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="aa7f" href="#aa7f">[aa7f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="aa80" href="#aa80">[aa80]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [4]:</span></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIOR_HOP_GROUND_TICKS"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Hop">SpriteBehavior_Hop</a>
;
</div><span class="l"><a class="anc" name="aa81" href="#aa81">[aa81]</a><a href="#SPRITE_BEHAVIOR_HOP_GROUND_TICKS" class="la">SPRITE_BEHAVIOR_HOP_GROUND_TICKS:</a><span class="ce">; [$aa81]</span></span>
<span class="l"><a class="anc" name="aa81" href="#aa81">[aa81]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="aa82" href="#aa82">[aa82]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="aa83" href="#aa83">[aa83]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="aa84" href="#aa84">[aa84]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="aa85" href="#aa85">[aa85]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [4]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_SomethingZoradohna_18"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_SomethingZoradohna_18
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a60b]
;============================================================================
</div><span class="l"><a class="anc" name="aa86" href="#aa86">[aa86]</a><a href="#SpriteBehavior_SomethingZoradohna_18" class="la">SpriteBehavior_SomethingZoradohna_18:</a><span class="ce">; [$aa86]</span></span>
<span class="l"><a class="anc" name="aa86" href="#aa86">[aa86]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="aa89" href="#aa89">[aa89]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__aaae">@LAB_PRG14__aaae</a></span></span></span>
<span class="l"><a class="anc" name="aa8b" href="#aa8b">[aa8b]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="aa8d" href="#aa8d">[aa8d]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="aa8f" href="#aa8f">[aa8f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa92" href="#aa92">[aa92]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="aa93" href="#aa93">[aa93]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="aa95" href="#aa95">[aa95]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa98" href="#aa98">[aa98]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="aa99" href="#aa99">[aa99]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="aa9b" href="#aa9b">[aa9b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aa9e" href="#aa9e">[aa9e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="aaa0" href="#aaa0">[aaa0]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="aaa3" href="#aaa3">[aaa3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"><a class="anc" name="aaa6" href="#aaa6">[aaa6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"><a class="anc" name="aaa9" href="#aaa9">[aaa9]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span></span>
<span class="l"><a class="anc" name="aaab" href="#aaab">[aaab]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Flags">CurrentSprites_Flags</a>,X</span></span></span>
<span class="l"></span>
<a name=":aaae:@LAB_PRG14__aaae"></a><span class="l"><a class="anc" name="aaae" href="#aaae">[aaae]</a><a href="#:aaae:@LAB_PRG14__aaae" class="lla">@LAB_PRG14__aaae:</a><span class="ce">; [$aaae]</span></span>
<span class="l"><a class="anc" name="aaae" href="#aaae">[aaae]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFull">CurrentSprites_BehaviorState_XFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="aab1" href="#aab1">[aab1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span></span>
<span class="l"><a class="anc" name="aab4" href="#aab4">[aab4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_XFrac">CurrentSprites_BehaviorState_XFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="aab7" href="#aab7">[aab7]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span></span>
<span class="l"><a class="anc" name="aaba" href="#aaba">[aaba]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveHorizAndTurnAroundIfNeeded">Sprite_MoveHorizAndTurnAroundIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="aabd" href="#aabd">[aabd]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aac0" href="#aac0">[aac0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__aaf2">BYTE_ARRAY_PRG14__aaf2</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aac3" href="#aac3">[aac3]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="aac4" href="#aac4">[aac4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aac7" href="#aac7">[aac7]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span></span>
<span class="l"><a class="anc" name="aaca" href="#aaca">[aaca]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="aacb" href="#aacb">[aacb]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aace" href="#aace">[aace]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__aaf6">BYTE_ARRAY_PRG14__aaf6</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aad1" href="#aad1">[aad1]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="aad2" href="#aad2">[aad2]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="aad3" href="#aad3">[aad3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span></span>
<span class="l"><a class="anc" name="aad6" href="#aad6">[aad6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertical">Sprite_MoveVertical</a></span></span></span>
<span class="l"><a class="anc" name="aad9" href="#aad9">[aad9]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aadc" href="#aadc">[aadc]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="aadf" href="#aadf">[aadf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__aaf2">BYTE_ARRAY_PRG14__aaf2</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aae2" href="#aae2">[aae2]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="aae3" href="#aae3">[aae3]</a><span class="cd"><span class="i">DEY</span></span></span>
<span class="l"><a class="anc" name="aae4" href="#aae4">[aae4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData3">CurrentSprites_BehaviorData3</a>,X</span></span></span>
<span class="l"><a class="anc" name="aae7" href="#aae7">[aae7]</a><span class="cd"><span class="i">AND</span> <span class="o"><a href="#SPRITE_BEHAVIOR_HOP_PEAK_TICKS">SPRITE_BEHAVIOR_HOP_PEAK_TICKS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="aaea" href="#aaea">[aaea]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__aaef">@LAB_PRG14__aaef</a></span></span></span>
<span class="l"><a class="anc" name="aaec" href="#aaec">[aaec]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#BScript_Action_FlipYDirection">BScript_Action_FlipYDirection</a></span></span></span>
<span class="l"></span>
<a name=":aaef:@LAB_PRG14__aaef"></a><span class="l"><a class="anc" name="aaef" href="#aaef">[aaef]</a><a href="#:aaef:@LAB_PRG14__aaef" class="lla">@LAB_PRG14__aaef:</a><span class="ce">; [$aaef]</span></span>
<span class="l"><a class="anc" name="aaef" href="#aaef">[aaef]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__aaf2"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;
</div><span class="l"><a class="anc" name="aaf2" href="#aaf2">[aaf2]</a><a href="#BYTE_ARRAY_PRG14__aaf2" class="la">BYTE_ARRAY_PRG14__aaf2:</a><span class="ce">; [$aaf2]</span></span>
<span class="l"><a class="anc" name="aaf2" href="#aaf2">[aaf2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="aaf3" href="#aaf3">[aaf3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="aaf4" href="#aaf4">[aaf4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="aaf5" href="#aaf5">[aaf5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__aaf6"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_SomethingZoradohna_18">SpriteBehavior_SomethingZoradohna_18</a>
;
</div><span class="l"><a class="anc" name="aaf6" href="#aaf6">[aaf6]</a><a href="#BYTE_ARRAY_PRG14__aaf6" class="la">BYTE_ARRAY_PRG14__aaf6:</a><span class="ce">; [$aaf6]</span></span>
<span class="l"><a class="anc" name="aaf6" href="#aaf6">[aaf6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="aaf7" href="#aaf7">[aaf7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="aaf8" href="#aaf8">[aaf8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="aaf9" href="#aaf9">[aaf9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_MoveVertically"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_MoveVertically
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a60d]
;============================================================================
</div><span class="l"><a class="anc" name="aafa" href="#aafa">[aafa]</a><a href="#SpriteBehavior_MoveVertically" class="la">SpriteBehavior_MoveVertically:</a><span class="ce">; [$aafa]</span></span>
<span class="l"><a class="anc" name="aafa" href="#aafa">[aafa]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="aafd" href="#aafd">[aafd]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__ab14">@LAB_PRG14__ab14</a></span></span></span>
<span class="l"><a class="anc" name="aaff" href="#aaff">[aaff]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ab01" href="#ab01">[ab01]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="ab03" href="#ab03">[ab03]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab06" href="#ab06">[ab06]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="ab07" href="#ab07">[ab07]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Sprites_ReadInfoAddr">Sprites_ReadInfoAddr</a>),Y</span></span></span>
<span class="l"><a class="anc" name="ab09" href="#ab09">[ab09]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab0c" href="#ab0c">[ab0c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="ab0e" href="#ab0e">[ab0e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_IncrementScriptAddr">Sprites_IncrementScriptAddr</a></span></span></span>
<span class="l"><a class="anc" name="ab11" href="#ab11">[ab11]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":ab14:@LAB_PRG14__ab14"></a><span class="l"><a class="anc" name="ab14" href="#ab14">[ab14]</a><a href="#:ab14:@LAB_PRG14__ab14" class="lla">@LAB_PRG14__ab14:</a><span class="ce">; [$ab14]</span></span>
<span class="l"><a class="anc" name="ab14" href="#ab14">[ab14]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFrac">CurrentSprites_BehaviorState_YFrac</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab17" href="#ab17">[ab17]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span></span>
<span class="l"><a class="anc" name="ab1a" href="#ab1a">[ab1a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorState_YFull">CurrentSprites_BehaviorState_YFull</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab1d" href="#ab1d">[ab1d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span></span>
<span class="l"><a class="anc" name="ab20" href="#ab20">[ab20]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_MoveVertAndFlipIfNeeded">Sprite_MoveVertAndFlipIfNeeded</a></span></span></span>
<span class="l"><a class="anc" name="ab23" href="#ab23">[ab23]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprites_CountdownBehavior">Sprites_CountdownBehavior</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_FlashScreenHitPlayer"></a><div class="cp">;============================================================================
; Behavior $1F: Flashes the screen and hit player.
;
; This turns the screen greyscale for a frame and damages the player for
; 10HP.
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a625]
;============================================================================
</div><span class="l"><a class="anc" name="ab26" href="#ab26">[ab26]</a><a href="#SpriteBehavior_FlashScreenHitPlayer" class="la">SpriteBehavior_FlashScreenHitPlayer:</a><span class="ce">; [$ab26]</span></span>
<span class="l"><a class="anc" name="ab26" href="#ab26">[ab26]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="ab29" href="#ab29">[ab29]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__ab39">@LAB_PRG14__ab39</a></span></span></span>
<span class="l"><a class="anc" name="ab2b" href="#ab2b">[ab2b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="ab2d" href="#ab2d">[ab2d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab30" href="#ab30">[ab30]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span></span>
<span class="l"><a class="anc" name="ab32" href="#ab32">[ab32]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="ab34" href="#ab34">[ab34]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span></span>
<span class="l"><a class="anc" name="ab36" href="#ab36">[ab36]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":ab39:@LAB_PRG14__ab39"></a><span class="l"><a class="anc" name="ab39" href="#ab39">[ab39]</a><a href="#:ab39:@LAB_PRG14__ab39" class="lla">@LAB_PRG14__ab39:</a><span class="ce">; [$ab39]</span></span>
<span class="l"><a class="anc" name="ab39" href="#ab39">[ab39]</a><span class="cd"><span class="i">DEC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab3c" href="#ab3c">[ab3c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="ab3e" href="#ab3e">[ab3e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span></span>
<span class="l"><a class="anc" name="ab40" href="#ab40">[ab40]</a><span class="cd"><span class="i">AND</span> <span class="o">#$fe</span></span></span>
<span class="l"><a class="anc" name="ab42" href="#ab42">[ab42]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#PPU_Mask">PPU_Mask</a></span></span></span>
<span class="l"><a class="anc" name="ab44" href="#ab44">[ab44]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="ab46" href="#ab46">[ab46]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"><a class="anc" name="ab49" href="#ab49">[ab49]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$3c</span></span></span>
<span class="l"><a class="anc" name="ab4b" href="#ab4b">[ab4b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Player_InvincibilityPhase">Player_InvincibilityPhase</a></span></span></span>
<span class="l"><a class="anc" name="ab4d" href="#ab4d">[ab4d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a></span></span></span>
<span class="l"><a class="anc" name="ab4f" href="#ab4f">[ab4f]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="ab51" href="#ab51">[ab51]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a></span></span></span>
<span class="l"><a class="anc" name="ab53" href="#ab53">[ab53]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ab55" href="#ab55">[ab55]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_L">Arg_PlayerHealthDelta_L</a></span></span></span>
<span class="l"><a class="anc" name="ab58" href="#ab58">[ab58]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="ab5a" href="#ab5a">[ab5a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_PlayerHealthDelta_U">Arg_PlayerHealthDelta_U</a></span></span></span>
<span class="l"><a class="anc" name="ab5d" href="#ab5d">[ab5d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_ReduceHP">Player_ReduceHP</a></span></span></span>
<span class="l"><a class="anc" name="ab60" href="#ab60">[ab60]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"><a class="anc" name="ab63" href="#ab63">[ab63]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_FinishBehavior">Sprite_FinishBehavior</a></span></span></span>
<span class="l"></span>
<a name=":ab66:@_return"></a><span class="l"><a class="anc" name="ab66" href="#ab66">[ab66]</a><a href="#:ab66:@_return" class="lla">@_return:</a><span class="ce">; [$ab66]</span></span>
<span class="l"><a class="anc" name="ab66" href="#ab66">[ab66]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_BossDeath"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_BossDeath
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a663]
;============================================================================
</div><span class="l"><a class="anc" name="ab67" href="#ab67">[ab67]</a><a href="#SpriteBehavior_BossDeath" class="la">SpriteBehavior_BossDeath:</a><span class="ce">; [$ab67]</span></span>
<span class="l"><a class="anc" name="ab67" href="#ab67">[ab67]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="ab6a" href="#ab6a">[ab6a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__ab77">@LAB_PRG14__ab77</a></span></span></span>
<span class="l"><a class="anc" name="ab6c" href="#ab6c">[ab6c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ab6e" href="#ab6e">[ab6e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab71" href="#ab71">[ab71]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab74" href="#ab74">[ab74]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":ab77:@LAB_PRG14__ab77"></a><span class="l"><a class="anc" name="ab77" href="#ab77">[ab77]</a><a href="#:ab77:@LAB_PRG14__ab77" class="lla">@LAB_PRG14__ab77:</a><span class="ce">; [$ab77]</span></span>
<span class="l"><a class="anc" name="ab77" href="#ab77">[ab77]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab7a" href="#ab7a">[ab7a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab7d" href="#ab7d">[ab7d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="ab7f" href="#ab7f">[ab7f]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="ab81" href="#ab81">[ab81]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab84" href="#ab84">[ab84]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab87" href="#ab87">[ab87]</a><span class="cd"><span class="i">CPY</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="ab89" href="#ab89">[ab89]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@LAB_PRG14__abb0">@LAB_PRG14__abb0</a></span></span></span>
<span class="l"><a class="anc" name="ab8b" href="#ab8b">[ab8b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab8d" href="#ab8d">[ab8d]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="ab8e" href="#ab8e">[ab8e]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__abb6">BYTE_ARRAY_PRG14__abb6</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ab91" href="#ab91">[ab91]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab93" href="#ab93">[ab93]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab95" href="#ab95">[ab95]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="ab96" href="#ab96">[ab96]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__abc1">BYTE_ARRAY_PRG14__abc1</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ab99" href="#ab99">[ab99]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="ab9b" href="#ab9b">[ab9b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ab9d" href="#ab9d">[ab9d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="aba0" href="#aba0">[aba0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="aba2" href="#aba2">[aba2]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"><a class="anc" name="aba5" href="#aba5">[aba5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Phases">CurrentSprites_Phases</a>,X</span></span></span>
<span class="l"><a class="anc" name="aba8" href="#aba8">[aba8]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="abaa" href="#abaa">[abaa]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="abac" href="#abac">[abac]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_HandleDeathDropIfPossible">Sprite_HandleDeathDropIfPossible</a></span></span></span>
<span class="l"></span>
<a name=":abaf:@_return"></a><span class="l"><a class="anc" name="abaf" href="#abaf">[abaf]</a><a href="#:abaf:@_return" class="lla">@_return:</a><span class="ce">; [$abaf]</span></span>
<span class="l"><a class="anc" name="abaf" href="#abaf">[abaf]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":abb0:@LAB_PRG14__abb0"></a><span class="l"><a class="anc" name="abb0" href="#abb0">[abb0]</a><a href="#:abb0:@LAB_PRG14__abb0" class="lla">@LAB_PRG14__abb0:</a><span class="ce">; [$abb0]</span></span>
<span class="l"><a class="anc" name="abb0" href="#abb0">[abb0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="abb2" href="#abb2">[abb2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="abb5" href="#abb5">[abb5]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__abb6"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_BossDeath">SpriteBehavior_BossDeath</a>
;
</div><span class="l"><a class="anc" name="abb6" href="#abb6">[abb6]</a><a href="#BYTE_ARRAY_PRG14__abb6" class="la">BYTE_ARRAY_PRG14__abb6:</a><span class="ce">; [$abb6]</span></span>
<span class="l"><a class="anc" name="abb6" href="#abb6">[abb6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="abb7" href="#abb7">[abb7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="abb8" href="#abb8">[abb8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="abb9" href="#abb9">[abb9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="abba" href="#abba">[abba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="abbb" href="#abbb">[abbb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="abbc" href="#abbc">[abbc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="abbd" href="#abbd">[abbd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="abbe" href="#abbe">[abbe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="abbf" href="#abbf">[abbf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [9]:</span></span>
<span class="l"><a class="anc" name="abc0" href="#abc0">[abc0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [10]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__abc1"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_BossDeath">SpriteBehavior_BossDeath</a>
;
</div><span class="l"><a class="anc" name="abc1" href="#abc1">[abc1]</a><a href="#BYTE_ARRAY_PRG14__abc1" class="la">BYTE_ARRAY_PRG14__abc1:</a><span class="ce">; [$abc1]</span></span>
<span class="l"><a class="anc" name="abc1" href="#abc1">[abc1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="abc2" href="#abc2">[abc2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="abc3" href="#abc3">[abc3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="abc4" href="#abc4">[abc4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="abc5" href="#abc5">[abc5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="abc6" href="#abc6">[abc6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="abc7" href="#abc7">[abc7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="abc8" href="#abc8">[abc8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="abc9" href="#abc9">[abc9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="abca" href="#abca">[abca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [9]:</span></span>
<span class="l"><a class="anc" name="abcb" href="#abcb">[abcb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [10]:</span></span>
<span class="l"></span>
</pre><pre><a name="SpriteBehavior_LightningBallOrCharron"></a><div class="cp">;============================================================================
; TODO: Document SpriteBehavior_LightningBallOrCharron
;
; INPUTS:
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5f5]
;     <a href="#SPRITE_BEHAVIORS">SPRITE_BEHAVIORS</a> [$PRG14::a5f7]
;============================================================================
</div><span class="l"><a class="anc" name="abcc" href="#abcc">[abcc]</a><a href="#SpriteBehavior_LightningBallOrCharron" class="la">SpriteBehavior_LightningBallOrCharron:</a><span class="ce">; [$abcc]</span></span>
<span class="l"><a class="anc" name="abcc" href="#abcc">[abcc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_IsBehaviorNotReady">Sprite_IsBehaviorNotReady</a></span></span></span>
<span class="l"><a class="anc" name="abcf" href="#abcf">[abcf]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__abd9">@LAB_PRG14__abd9</a></span></span></span>
<span class="l"><a class="anc" name="abd1" href="#abd1">[abd1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="abd3" href="#abd3">[abd3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="abd6" href="#abd6">[abd6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_SetBehaviorReady">Sprite_SetBehaviorReady</a></span></span></span>
<span class="l"></span>
<a name=":abd9:@LAB_PRG14__abd9"></a><span class="l"><a class="anc" name="abd9" href="#abd9">[abd9]</a><a href="#:abd9:@LAB_PRG14__abd9" class="lla">@LAB_PRG14__abd9:</a><span class="ce">; [$abd9]</span></span>
<span class="l"><a class="anc" name="abd9" href="#abd9">[abd9]</a><span class="cd"><span class="i">INC</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="abdc" href="#abdc">[abdc]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="abdf" href="#abdf">[abdf]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="abe1" href="#abe1">[abe1]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__abeb">@LAB_PRG14__abeb</a></span></span></span>
<span class="l"><a class="anc" name="abe3" href="#abe3">[abe3]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprite_HandleDeathDropIfPossible">Sprite_HandleDeathDropIfPossible</a></span></span></span>
<span class="l"><a class="anc" name="abe6" href="#abe6">[abe6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="abe8" href="#abe8">[abe8]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"></span>
<a name=":abeb:@LAB_PRG14__abeb"></a><span class="l"><a class="anc" name="abeb" href="#abeb">[abeb]</a><a href="#:abeb:@LAB_PRG14__abeb" class="lla">@LAB_PRG14__abeb:</a><span class="ce">; [$abeb]</span></span>
<span class="l"><a class="anc" name="abeb" href="#abeb">[abeb]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ShowBigEnemyDeathByMagicOrWeapon"></a><div class="cp">;============================================================================
; Show an effect for the death of a big enemy.
;
; This will replace the sprite with a big enemy death effect.
;
; INPUTS:
;     X:
;         The index of the enemy sprite.
;
; OUTPUTS:
;     None
;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="abec" href="#abec">[abec]</a><a href="#Sprite_ShowBigEnemyDeathByMagicOrWeapon" class="la">Sprite_ShowBigEnemyDeathByMagicOrWeapon:</a><span class="ce">; [$abec]</span></span>
<span class="l"><a class="anc" name="abec" href="#abec">[abec]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$64</span></span></span>
<span class="l"><a class="anc" name="abee" href="#abee">[abee]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetDeathEntity">Sprite_SetDeathEntity</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ShowNormalEnemyDeathByWeapon"></a><div class="cp">;============================================================================
; Show an effect for the death of a normal enemy by weapon.
;
; This will replace the sprite with an enemy death effect.
;
; INPUTS:
;     X:
;         The index of the enemy sprite.
;
; OUTPUTS:
;     None
;
; XREFS:
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="abf1" href="#abf1">[abf1]</a><a href="#Sprite_ShowNormalEnemyDeathByWeapon" class="la">Sprite_ShowNormalEnemyDeathByWeapon:</a><span class="ce">; [$abf1]</span></span>
<span class="l"><a class="anc" name="abf1" href="#abf1">[abf1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$13</span></span></span>
<span class="l"><a class="anc" name="abf3" href="#abf3">[abf3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetDeathEntity">Sprite_SetDeathEntity</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ShowNormalEnemyDeathByMagic"></a><div class="cp">;============================================================================
; Show an effect for the death of a normal enemy by magic.
;
; This will clear sprite state, stop the sprite behavior,
; and set an explosion animation.
;
; INPUTS:
;     X:
;         The index of the enemy sprite.
;
; OUTPUTS:
;     None
;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="abf6" href="#abf6">[abf6]</a><a href="#Sprite_ShowNormalEnemyDeathByMagic" class="la">Sprite_ShowNormalEnemyDeathByMagic:</a><span class="ce">; [$abf6]</span></span>
<span class="l"><a class="anc" name="abf6" href="#abf6">[abf6]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$14</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
</pre><pre><a name="Sprite_SetDeathEntity"></a><div class="cp">;============================================================================
; TODO: Document Sprite_SetDeathEntity
;
; INPUTS:
;     A
;     X
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprite_ShowBigEnemyDeathByMagicOrWeapon">Sprite_ShowBigEnemyDeathByMagicOrWeapon</a>
;     <a href="#Sprite_ShowNormalEnemyDeathByWeapon">Sprite_ShowNormalEnemyDeathByWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="abf8" href="#abf8">[abf8]</a><a href="#Sprite_SetDeathEntity" class="la">Sprite_SetDeathEntity:</a><span class="ce">; [$abf8]</span></span>
<span class="l"><a class="anc" name="abf8" href="#abf8">[abf8]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="abf9" href="#abf9">[abf9]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="abfc" href="#abfc">[abfc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="abff" href="#abff">[abff]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="ac00" href="#ac00">[ac00]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac03" href="#ac03">[ac03]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="ac04" href="#ac04">[ac04]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="ac05" href="#ac05">[ac05]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac08" href="#ac08">[ac08]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac0b" href="#ac0b">[ac0b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="ac0e" href="#ac0e">[ac0e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac11" href="#ac11">[ac11]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="ac13" href="#ac13">[ac13]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac16" href="#ac16">[ac16]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac19" href="#ac19">[ac19]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ac1b" href="#ac1b">[ac1b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorData2">CurrentSprites_BehaviorData2</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac1e" href="#ac1e">[ac1e]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a></span></span></span>
<span class="l"></span>
</pre><pre><a name="Sprite_HandleDeathDropIfPossible"></a><div class="cp">;============================================================================
; TODO: Document Sprite_HandleDeathDropIfPossible
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#SpriteBehavior_BossDeath">SpriteBehavior_BossDeath</a>
;     <a href="#SpriteBehavior_LightningBallOrCharron">SpriteBehavior_LightningBallOrCharron</a>
;============================================================================
</div><span class="l"><a class="anc" name="ac21" href="#ac21">[ac21]</a><a href="#Sprite_HandleDeathDropIfPossible" class="la">Sprite_HandleDeathDropIfPossible:</a><span class="ce">; [$ac21]</span></span>
<span class="l"><a class="anc" name="ac21" href="#ac21">[ac21]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a></span></span></span>
<span class="l"><a class="anc" name="ac24" href="#ac24">[ac24]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="ac26" href="#ac26">[ac26]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Maybe_Sprite_HandleDeathDrop">Maybe_Sprite_HandleDeathDrop</a></span></span></span>
<span class="l"><a class="anc" name="ac29" href="#ac29">[ac29]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span></span>
<span class="l"></span>
<a name=":ac2c:@_return"></a><span class="l"><a class="anc" name="ac2c" href="#ac2c">[ac2c]</a><a href="#:ac2c:@_return" class="lla">@_return:</a><span class="ce">; [$ac2c]</span></span>
<span class="l"><a class="anc" name="ac2c" href="#ac2c">[ac2c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Maybe_Sprite_HandleDeathDrop"></a><div class="cp">;============================================================================
; TODO: Document Maybe_Sprite_HandleDeathDrop
;
; INPUTS:
;     X
;     Y
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Sprite_HandleDeathDropIfPossible">Sprite_HandleDeathDropIfPossible</a>
;============================================================================
</div><span class="l"><a class="anc" name="ac2d" href="#ac2d">[ac2d]</a><a href="#Maybe_Sprite_HandleDeathDrop" class="la">Maybe_Sprite_HandleDeathDrop:</a><span class="ce">; [$ac2d]</span></span>
<span class="l"><a class="anc" name="ac2d" href="#ac2d">[ac2d]</a><span class="cd"><span class="i">STY</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="ac2f" href="#ac2f">[ac2f]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_InternalBehaviorStates">CurrentSprites_InternalBehaviorStates</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac32" href="#ac32">[ac32]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__b672">BYTE_ARRAY_PRG14__b672</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac35" href="#ac35">[ac35]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="ac37" href="#ac37">[ac37]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="ac39" href="#ac39">[ac39]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="ac3b" href="#ac3b">[ac3b]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="ac3d" href="#ac3d">[ac3d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span></span>
<span class="l"><a class="anc" name="ac3f" href="#ac3f">[ac3f]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="ac40" href="#ac40">[ac40]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_MAYBE_DROP_RANDOM_DATA">SPRITE_MAYBE_DROP_RANDOM_DATA</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac43" href="#ac43">[ac43]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="ac45" href="#ac45">[ac45]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Values">CurrentSprites_Values</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac48" href="#ac48">[ac48]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac4a" href="#ac4a">[ac4a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac4d" href="#ac4d">[ac4d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span></span>
<span class="l"><a class="anc" name="ac4f" href="#ac4f">[ac4f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac52" href="#ac52">[ac52]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ac54" href="#ac54">[ac54]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitCounter">CurrentSprites_HitCounter</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac57" href="#ac57">[ac57]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="ac59" href="#ac59">[ac59]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitByMagicBehavior">CurrentSprites_HitByMagicBehavior</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac5c" href="#ac5c">[ac5c]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="ac5e" href="#ac5e">[ac5e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_01">Temp_01</a></span></span></span>
<span class="l"><a class="anc" name="ac60" href="#ac60">[ac60]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="ac62" href="#ac62">[ac62]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__ac66">@LAB_PRG14__ac66</a></span></span></span>
<span class="l"><a class="anc" name="ac64" href="#ac64">[ac64]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"><a class="anc" name="ac65" href="#ac65">[ac65]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":ac66:@LAB_PRG14__ac66"></a><span class="l"><a class="anc" name="ac66" href="#ac66">[ac66]</a><a href="#:ac66:@LAB_PRG14__ac66" class="lla">@LAB_PRG14__ac66:</a><span class="ce">; [$ac66]</span></span>
<span class="l"><a class="anc" name="ac66" href="#ac66">[ac66]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_DROP_HANDLERS">SPRITE_DROP_HANDLERS</a>+1,Y</span></span></span>
<span class="l"><a class="anc" name="ac69" href="#ac69">[ac69]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="ac6a" href="#ac6a">[ac6a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_DROP_HANDLERS">SPRITE_DROP_HANDLERS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="ac6d" href="#ac6d">[ac6d]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="ac6e" href="#ac6e">[ac6e]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"></span>
<a name=":ac70:@_return"></a><span class="l"><a class="anc" name="ac70" href="#ac70">[ac70]</a><a href="#:ac70:@_return" class="lla">@_return:</a><span class="ce">; [$ac70]</span></span>
<span class="l"><a class="anc" name="ac70" href="#ac70">[ac70]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_DROP_HANDLERS"></a><div class="cp">;============================================================================
; XXX Address lookup table for next handlers
;
;
; XREFS:
;     <a href="#Maybe_Sprite_HandleDeathDrop">Maybe_Sprite_HandleDeathDrop</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Maybe_Sprite_HandleDeathDrop">Maybe_Sprite_HandleDeathDrop</a>
;
</div><span class="l"><a class="anc" name="ac71" href="#ac71">[ac71]</a><a href="#SPRITE_DROP_HANDLERS" class="la">SPRITE_DROP_HANDLERS:</a><span class="ce">; [$ac71]</span></span>
<span class="l"><a class="anc" name="ac71" href="#ac71">[ac71]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Sprites_ReplaceWithCoinDrop">Sprites_ReplaceWithCoinDrop</a>-1) &amp; $FFFF</span></span><span class="ce">; <a href="#Sprites_ReplaceWithCoinDrop">Sprites_ReplaceWithCoinDrop</a> [$PRG14::ac71]</span></span>
<span class="l"></span>
<a name="SPRITE_DROP_HANDLERS_LAST"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_Sprite_HandleDeathDrop">Maybe_Sprite_HandleDeathDrop</a>
;
</div><span class="l"><a class="anc" name="ac73" href="#ac73">[ac73]</a><a href="#SPRITE_DROP_HANDLERS_LAST" class="la">SPRITE_DROP_HANDLERS_LAST:</a><span class="ce">; [$ac73]</span></span>
<span class="l"><a class="anc" name="ac73" href="#ac73">[ac73]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#Sprite_ReplaceWithBreadDrop">Sprite_ReplaceWithBreadDrop</a>-1) &amp; $FFFF</span></span><span class="ce">; <a href="#Sprite_ReplaceWithBreadDrop">Sprite_ReplaceWithBreadDrop</a> [$PRG14::ac73]</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprites_ReplaceWithCoinDrop"></a><div class="cp">;============================================================================
; MAYBE: Replace a sprite with a coin.
;
; This is used when a sprite is killed and drops a coin.
;
; INPUTS:
;     Y:
;         The index of the sprite.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;     <a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>:
;     <a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>:
;     <a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>:
;     <a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>:
;         The new bread sprite state.
;
; CALLS:
;     <a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a>
;
; XREFS:
;     <a href="#SPRITE_DROP_HANDLERS">SPRITE_DROP_HANDLERS</a> [$PRG14::ac71]
;============================================================================
</div><span class="l"><a class="anc" name="ac75" href="#ac75">[ac75]</a><a href="#Sprites_ReplaceWithCoinDrop" class="la">Sprites_ReplaceWithCoinDrop:</a><span class="ce">; [$ac75]</span></span>
<span class="l"><a class="anc" name="ac75" href="#ac75">[ac75]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="ac77" href="#ac77">[ac77]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span></span>
<span class="l"><a class="anc" name="ac7a" href="#ac7a">[ac7a]</a><span class="cd"><span class="i">TYA</span></span></span>
<span class="l"><a class="anc" name="ac7b" href="#ac7b">[ac7b]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="ac7c" href="#ac7c">[ac7c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ReplaceWithDroppedItem"></a><div class="cp">;============================================================================
; Replace a sprite with a dropped item sprite.
;
; This will replace a sprite on the screen with a dropped
; item (bread or coin). The entity, sprite behavior,
; subtype, and hitbox type will all be set.
;
; INPUTS:
;     SPRITE_BEHAVIOR_ADDRS:
;         The lookup table of sprite behavior addresses.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         The updated sprite entities on the screen.
;
;     <a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>:
;     <a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>:
;         The updated sprite behaviors.
;
;     <a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>:
;         The updated subtypes.
;
;     <a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>:
;         The updated hitbox types.
;
; CALLS:
;     <a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a>
;
; XREFS:
;     <a href="#Sprite_ReplaceWithBreadDrop">Sprite_ReplaceWithBreadDrop</a>
;============================================================================
</div><span class="l"><a class="anc" name="ac7e" href="#ac7e">[ac7e]</a><a href="#Sprite_ReplaceWithDroppedItem" class="la">Sprite_ReplaceWithDroppedItem:</a><span class="ce">; [$ac7e]</span></span>
<div class="c">;
; Set the sprite entity.
;
</div><span class="l"><a class="anc" name="ac7e" href="#ac7e">[ac7e]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Set the provided sprite entity at the given index.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the sprite behavior address.
;
</div><span class="l"><a class="anc" name="ac81" href="#ac81">[ac81]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span><span class="ce">; Convert the sprite entity to a word boundary for the behavior addresses.</span></span>
<span class="l"><a class="anc" name="ac82" href="#ac82">[ac82]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"><a class="anc" name="ac83" href="#ac83">[ac83]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>,Y</span></span><span class="ce">; Load the lower byte of the sprite behavior for this entity.</span></span>
<span class="l"><a class="anc" name="ac86" href="#ac86">[ac86]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>,X</span></span><span class="ce">; Set it as the current behavior for this sprite.</span></span>
<span class="l"><a class="anc" name="ac89" href="#ac89">[ac89]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>+1,Y</span></span><span class="ce">; Load the upper byte.</span></span>
<span class="l"><a class="anc" name="ac8c" href="#ac8c">[ac8c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>,X</span></span><span class="ce">; And set that.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the sprite subtype to 0xFF (unset).
;
</div><span class="l"><a class="anc" name="ac8f" href="#ac8f">[ac8f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span><span class="ce">; A = 0xFF</span></span>
<span class="l"><a class="anc" name="ac91" href="#ac91">[ac91]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span><span class="ce">; Set it as the subtype.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the sprite hitbox.
;
</div><span class="l"><a class="anc" name="ac94" href="#ac94">[ac94]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$02</span></span><span class="ce">; Y = 2</span></span>
<span class="l"><a class="anc" name="ac96" href="#ac96">[ac96]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITIES_HITBOX_TYPES">SPRITE_ENTITIES_HITBOX_TYPES</a>,Y</span></span><span class="ce">; A = hitbox type for Y.</span></span>
<span class="l"><a class="anc" name="ac99" href="#ac99">[ac99]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span><span class="ce">; Set as the hitbox.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Disable sprite behaviors.
;
</div><span class="l"><a class="anc" name="ac9c" href="#ac9c">[ac9c]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a></span></span><span class="ce">; Disable behaviors for this sprite.</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ReplaceWithBreadDrop"></a><div class="cp">;============================================================================
; Replace a sprite with bread.
;
; This is used when a sprite is killed and drops bread.
;
; INPUTS:
;     Y:
;         The index of the sprite.
;
; OUTPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;     <a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>:
;     <a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>:
;     <a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>:
;     <a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>:
;         The new bread sprite state.
;
; CALLS:
;     <a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a>
;
; XREFS:
;     <a href="#SPRITE_DROP_HANDLERS_LAST">SPRITE_DROP_HANDLERS_LAST</a> [$PRG14::ac73]
;============================================================================
</div><span class="l"><a class="anc" name="ac9f" href="#ac9f">[ac9f]</a><a href="#Sprite_ReplaceWithBreadDrop" class="la">Sprite_ReplaceWithBreadDrop:</a><span class="ce">; [$ac9f]</span></span>
<span class="l"><a class="anc" name="ac9f" href="#ac9f">[ac9f]</a><span class="cd"><span class="i">TYA</span></span><span class="ce">; A = Y (sprite index)</span></span>
<span class="l"><a class="anc" name="aca0" href="#aca0">[aca0]</a><span class="cd"><span class="i">TAX</span></span><span class="ce">; X = A</span></span>
<span class="l"><a class="anc" name="aca1" href="#aca1">[aca1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span><span class="ce">; A = 1</span></span>
<span class="l"><a class="anc" name="aca3" href="#aca3">[aca3]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_ReplaceWithDroppedItem">Sprite_ReplaceWithDroppedItem</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Sprite_ReplaceWithMattock"></a><div class="cp">;============================================================================
; MAYBE DEADCODE
;============================================================================
</div><span class="l"><a class="anc" name="aca6" href="#aca6">[aca6]</a><a href="#Sprite_ReplaceWithMattock" class="la">Sprite_ReplaceWithMattock:</a><span class="ce">; [$aca6]</span></span>
<span class="l"><a class="anc" name="aca6" href="#aca6">[aca6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#@_Sprites_ReplaceWithMattock_HasMaxOnScreen">@_Sprites_ReplaceWithMattock_HasMaxOnScreen</a></span></span><span class="ce">; Check if all sprite slots are populated.</span></span>
<span class="l"><a class="anc" name="aca9" href="#aca9">[aca9]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If so, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; There are unpopulated slots. Populate at the given index.
;
</div><span class="l"><a class="anc" name="acab" href="#acab">[acab]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$50</span></span><span class="ce">; A = Mattock sprite ID.</span></span>
<span class="l"><a class="anc" name="acad" href="#acad">[acad]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Store as the entity at this index.</span></span>
<span class="l"><a class="anc" name="acb0" href="#acb0">[acb0]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span><span class="ce">; Normalize to a word boundary.</span></span>
<span class="l"><a class="anc" name="acb1" href="#acb1">[acb1]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the behavior address for the Mattock to
; <a href="#BSCRIPTS_OBJ_MATTOCK">BSCRIPTS_OBJ_MATTOCK</a>.
;
</div><span class="l"><a class="anc" name="acb2" href="#acb2">[acb2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>,Y</span></span><span class="ce">; A = 0x1B.</span></span>
<span class="l"><a class="anc" name="acb5" href="#acb5">[acb5]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_L">CurrentSprites_BehaviorAddrs_L</a>,X</span></span><span class="ce">; Set as lower byte.</span></span>
<span class="l"><a class="anc" name="acb8" href="#acb8">[acb8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a>+1,Y</span></span><span class="ce">; A = 0xB2.</span></span>
<span class="l"><a class="anc" name="acbb" href="#acbb">[acbb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_BehaviorAddrs_U">CurrentSprites_BehaviorAddrs_U</a>,X</span></span><span class="ce">; Set as upper byte.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the subtype to 0xFF (unset).
;
</div><span class="l"><a class="anc" name="acbe" href="#acbe">[acbe]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span><span class="ce">; A = 0xFF</span></span>
<span class="l"><a class="anc" name="acc0" href="#acc0">[acc0]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_Behaviors">CurrentSprites_Behaviors</a>,X</span></span><span class="ce">; Set subtype to A.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the hitbox of the sprite.
;
</div><span class="l"><a class="anc" name="acc3" href="#acc3">[acc3]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; Y = sprite entity.</span></span>
<span class="l"><a class="anc" name="acc6" href="#acc6">[acc6]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#SPRITE_ENTITIES_HITBOX_TYPES">SPRITE_ENTITIES_HITBOX_TYPES</a>,Y</span></span><span class="ce">; A = hitbox type for Y.</span></span>
<span class="l"><a class="anc" name="acc9" href="#acc9">[acc9]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_HitBoxTypes">CurrentSprites_HitBoxTypes</a>,X</span></span><span class="ce">; Store as the hitbox type.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the Y position of the sprite to 32.
;
</div><span class="l"><a class="anc" name="accc" href="#accc">[accc]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$20</span></span><span class="ce">; A = 32</span></span>
<span class="l"><a class="anc" name="acce" href="#acce">[acce]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_YPos">CurrentSprites_YPos</a>,X</span></span><span class="ce">; Set as X position.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the X position of the sprite as 120.
;
</div><span class="l"><a class="anc" name="acd0" href="#acd0">[acd0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$78</span></span><span class="ce">; A = 120</span></span>
<span class="l"><a class="anc" name="acd2" href="#acd2">[acd2]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span><span class="ce">; Set as X position.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the PPU address for the sprite.
;
</div><span class="l"><a class="anc" name="acd4" href="#acd4">[acd4]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$90</span></span><span class="ce">; A = 0x90</span></span>
<span class="l"><a class="anc" name="acd6" href="#acd6">[acd6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprites_PPUOffsets">CurrentSprites_PPUOffsets</a>,X</span></span><span class="ce">; Set as the PPU address.</span></span>
<span class="l"><a class="anc" name="acd9" href="#acd9">[acd9]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#Sprite_SetBehaviorNotReady">Sprite_SetBehaviorNotReady</a></span></span><span class="ce">; Disable behaviors for the sprite.</span></span>
<span class="l"></span>
<a name=":acdc:@_return"></a><span class="l"><a class="anc" name="acdc" href="#acdc">[acdc]</a><a href="#:acdc:@_return" class="lla">@_return:</a><span class="ce">; [$acdc]</span></span>
<span class="l"><a class="anc" name="acdc" href="#acdc">[acdc]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="_Sprites_ReplaceWithMattock_HasMaxOnScreen"></a><div class="cp">;============================================================================
; Return whether all sprite slots are populated.
;
; This is similar to <a href="#Sprites_HasMaxOnScreen">Sprites_HasMaxOnScreen</a>, but
; is specific to <a href="#Sprite_ReplaceWithMattock">Sprite_ReplaceWithMattock</a>.
;
; It differs in that the counter variable is X instead of Y.
;
; INPUTS:
;     <a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>:
;         All populated sprite entities on the screen.
;
; OUTPUTS:
;     C:
;         1 if all sprite slot are populated.
;         0 if any are unpopulated.
;
; XREFS:
;     <a href="#Sprite_ReplaceWithMattock">Sprite_ReplaceWithMattock</a>
;============================================================================
</div><span class="l"><a class="anc" name="acdd" href="#acdd">[acdd]</a><a href="#:acdd:@_Sprites_ReplaceWithMattock_HasMaxOnScreen" class="lla">@_Sprites_ReplaceWithMattock_HasMaxOnScreen:</a><span class="ce">; [$acdd]</span></span>
<span class="l"><a class="anc" name="acdd" href="#acdd">[acdd]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$07</span></span><span class="ce">; X = 7 (our loop counter)</span></span>
<span class="l"></span>
<a name=":acdf:@_loop"></a><span class="l"><a class="anc" name="acdf" href="#acdf">[acdf]</a><a href="#:acdf:@_loop" class="lla">@_loop:</a><span class="ce">; [$acdf]</span></span>
<span class="l"><a class="anc" name="acdf" href="#acdf">[acdf]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_Entities">CurrentSprites_Entities</a>,X</span></span><span class="ce">; A = sprite entity at X</span></span>
<span class="l"><a class="anc" name="ace2" href="#ace2">[ace2]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it 0xFF (unpopulated)?</span></span>
<span class="l"><a class="anc" name="ace4" href="#ace4">[ace4]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_isPopulated">@_isPopulated</a></span></span><span class="ce">; If not, jump to prepare the next loop.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; There's an unpopulated sprite. Return a false result.
;
</div><span class="l"><a class="anc" name="ace6" href="#ace6">[ace6]</a><span class="cd"><span class="i">CLC</span></span><span class="ce">; Set C = 0</span></span>
<span class="l"><a class="anc" name="ace7" href="#ace7">[ace7]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; And return it.</span></span>
<span class="l"></span>
<a name=":ace8:@_isPopulated"></a><span class="l"><a class="anc" name="ace8" href="#ace8">[ace8]</a><a href="#:ace8:@_isPopulated" class="lla">@_isPopulated:</a><span class="ce">; [$ace8]</span></span>
<span class="l"><a class="anc" name="ace8" href="#ace8">[ace8]</a><span class="cd"><span class="i">DEX</span></span><span class="ce">; X--</span></span>
<span class="l"><a class="anc" name="ace9" href="#ace9">[ace9]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_loop">@_loop</a></span></span><span class="ce">; If &gt;= 0, loop.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; All slots are populated. Return a true result.
;
</div><span class="l"><a class="anc" name="aceb" href="#aceb">[aceb]</a><span class="cd"><span class="i">SEC</span></span><span class="ce">; Set C = 1</span></span>
<span class="l"><a class="anc" name="acec" href="#acec">[acec]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; And return it.</span></span>
<span class="l"></span>
<a name="SPRITE_MAYBE_DROP_RANDOM_DATA"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_Sprite_HandleDeathDrop">Maybe_Sprite_HandleDeathDrop</a>
;
</div><span class="l"><a class="anc" name="aced" href="#aced">[aced]</a><a href="#SPRITE_MAYBE_DROP_RANDOM_DATA" class="la">SPRITE_MAYBE_DROP_RANDOM_DATA:</a><span class="ce">; [$aced]</span></span>
<span class="l"><a class="anc" name="aced" href="#aced">[aced]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="acee" href="#acee">[acee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="acef" href="#acef">[acef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="acf0" href="#acf0">[acf0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="acf1" href="#acf1">[acf1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$16</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="acf2" href="#acf2">[acf2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1a</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="acf3" href="#acf3">[acf3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="acf4" href="#acf4">[acf4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$35</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="acf5" href="#acf5">[acf5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$38</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="acf6" href="#acf6">[acf6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3b</span></span><span class="ce">; [9]:</span></span>
<span class="l"><a class="anc" name="acf7" href="#acf7">[acf7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3f</span></span><span class="ce">; [10]:</span></span>
<span class="l"><a class="anc" name="acf8" href="#acf8">[acf8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [11]:</span></span>
<span class="l"><a class="anc" name="acf9" href="#acf9">[acf9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$43</span></span><span class="ce">; [12]:</span></span>
<span class="l"><a class="anc" name="acfa" href="#acfa">[acfa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$48</span></span><span class="ce">; [13]:</span></span>
<span class="l"><a class="anc" name="acfb" href="#acfb">[acfb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4a</span></span><span class="ce">; [14]:</span></span>
<span class="l"><a class="anc" name="acfc" href="#acfc">[acfc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4e</span></span><span class="ce">; [15]:</span></span>
<span class="l"><a class="anc" name="acfd" href="#acfd">[acfd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$55</span></span><span class="ce">; [16]:</span></span>
<span class="l"><a class="anc" name="acfe" href="#acfe">[acfe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$5a</span></span><span class="ce">; [17]:</span></span>
<span class="l"><a class="anc" name="acff" href="#acff">[acff]</a><span class="cd"><span class="i">.byte</span> <span class="o">$62</span></span><span class="ce">; [18]:</span></span>
<span class="l"><a class="anc" name="ad00" href="#ad00">[ad00]</a><span class="cd"><span class="i">.byte</span> <span class="o">$64</span></span><span class="ce">; [19]:</span></span>
<span class="l"><a class="anc" name="ad01" href="#ad01">[ad01]</a><span class="cd"><span class="i">.byte</span> <span class="o">$73</span></span><span class="ce">; [20]:</span></span>
<span class="l"><a class="anc" name="ad02" href="#ad02">[ad02]</a><span class="cd"><span class="i">.byte</span> <span class="o">$78</span></span><span class="ce">; [21]:</span></span>
<span class="l"><a class="anc" name="ad03" href="#ad03">[ad03]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">; [22]:</span></span>
<span class="l"><a class="anc" name="ad04" href="#ad04">[ad04]</a><span class="cd"><span class="i">.byte</span> <span class="o">$88</span></span><span class="ce">; [23]:</span></span>
<span class="l"><a class="anc" name="ad05" href="#ad05">[ad05]</a><span class="cd"><span class="i">.byte</span> <span class="o">$96</span></span><span class="ce">; [24]:</span></span>
<span class="l"><a class="anc" name="ad06" href="#ad06">[ad06]</a><span class="cd"><span class="i">.byte</span> <span class="o">$b4</span></span><span class="ce">; [25]:</span></span>
<span class="l"><a class="anc" name="ad07" href="#ad07">[ad07]</a><span class="cd"><span class="i">.byte</span> <span class="o">$be</span></span><span class="ce">; [26]:</span></span>
<span class="l"><a class="anc" name="ad08" href="#ad08">[ad08]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c8</span></span><span class="ce">; [27]:</span></span>
<span class="l"><a class="anc" name="ad09" href="#ad09">[ad09]</a><span class="cd"><span class="i">.byte</span> <span class="o">$dc</span></span><span class="ce">; [28]:</span></span>
<span class="l"><a class="anc" name="ad0a" href="#ad0a">[ad0a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e6</span></span><span class="ce">; [29]:</span></span>
<span class="l"><a class="anc" name="ad0b" href="#ad0b">[ad0b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [30]:</span></span>
<span class="l"><a class="anc" name="ad0c" href="#ad0c">[ad0c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fa</span></span><span class="ce">; [31]:</span></span>
<span class="l"><a class="anc" name="ad0d" href="#ad0d">[ad0d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [32]:</span></span>
<span class="l"><a class="anc" name="ad0e" href="#ad0e">[ad0e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [33]:</span></span>
<span class="l"><a class="anc" name="ad0f" href="#ad0f">[ad0f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [34]:</span></span>
<span class="l"><a class="anc" name="ad10" href="#ad10">[ad10]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [35]:</span></span>
<span class="l"><a class="anc" name="ad11" href="#ad11">[ad11]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [36]:</span></span>
<span class="l"><a class="anc" name="ad12" href="#ad12">[ad12]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [37]:</span></span>
<span class="l"><a class="anc" name="ad13" href="#ad13">[ad13]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [38]:</span></span>
<span class="l"><a class="anc" name="ad14" href="#ad14">[ad14]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [39]:</span></span>
<span class="l"><a class="anc" name="ad15" href="#ad15">[ad15]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [40]:</span></span>
<span class="l"><a class="anc" name="ad16" href="#ad16">[ad16]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [41]:</span></span>
<span class="l"><a class="anc" name="ad17" href="#ad17">[ad17]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [42]:</span></span>
<span class="l"><a class="anc" name="ad18" href="#ad18">[ad18]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [43]:</span></span>
<span class="l"><a class="anc" name="ad19" href="#ad19">[ad19]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [44]:</span></span>
<span class="l"><a class="anc" name="ad1a" href="#ad1a">[ad1a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [45]:</span></span>
<span class="l"><a class="anc" name="ad1b" href="#ad1b">[ad1b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [46]:</span></span>
<span class="l"><a class="anc" name="ad1c" href="#ad1c">[ad1c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [47]:</span></span>
<span class="l"><a class="anc" name="ad1d" href="#ad1d">[ad1d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [48]:</span></span>
<span class="l"><a class="anc" name="ad1e" href="#ad1e">[ad1e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [49]:</span></span>
<span class="l"><a class="anc" name="ad1f" href="#ad1f">[ad1f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [50]:</span></span>
<span class="l"><a class="anc" name="ad20" href="#ad20">[ad20]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [51]:</span></span>
<span class="l"><a class="anc" name="ad21" href="#ad21">[ad21]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0e</span></span><span class="ce">; [52]:</span></span>
<span class="l"><a class="anc" name="ad22" href="#ad22">[ad22]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [53]:</span></span>
<span class="l"><a class="anc" name="ad23" href="#ad23">[ad23]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [54]:</span></span>
<span class="l"><a class="anc" name="ad24" href="#ad24">[ad24]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">; [55]:</span></span>
<span class="l"><a class="anc" name="ad25" href="#ad25">[ad25]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [56]:</span></span>
<span class="l"><a class="anc" name="ad26" href="#ad26">[ad26]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">; [57]:</span></span>
<span class="l"><a class="anc" name="ad27" href="#ad27">[ad27]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">; [58]:</span></span>
<span class="l"><a class="anc" name="ad28" href="#ad28">[ad28]</a><span class="cd"><span class="i">.byte</span> <span class="o">$37</span></span><span class="ce">; [59]:</span></span>
<span class="l"><a class="anc" name="ad29" href="#ad29">[ad29]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">; [60]:</span></span>
<span class="l"><a class="anc" name="ad2a" href="#ad2a">[ad2a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [61]:</span></span>
<span class="l"><a class="anc" name="ad2b" href="#ad2b">[ad2b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$46</span></span><span class="ce">; [62]:</span></span>
<span class="l"><a class="anc" name="ad2c" href="#ad2c">[ad2c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4c</span></span><span class="ce">; [63]:</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS"></a><div class="cp">;============================================================================
; A mapping of sprite entity IDs to behavior state addresses.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Sprites_PopulateNextAvailableSprite">Sprites_PopulateNextAvailableSprite</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="PRG15_MIRROR.html#Sprites_PopulateNextAvailableSprite">Sprites_PopulateNextAvailableSprite</a>
;
</div><span class="l"><a class="anc" name="ad2d" href="#ad2d">[ad2d]</a><a href="#SPRITE_BSCRIPTS" class="la">SPRITE_BSCRIPTS:</a><span class="ce">; [$ad2d]</span></span>
<span class="l"><a class="anc" name="ad2d" href="#ad2d">[ad2d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NOOP">BSCRIPTS_NOOP</a></span></span><span class="ce">; [0]:</span></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS_1_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_ReplaceWithDroppedItem">Sprite_ReplaceWithDroppedItem</a>
;
</div><span class="l"><a class="anc" name="ad2f" href="#ad2f">[ad2f]</a><a href="#SPRITE_BSCRIPTS_1_" class="la">SPRITE_BSCRIPTS_1_:</a><span class="ce">; [$ad2f]</span></span>
<span class="l"><a class="anc" name="ad2f" href="#ad2f">[ad2f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_BREAD">BSCRIPTS_OBJ_BREAD</a></span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS_2_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_ReplaceWithDroppedItem">Sprite_ReplaceWithDroppedItem</a>
;
</div><span class="l"><a class="anc" name="ad31" href="#ad31">[ad31]</a><a href="#SPRITE_BSCRIPTS_2_" class="la">SPRITE_BSCRIPTS_2_:</a><span class="ce">; [$ad31]</span></span>
<span class="l"><a class="anc" name="ad31" href="#ad31">[ad31]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_COIN">BSCRIPTS_OBJ_COIN</a></span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="ad33" href="#ad33">[ad33]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#SPRITE_BEHAVIORS_GARBLED_03">SPRITE_BEHAVIORS_GARBLED_03</a></span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="ad35" href="#ad35">[ad35]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_RAIDEN">BSCRIPTS_ENEMY_RAIDEN</a></span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="ad37" href="#ad37">[ad37]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_NECRON_AIDES">BSCRIPTS_ENEMY_NECRON_AIDES</a></span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="ad39" href="#ad39">[ad39]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_ZOMBIE">BSCRIPTS_ENEMY_ZOMBIE</a></span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="ad3b" href="#ad3b">[ad3b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_HORNET">BSCRIPTS_ENEMY_HORNET</a></span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="ad3d" href="#ad3d">[ad3d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_BIHORUDA">BSCRIPTS_ENEMY_BIHORUDA</a></span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="ad3f" href="#ad3f">[ad3f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_LILITH">BSCRIPTS_ENEMY_LILITH</a></span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="ad41" href="#ad41">[ad41]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_GARBLED_10">BSCRIPTS_GARBLED_10</a></span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="ad43" href="#ad43">[ad43]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_YUINARU">BSCRIPTS_ENEMY_YUINARU</a></span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="ad45" href="#ad45">[ad45]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_SNOWMAN">BSCRIPTS_ENEMY_SNOWMAN</a></span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="ad47" href="#ad47">[ad47]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_NASH">BSCRIPTS_ENEMY_NASH</a></span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="ad49" href="#ad49">[ad49]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_FIRE_GIANT">BSCRIPTS_ENEMY_FIRE_GIANT</a></span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="ad4b" href="#ad4b">[ad4b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_ISHIISU">BSCRIPTS_ENEMY_ISHIISU</a></span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="ad4d" href="#ad4d">[ad4d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_EXECUTION_HOOD">BSCRIPTS_ENEMY_EXECUTION_HOOD</a></span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="ad4f" href="#ad4f">[ad4f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_ROKUSUTAHN">BSCRIPTS_BOSS_ROKUSUTAHN</a></span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="ad51" href="#ad51">[ad51]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_18">BSCRIPTS_ENEMY_UNUSED_18</a></span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS_19_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_SetDeathEntity">Sprite_SetDeathEntity</a>
;
</div><span class="l"><a class="anc" name="ad53" href="#ad53">[ad53]</a><a href="#SPRITE_BSCRIPTS_19_" class="la">SPRITE_BSCRIPTS_19_:</a><span class="ce">; [$ad53]</span></span>
<span class="l"><a class="anc" name="ad53" href="#ad53">[ad53]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_LIGHTNING_BALL_19">BSCRIPTS_LIGHTNING_BALL_19</a></span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS_20_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_SetDeathEntity">Sprite_SetDeathEntity</a>
;
</div><span class="l"><a class="anc" name="ad55" href="#ad55">[ad55]</a><a href="#SPRITE_BSCRIPTS_20_" class="la">SPRITE_BSCRIPTS_20_:</a><span class="ce">; [$ad55]</span></span>
<span class="l"><a class="anc" name="ad55" href="#ad55">[ad55]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_CHARRON">BSCRIPTS_ENEMY_CHARRON</a></span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="ad57" href="#ad57">[ad57]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_21">BSCRIPTS_ENEMY_UNUSED_21</a></span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="ad59" href="#ad59">[ad59]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NOOP">BSCRIPTS_NOOP</a></span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="ad5b" href="#ad5b">[ad5b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GERIBUTA">BSCRIPTS_ENEMY_GERIBUTA</a></span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="ad5d" href="#ad5d">[ad5d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_SUGATA">BSCRIPTS_ENEMY_SUGATA</a></span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="ad5f" href="#ad5f">[ad5f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="ad61" href="#ad61">[ad61]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GIANT_BEES">BSCRIPTS_ENEMY_GIANT_BEES</a></span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="ad63" href="#ad63">[ad63]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MYCONID">BSCRIPTS_ENEMY_MYCONID</a></span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="ad65" href="#ad65">[ad65]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_NAGA">BSCRIPTS_ENEMY_NAGA</a></span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="ad67" href="#ad67">[ad67]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_29">BSCRIPTS_ENEMY_UNUSED_29</a></span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="ad69" href="#ad69">[ad69]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GIANT_STRIDER">BSCRIPTS_ENEMY_GIANT_STRIDER</a></span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="ad6b" href="#ad6b">[ad6b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN">BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN</a></span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="ad6d" href="#ad6d">[ad6d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MASKMAN">BSCRIPTS_ENEMY_MASKMAN</a></span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="ad6f" href="#ad6f">[ad6f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN">BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN</a></span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="ad71" href="#ad71">[ad71]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_YAREEKA">BSCRIPTS_ENEMY_YAREEKA</a></span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="ad73" href="#ad73">[ad73]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MAGMAN">BSCRIPTS_ENEMY_MAGMAN</a></span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="ad75" href="#ad75">[ad75]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_36">BSCRIPTS_ENEMY_UNUSED_36</a></span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="ad77" href="#ad77">[ad77]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NOOP">BSCRIPTS_NOOP</a></span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="ad79" href="#ad79">[ad79]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_IKEDA">BSCRIPTS_ENEMY_IKEDA</a></span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="ad7b" href="#ad7b">[ad7b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_39">BSCRIPTS_ENEMY_UNUSED_39</a></span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="ad7d" href="#ad7d">[ad7d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_LAMPREY">BSCRIPTS_ENEMY_LAMPREY</a></span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="ad7f" href="#ad7f">[ad7f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NOOP">BSCRIPTS_NOOP</a></span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="ad81" href="#ad81">[ad81]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MONODRON">BSCRIPTS_ENEMY_MONODRON</a></span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="ad83" href="#ad83">[ad83]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_43">BSCRIPTS_ENEMY_UNUSED_43</a></span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="ad85" href="#ad85">[ad85]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_TAMAZUTSU">BSCRIPTS_ENEMY_TAMAZUTSU</a></span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="ad87" href="#ad87">[ad87]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_RIPASHEIKU">BSCRIPTS_BOSS_RIPASHEIKU</a></span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="ad89" href="#ad89">[ad89]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_ZORADOHNA">BSCRIPTS_BOSS_ZORADOHNA</a></span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="ad8b" href="#ad8b">[ad8b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_BORABOHRA">BSCRIPTS_BOSS_BORABOHRA</a></span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="ad8d" href="#ad8d">[ad8d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_PAKUKAME">BSCRIPTS_BOSS_PAKUKAME</a></span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="ad8f" href="#ad8f">[ad8f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_ZORUGERIRU">BSCRIPTS_BOSS_ZORUGERIRU</a></span></span><span class="ce">; [49]: Boss: Zorugeriru</span></span>
<span class="l"><a class="anc" name="ad91" href="#ad91">[ad91]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_KING_GRIEVE">BSCRIPTS_BOSS_KING_GRIEVE</a></span></span><span class="ce">; [50]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="ad93" href="#ad93">[ad93]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_SHADOW_EURA">BSCRIPTS_BOSS_SHADOW_EURA</a></span></span><span class="ce">; [51]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="ad95" href="#ad95">[ad95]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_WALKING_MAN">BSCRIPTS_NPC_WALKING_MAN</a></span></span><span class="ce">; [52]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="ad97" href="#ad97">[ad97]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_UNUSED_BLUE_LADY">BSCRIPTS_NPC_UNUSED_BLUE_LADY</a></span></span><span class="ce">; [53]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="ad99" href="#ad99">[ad99]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_UNUSED_CHILD">BSCRIPTS_NPC_UNUSED_CHILD</a></span></span><span class="ce">; [54]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="ad9b" href="#ad9b">[ad9b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_ARMOR_SALESMAN">BSCRIPTS_NPC_ARMOR_SALESMAN</a></span></span><span class="ce">; [55]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="ad9d" href="#ad9d">[ad9d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MARTIAL_ARTS">BSCRIPTS_NPC_MARTIAL_ARTS</a></span></span><span class="ce">; [56]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="ad9f" href="#ad9f">[ad9f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_PRIEST">BSCRIPTS_NPC_PRIEST</a></span></span><span class="ce">; [57]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="ada1" href="#ada1">[ada1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_KING">BSCRIPTS_NPC_KING</a></span></span><span class="ce">; [58]: NPC: King</span></span>
<span class="l"><a class="anc" name="ada3" href="#ada3">[ada3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MAGIC_TEACHER">BSCRIPTS_NPC_MAGIC_TEACHER</a></span></span><span class="ce">; [59]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="ada5" href="#ada5">[ada5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_KEY_SALESMAN">BSCRIPTS_NPC_KEY_SALESMAN</a></span></span><span class="ce">; [60]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="ada7" href="#ada7">[ada7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_SMOKING_MAN">BSCRIPTS_NPC_SMOKING_MAN</a></span></span><span class="ce">; [61]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="ada9" href="#ada9">[ada9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MAN_IN_CHAIR">BSCRIPTS_NPC_MAN_IN_CHAIR</a></span></span><span class="ce">; [62]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="adab" href="#adab">[adab]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_SITTING_MAN">BSCRIPTS_NPC_SITTING_MAN</a></span></span><span class="ce">; [63]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="adad" href="#adad">[adad]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MEAT_SALESMAN">BSCRIPTS_NPC_MEAT_SALESMAN</a></span></span><span class="ce">; [64]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="adaf" href="#adaf">[adaf]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP">BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP</a></span></span><span class="ce">; [65]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="adb1" href="#adb1">[adb1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_KINGS_GUARD">BSCRIPTS_NPC_KINGS_GUARD</a></span></span><span class="ce">; [66]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="adb3" href="#adb3">[adb3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_DOCTOR">BSCRIPTS_NPC_DOCTOR</a></span></span><span class="ce">; [67]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="adb5" href="#adb5">[adb5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_WALKING_WOMAN_01">BSCRIPTS_NPC_WALKING_WOMAN_01</a></span></span><span class="ce">; [68]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="adb7" href="#adb7">[adb7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_WALKING_WOMAN_02">BSCRIPTS_NPC_WALKING_WOMAN_02</a></span></span><span class="ce">; [69]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="adb9" href="#adb9">[adb9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_EYEBALL">BSCRIPTS_ENEMY_UNUSED_EYEBALL</a></span></span><span class="ce">; [70]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="adbb" href="#adbb">[adbb]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_ZOZURA">BSCRIPTS_ENEMY_ZOZURA</a></span></span><span class="ce">; [71]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="adbd" href="#adbd">[adbd]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_GLOVE">BSCRIPTS_OBJ_GLOVE</a></span></span><span class="ce">; [72]: Item: Glove</span></span>
<span class="l"><a class="anc" name="adbf" href="#adbf">[adbf]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_BLACK_ONYX">BSCRIPTS_OBJ_BLACK_ONYX</a></span></span><span class="ce">; [73]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="adc1" href="#adc1">[adc1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_PENDANT">BSCRIPTS_OBJ_PENDANT</a></span></span><span class="ce">; [74]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="adc3" href="#adc3">[adc3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_POTIONLIKE">BSCRIPTS_OBJ_POTIONLIKE</a></span></span><span class="ce">; [75]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="adc5" href="#adc5">[adc5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_POTIONLIKE">BSCRIPTS_OBJ_POTIONLIKE</a></span></span><span class="ce">; [76]: Item: Poison</span></span>
<span class="l"><a class="anc" name="adc7" href="#adc7">[adc7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_POTIONLIKE">BSCRIPTS_OBJ_POTIONLIKE</a></span></span><span class="ce">; [77]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="adc9" href="#adc9">[adc9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_OINTMENT">BSCRIPTS_OBJ_OINTMENT</a></span></span><span class="ce">; [78]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="adcb" href="#adcb">[adcb]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_POTIONLIKE">BSCRIPTS_OBJ_POTIONLIKE</a></span></span><span class="ce">; [79]: Trigger: Intro</span></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS_80_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_ReplaceWithMattock">Sprite_ReplaceWithMattock</a>
;
</div><span class="l"><a class="anc" name="adcd" href="#adcd">[adcd]</a><a href="#SPRITE_BSCRIPTS_80_" class="la">SPRITE_BSCRIPTS_80_:</a><span class="ce">; [$adcd]</span></span>
<span class="l"><a class="anc" name="adcd" href="#adcd">[adcd]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_MATTOCK">BSCRIPTS_OBJ_MATTOCK</a></span></span><span class="ce">; [80]: Item: Mattock</span></span>
<span class="l"></span>
<a name="SPRITE_BSCRIPTS_81_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a>
;
</div><span class="l"><a class="anc" name="adcf" href="#adcf">[adcf]</a><a href="#SPRITE_BSCRIPTS_81_" class="la">SPRITE_BSCRIPTS_81_:</a><span class="ce">; [$adcf]</span></span>
<span class="l"><a class="anc" name="adcf" href="#adcf">[adcf]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_GARBLED_81">BSCRIPTS_GARBLED_81</a></span></span><span class="ce">; [81]: Magic: ?</span></span>
<span class="l"><a class="anc" name="add1" href="#add1">[add1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_FOUNTAIN">BSCRIPTS_FOUNTAIN</a></span></span><span class="ce">; [82]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="add3" href="#add3">[add3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#SPRITE_BEHAVIORS_UNKNOWN_83">SPRITE_BEHAVIORS_UNKNOWN_83</a></span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="add5" href="#add5">[add5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_GARBLED_81">BSCRIPTS_GARBLED_81</a></span></span><span class="ce">; [84]: Magic: Enemy Fireball</span></span>
<span class="l"><a class="anc" name="add7" href="#add7">[add7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_WINGBOOTS">BSCRIPTS_OBJ_WINGBOOTS</a></span></span><span class="ce">; [85]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="add9" href="#add9">[add9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_HOURGLASS">BSCRIPTS_OBJ_HOURGLASS</a></span></span><span class="ce">; [86]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="addb" href="#addb">[addb]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_MAGICAL_ROD">BSCRIPTS_OBJ_MAGICAL_ROD</a></span></span><span class="ce">; [87]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="addd" href="#addd">[addd]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_BATTLE_SUIT">BSCRIPTS_OBJ_BATTLE_SUIT</a></span></span><span class="ce">; [88]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="addf" href="#addf">[addf]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_BATTLE_HELMET">BSCRIPTS_OBJ_BATTLE_HELMET</a></span></span><span class="ce">; [89]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="ade1" href="#ade1">[ade1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_DRAGON_SLAYER">BSCRIPTS_OBJ_DRAGON_SLAYER</a></span></span><span class="ce">; [90]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="ade3" href="#ade3">[ade3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_MATTOCK_QUEST">BSCRIPTS_OBJ_MATTOCK_QUEST</a></span></span><span class="ce">; [91]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="ade5" href="#ade5">[ade5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_WINGSBOOTS_QUEST">BSCRIPTS_OBJ_WINGSBOOTS_QUEST</a></span></span><span class="ce">; [92]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="ade7" href="#ade7">[ade7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_RED_POTION_RANDOM">BSCRIPTS_OBJ_RED_POTION_RANDOM</a></span></span><span class="ce">; [93]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="ade9" href="#ade9">[ade9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_POISON">BSCRIPTS_OBJ_POISON</a></span></span><span class="ce">; [94]: Item: Poison</span></span>
<span class="l"><a class="anc" name="adeb" href="#adeb">[adeb]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_GLOVE_RANDOM">BSCRIPTS_OBJ_GLOVE_RANDOM</a></span></span><span class="ce">; [95]: Item: Glove</span></span>
<span class="l"><a class="anc" name="aded" href="#aded">[aded]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_OBJ_OINTMENT_RANDOM">BSCRIPTS_OBJ_OINTMENT_RANDOM</a></span></span><span class="ce">; [96]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="adef" href="#adef">[adef]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_SPRING_OF_FORTRESS">BSCRIPTS_SPRING_OF_FORTRESS</a></span></span><span class="ce">; [97]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="adf1" href="#adf1">[adf1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_SPRING_OF_SKY">BSCRIPTS_SPRING_OF_SKY</a></span></span><span class="ce">; [98]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="adf3" href="#adf3">[adf3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_SPRING_OF_JOKER">BSCRIPTS_SPRING_OF_JOKER</a></span></span><span class="ce">; [99]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="adf5" href="#adf5">[adf5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_EFFECT_BOSS_DEATH">BSCRIPTS_EFFECT_BOSS_DEATH</a></span></span><span class="ce">; [100]: Effect: Boss Death</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NOOP"></a><div class="cp">;============================================================================
; No-op sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad2d]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad59]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad77]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad7f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad2d]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad59]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad77]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad7f]
;
</div><span class="l"><a class="anc" name="adf7" href="#adf7">[adf7]</a><a href="#BSCRIPTS_NOOP" class="la">BSCRIPTS_NOOP:</a><span class="ce">; [$adf7]</span></span>
<span class="l"><a class="anc" name="adf7" href="#adf7">[adf7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_BREAD"></a><div class="cp">;============================================================================
; Bread drop sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad2f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad2f]
;
</div><span class="l"><a class="anc" name="adf8" href="#adf8">[adf8]</a><a href="#BSCRIPTS_OBJ_BREAD" class="la">BSCRIPTS_OBJ_BREAD:</a><span class="ce">; [$adf8]</span></span>
<span class="l"><a class="anc" name="adf8" href="#adf8">[adf8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="adf9" href="#adf9">[adf9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="adfa" href="#adfa">[adfa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="adfb" href="#adfb">[adfb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels</span></span>
<span class="l"><a class="anc" name="adfc" href="#adfc">[adfc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 3 blocks</span></span>
<span class="l"><a class="anc" name="adfd" href="#adfd">[adfd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">;  '- Hop mode 3</span></span>
<span class="l"><a class="anc" name="adfe" href="#adfe">[adfe]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="adff" href="#adff">[adff]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="ae00" href="#ae00">[ae00]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">;  |- For 255 ticks</span></span>
<span class="l"><a class="anc" name="ae01" href="#ae01">[ae01]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIORS_GARBLED_03"></a><div class="cp">;============================================================================
; Garbled 3 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad33]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad33]
;
</div><span class="l"><a class="anc" name="ae02" href="#ae02">[ae02]</a><a href="#SPRITE_BEHAVIORS_GARBLED_03" class="la">SPRITE_BEHAVIORS_GARBLED_03:</a><span class="ce">; [$ae02]</span></span>
<span class="l"><a class="anc" name="ae02" href="#ae02">[ae02]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae03" href="#ae03">[ae03]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_GARBLED_3</span></span><span class="ce">; [$ae03] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="ae04" href="#ae04">[ae04]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$ae04] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_BEHAVIORS_UNKNOWN_83"></a><div class="cp">;============================================================================
; Unknown 83 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add3]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add3]
;
</div><span class="l"><a class="anc" name="ae06" href="#ae06">[ae06]</a><a href="#SPRITE_BEHAVIORS_UNKNOWN_83" class="la">SPRITE_BEHAVIORS_UNKNOWN_83:</a><span class="ce">; [$ae06]</span></span>
<span class="l"><a class="anc" name="ae06" href="#ae06">[ae06]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$ae06] SpriteOp</span></span>
<span class="l"><a class="anc" name="ae07" href="#ae07">[ae07]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_UNKNOWN_29</span></span><span class="ce">; [$ae07] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="ae08" href="#ae08">[ae08]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$ae08] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_HORNET"></a><div class="cp">;============================================================================
; Hornet enemy sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad3b]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad3b]
;
</div><span class="l"><a class="anc" name="ae0a" href="#ae0a">[ae0a]</a><a href="#BSCRIPTS_ENEMY_HORNET" class="la">BSCRIPTS_ENEMY_HORNET:</a><span class="ce">; [$ae0a]</span></span>
<span class="l"><a class="anc" name="ae0a" href="#ae0a">[ae0a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae0b" href="#ae0b">[ae0b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BUZZ_AROUND</span></span><span class="ce">;  |- Buzz around</span></span>
<span class="l"><a class="anc" name="ae0c" href="#ae0c">[ae0c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="ae0d" href="#ae0d">[ae0d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_BIHORUDA"></a><div class="cp">;============================================================================
; Bihoruda enemy sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad3d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad3d]
;
</div><span class="l"><a class="anc" name="ae0e" href="#ae0e">[ae0e]</a><a href="#BSCRIPTS_ENEMY_BIHORUDA" class="la">BSCRIPTS_ENEMY_BIHORUDA:</a><span class="ce">; [$ae0e]</span></span>
<span class="l"><a class="anc" name="ae0e" href="#ae0e">[ae0e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae0f" href="#ae0f">[ae0f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BIHORUDA</span></span><span class="ce">; [$ae0f] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="ae10" href="#ae10">[ae10]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$ae10] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_LILITH"></a><div class="cp">;============================================================================
; Lilith enemy sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad3f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad3f]
;
</div><span class="l"><a class="anc" name="ae12" href="#ae12">[ae12]</a><a href="#BSCRIPTS_ENEMY_LILITH" class="la">BSCRIPTS_ENEMY_LILITH:</a><span class="ce">; [$ae12]</span></span>
<span class="l"><a class="anc" name="ae12" href="#ae12">[ae12]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae13" href="#ae13">[ae13]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_LILITH</span></span><span class="ce">; [$ae13] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="ae14" href="#ae14">[ae14]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$ae14] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_RAIDEN"></a><div class="cp">;============================================================================
; Raiden enemy sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad35]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad35]
;
</div><span class="l"><a class="anc" name="ae16" href="#ae16">[ae16]</a><a href="#BSCRIPTS_ENEMY_RAIDEN" class="la">BSCRIPTS_ENEMY_RAIDEN:</a><span class="ce">; [$ae16]</span></span>
<span class="l"><a class="anc" name="ae16" href="#ae16">[ae16]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae17" href="#ae17">[ae17]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="ae18" href="#ae18">[ae18]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae19" href="#ae19">[ae19]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="ae1a" href="#ae1a">[ae1a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="ae1b" href="#ae1b">[ae1b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels</span></span>
<span class="l"><a class="anc" name="ae1c" href="#ae1c">[ae1c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block</span></span>
<span class="l"><a class="anc" name="ae1d" href="#ae1d">[ae1d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae1e" href="#ae1e">[ae1e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="ae1f" href="#ae1f">[ae1f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="ae20" href="#ae20">[ae20]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae21" href="#ae21">[ae21]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  |- 2 pixels X</span></span>
<span class="l"><a class="anc" name="ae22" href="#ae22">[ae22]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="ae23" href="#ae23">[ae23]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae24" href="#ae24">[ae24]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="ae25" href="#ae25">[ae25]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="ae26" href="#ae26">[ae26]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels</span></span>
<span class="l"><a class="anc" name="ae27" href="#ae27">[ae27]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block</span></span>
<span class="l"></span>
<a name=":ae28:@_checkDistanceLoop"></a><span class="l"><a class="anc" name="ae28" href="#ae28">[ae28]</a><a href="#:ae28:@_checkDistanceLoop" class="lla">@_checkDistanceLoop:</a><span class="ce">; [$ae28]</span></span>
<span class="l"><a class="anc" name="ae28" href="#ae28">[ae28]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance</span></span>
<span class="l"><a class="anc" name="ae29" href="#ae29">[ae29]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="ae2a" href="#ae2a">[ae2a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">;  |- If &lt; 48</span></span>
<span class="l"><a class="anc" name="ae2b" href="#ae2b">[ae2b]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayer">@_isNearPlayer</a></span></span><span class="ce">;  |- Then <a href="#@_isNearPlayer">@_isNearPlayer</a></span></span>
<span class="l"><a class="anc" name="ae2d" href="#ae2d">[ae2d]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_checkDistanceLoop">@_checkDistanceLoop</a></span></span><span class="ce">;  '- Else, <a href="#@_checkDistanceLoop">@_checkDistanceLoop</a></span></span>
<span class="l"></span>
<a name=":ae2f:@_isNearPlayer"></a><span class="l"><a class="anc" name="ae2f" href="#ae2f">[ae2f]</a><a href="#:ae2f:@_isNearPlayer" class="lla">@_isNearPlayer:</a><span class="ce">; [$ae2f]</span></span>
<span class="l"><a class="anc" name="ae2f" href="#ae2f">[ae2f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="ae30" href="#ae30">[ae30]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae31" href="#ae31">[ae31]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall</span></span>
<span class="l"><a class="anc" name="ae32" href="#ae32">[ae32]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">;  '- For 7 ticks</span></span>
<span class="l"><a class="anc" name="ae33" href="#ae33">[ae33]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae34" href="#ae34">[ae34]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="ae35" href="#ae35">[ae35]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae36" href="#ae36">[ae36]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="ae37" href="#ae37">[ae37]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="ae38" href="#ae38">[ae38]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">;  |- 64 pixels X</span></span>
<span class="l"><a class="anc" name="ae39" href="#ae39">[ae39]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="ae3a" href="#ae3a">[ae3a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- Hop mode 0</span></span>
<span class="l"><a class="anc" name="ae3b" href="#ae3b">[ae3b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae3c" href="#ae3c">[ae3c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="ae3d" href="#ae3d">[ae3d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="ae3e" href="#ae3e">[ae3e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">;  |- 224 pixels</span></span>
<span class="l"><a class="anc" name="ae3f" href="#ae3f">[ae3f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks</span></span>
<span class="l"><a class="anc" name="ae40" href="#ae40">[ae40]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="ae41" href="#ae41">[ae41]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_RAIDEN">BSCRIPTS_ENEMY_RAIDEN</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_RAIDEN">BSCRIPTS_ENEMY_RAIDEN</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_EYEBALL"></a><div class="cp">;============================================================================
; Unused eyeball enemy sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb9]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb9]
;
</div><span class="l"><a class="anc" name="ae43" href="#ae43">[ae43]</a><a href="#BSCRIPTS_ENEMY_UNUSED_EYEBALL" class="la">BSCRIPTS_ENEMY_UNUSED_EYEBALL:</a><span class="ce">; [$ae43]</span></span>
<span class="l"><a class="anc" name="ae43" href="#ae43">[ae43]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae44" href="#ae44">[ae44]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="ae45" href="#ae45">[ae45]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae46" href="#ae46">[ae46]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAYBE_MOVE_XY</span></span><span class="ce">;  |- TODO: Move X/Y</span></span>
<span class="l"><a class="anc" name="ae47" href="#ae47">[ae47]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="ae48" href="#ae48">[ae48]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae49" href="#ae49">[ae49]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="ae4a" href="#ae4a">[ae4a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels Y</span></span>
<span class="l"><a class="anc" name="ae4b" href="#ae4b">[ae4b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks Y</span></span>
<span class="l"></span>
<a name=":ae4c:@_waitNearPlayerX"></a><span class="l"><a class="anc" name="ae4c" href="#ae4c">[ae4c]</a><a href="#:ae4c:@_waitNearPlayerX" class="lla">@_waitNearPlayerX:</a><span class="ce">; [$ae4c]</span></span>
<span class="l"><a class="anc" name="ae4c" href="#ae4c">[ae4c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="ae4d" href="#ae4d">[ae4d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="ae4e" href="#ae4e">[ae4e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">;  |- If &lt; 48</span></span>
<span class="l"><a class="anc" name="ae4f" href="#ae4f">[ae4f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayerX">@_isNearPlayerX</a></span></span><span class="ce">;  |- Then <a href="#@_isNearPlayerX">@_isNearPlayerX</a></span></span>
<span class="l"><a class="anc" name="ae51" href="#ae51">[ae51]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayerX">@_waitNearPlayerX</a></span></span><span class="ce">;  '- Else <a href="#@_waitNearPlayerX">@_waitNearPlayerX</a></span></span>
<span class="l"></span>
<a name=":ae53:@_isNearPlayerX"></a><span class="l"><a class="anc" name="ae53" href="#ae53">[ae53]</a><a href="#:ae53:@_isNearPlayerX" class="lla">@_isNearPlayerX:</a><span class="ce">; [$ae53]</span></span>
<span class="l"><a class="anc" name="ae53" href="#ae53">[ae53]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="ae54" href="#ae54">[ae54]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae55" href="#ae55">[ae55]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WAIT</span></span><span class="ce">;  |- Wait</span></span>
<span class="l"><a class="anc" name="ae56" href="#ae56">[ae56]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="ae57" href="#ae57">[ae57]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae58" href="#ae58">[ae58]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_Y</span></span><span class="ce">;  '- Face player (Y)</span></span>
<span class="l"><a class="anc" name="ae59" href="#ae59">[ae59]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae5a" href="#ae5a">[ae5a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAYBE_MOVE_XY</span></span><span class="ce">;  |- Move X/Y</span></span>
<span class="l"><a class="anc" name="ae5b" href="#ae5b">[ae5b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="ae5c" href="#ae5c">[ae5c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae5d" href="#ae5d">[ae5d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="ae5e" href="#ae5e">[ae5e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels Y</span></span>
<span class="l"><a class="anc" name="ae5f" href="#ae5f">[ae5f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block Y</span></span>
<span class="l"></span>
<a name=":ae60:@_waitNearPlayerY"></a><span class="l"><a class="anc" name="ae60" href="#ae60">[ae60]</a><a href="#:ae60:@_waitNearPlayerY" class="lla">@_waitNearPlayerY:</a><span class="ce">; [$ae60]</span></span>
<span class="l"><a class="anc" name="ae60" href="#ae60">[ae60]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="ae61" href="#ae61">[ae61]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- Y direction</span></span>
<span class="l"><a class="anc" name="ae62" href="#ae62">[ae62]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  |- If &lt; 8</span></span>
<span class="l"><a class="anc" name="ae63" href="#ae63">[ae63]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayerY">@_isNearPlayerY</a></span></span><span class="ce">;  |- Then <a href="#@_isNearPlayerY">@_isNearPlayerY</a></span></span>
<span class="l"><a class="anc" name="ae65" href="#ae65">[ae65]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayerY">@_waitNearPlayerY</a></span></span><span class="ce">;  '- Then <a href="#@_waitNearPlayerY">@_waitNearPlayerY</a></span></span>
<span class="l"></span>
<a name=":ae67:@_isNearPlayerY"></a><span class="l"><a class="anc" name="ae67" href="#ae67">[ae67]</a><a href="#:ae67:@_isNearPlayerY" class="lla">@_isNearPlayerY:</a><span class="ce">; [$ae67]</span></span>
<span class="l"><a class="anc" name="ae67" href="#ae67">[ae67]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="ae68" href="#ae68">[ae68]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae69" href="#ae69">[ae69]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WAIT</span></span><span class="ce">;  |- Wait</span></span>
<span class="l"><a class="anc" name="ae6a" href="#ae6a">[ae6a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="ae6b" href="#ae6b">[ae6b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae6c" href="#ae6c">[ae6c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="ae6d" href="#ae6d">[ae6d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae6e" href="#ae6e">[ae6e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAYBE_MOVE_XY</span></span><span class="ce">;  |- Move X/Y</span></span>
<span class="l"><a class="anc" name="ae6f" href="#ae6f">[ae6f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">;  |- For 50 ticks</span></span>
<span class="l"><a class="anc" name="ae70" href="#ae70">[ae70]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae71" href="#ae71">[ae71]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="ae72" href="#ae72">[ae72]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels Y</span></span>
<span class="l"><a class="anc" name="ae73" href="#ae73">[ae73]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks Y</span></span>
<span class="l"><a class="anc" name="ae74" href="#ae74">[ae74]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae75" href="#ae75">[ae75]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_Y_DIRECTION</span></span><span class="ce">;  '- Flip Y direction</span></span>
<span class="l"><a class="anc" name="ae76" href="#ae76">[ae76]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae77" href="#ae77">[ae77]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAYBE_MOVE_XY</span></span><span class="ce">;  |- Move X/Y</span></span>
<span class="l"><a class="anc" name="ae78" href="#ae78">[ae78]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">;  |- For 50 ticks</span></span>
<span class="l"><a class="anc" name="ae79" href="#ae79">[ae79]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae7a" href="#ae7a">[ae7a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="ae7b" href="#ae7b">[ae7b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels Y</span></span>
<span class="l"><a class="anc" name="ae7c" href="#ae7c">[ae7c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block Y</span></span>
<span class="l"><a class="anc" name="ae7d" href="#ae7d">[ae7d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae7e" href="#ae7e">[ae7e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WAIT</span></span><span class="ce">;  |- Wait</span></span>
<span class="l"><a class="anc" name="ae7f" href="#ae7f">[ae7f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="ae80" href="#ae80">[ae80]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae81" href="#ae81">[ae81]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_Y_DIRECTION</span></span><span class="ce">;  '- Randomly flip Y direction</span></span>
<span class="l"><a class="anc" name="ae82" href="#ae82">[ae82]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae83" href="#ae83">[ae83]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAYBE_MOVE_XY</span></span><span class="ce">;  |- Move X/Y</span></span>
<span class="l"><a class="anc" name="ae84" href="#ae84">[ae84]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  |- For 10 ticks</span></span>
<span class="l"><a class="anc" name="ae85" href="#ae85">[ae85]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae86" href="#ae86">[ae86]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="ae87" href="#ae87">[ae87]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels Y</span></span>
<span class="l"><a class="anc" name="ae88" href="#ae88">[ae88]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block Y</span></span>
<span class="l"><a class="anc" name="ae89" href="#ae89">[ae89]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="ae8a" href="#ae8a">[ae8a]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_EYEBALL">BSCRIPTS_ENEMY_UNUSED_EYEBALL</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_UNUSED_EYEBALL">BSCRIPTS_ENEMY_UNUSED_EYEBALL</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_IKEDA"></a><div class="cp">;============================================================================
; Ikedia sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad79]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad79]
;
</div><span class="l"><a class="anc" name="ae8c" href="#ae8c">[ae8c]</a><a href="#BSCRIPTS_ENEMY_IKEDA" class="la">BSCRIPTS_ENEMY_IKEDA:</a><span class="ce">; [$ae8c]</span></span>
<span class="l"><a class="anc" name="ae8c" href="#ae8c">[ae8c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="ae8d" href="#ae8d">[ae8d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="ae8e" href="#ae8e">[ae8e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae8f" href="#ae8f">[ae8f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="ae90" href="#ae90">[ae90]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="ae91" href="#ae91">[ae91]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels</span></span>
<span class="l"><a class="anc" name="ae92" href="#ae92">[ae92]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block</span></span>
<span class="l"></span>
<a name=":ae93:@_waitNearPlayerX"></a><span class="l"><a class="anc" name="ae93" href="#ae93">[ae93]</a><a href="#:ae93:@_waitNearPlayerX" class="lla">@_waitNearPlayerX:</a><span class="ce">; [$ae93]</span></span>
<span class="l"><a class="anc" name="ae93" href="#ae93">[ae93]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="ae94" href="#ae94">[ae94]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="ae95" href="#ae95">[ae95]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">;  |- If &lt; 64 pixels</span></span>
<span class="l"><a class="anc" name="ae96" href="#ae96">[ae96]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayerX">@_isNearPlayerX</a></span></span><span class="ce">;  |- Then _isNearPlayerX</span></span>
<span class="l"><a class="anc" name="ae98" href="#ae98">[ae98]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayerX">@_waitNearPlayerX</a></span></span><span class="ce">;  '- Else _waitNearPlayerX</span></span>
<span class="l"></span>
<a name=":ae9a:@_isNearPlayerX"></a><span class="l"><a class="anc" name="ae9a" href="#ae9a">[ae9a]</a><a href="#:ae9a:@_isNearPlayerX" class="lla">@_isNearPlayerX:</a><span class="ce">; [$ae9a]</span></span>
<span class="l"><a class="anc" name="ae9a" href="#ae9a">[ae9a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="ae9b" href="#ae9b">[ae9b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="ae9c" href="#ae9c">[ae9c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="ae9d" href="#ae9d">[ae9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="ae9e" href="#ae9e">[ae9e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="ae9f" href="#ae9f">[ae9f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 blocks X</span></span>
<span class="l"><a class="anc" name="aea0" href="#aea0">[aea0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- Hop mode 1</span></span>
<span class="l"><a class="anc" name="aea1" href="#aea1">[aea1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aea2" href="#aea2">[aea2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="aea3" href="#aea3">[aea3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  |- For 10 ticks</span></span>
<span class="l"><a class="anc" name="aea4" href="#aea4">[aea4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  |- 8 pixels</span></span>
<span class="l"><a class="anc" name="aea5" href="#aea5">[aea5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks</span></span>
<span class="l"><a class="anc" name="aea6" href="#aea6">[aea6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aea7" href="#aea7">[aea7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="aea8" href="#aea8">[aea8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aea9" href="#aea9">[aea9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="aeaa" href="#aeaa">[aeaa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="aeab" href="#aeab">[aeab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="aeac" href="#aeac">[aeac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="aead" href="#aead">[aead]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="aeae" href="#aeae">[aeae]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="aeaf" href="#aeaf">[aeaf]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_IKEDA">BSCRIPTS_ENEMY_IKEDA</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_IKEDA">BSCRIPTS_ENEMY_IKEDA</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_ZOZURA"></a><div class="cp">;============================================================================
; Zozura sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adbb]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adbb]
;
</div><span class="l"><a class="anc" name="aeb1" href="#aeb1">[aeb1]</a><a href="#BSCRIPTS_ENEMY_ZOZURA" class="la">BSCRIPTS_ENEMY_ZOZURA:</a><span class="ce">; [$aeb1]</span></span>
<span class="l"><a class="anc" name="aeb1" href="#aeb1">[aeb1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aeb2" href="#aeb2">[aeb2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">; '- Face player (X)</span></span>
<span class="l"><a class="anc" name="aeb3" href="#aeb3">[aeb3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aeb4" href="#aeb4">[aeb4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="aeb5" href="#aeb5">[aeb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="aeb6" href="#aeb6">[aeb6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">;  |- 96 pixels</span></span>
<span class="l"><a class="anc" name="aeb7" href="#aeb7">[aeb7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks</span></span>
<span class="l"><a class="anc" name="aeb8" href="#aeb8">[aeb8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="aeb9" href="#aeb9">[aeb9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_ZOZURA">BSCRIPTS_ENEMY_ZOZURA</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_ZOZURA">BSCRIPTS_ENEMY_ZOZURA</a></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; DEADCODE: Unused logic for Zozura.
;
; In this version, Zozura would still walk toward the player,
; but would randomly change the X direction and continue
; walking.
;
</div><span class="l"><a class="anc" name="aebb" href="#aebb">[aebb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aebc" href="#aebc">[aebc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="aebd" href="#aebd">[aebd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aebe" href="#aebe">[aebe]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="aebf" href="#aebf">[aebf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="aec0" href="#aec0">[aec0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">;  |- 96 pixels</span></span>
<span class="l"><a class="anc" name="aec1" href="#aec1">[aec1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks</span></span>
<span class="l"><a class="anc" name="aec2" href="#aec2">[aec2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aec3" href="#aec3">[aec3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="aec4" href="#aec4">[aec4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aec5" href="#aec5">[aec5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="aec6" href="#aec6">[aec6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="aec7" href="#aec7">[aec7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">;  |- 96 pixels</span></span>
<span class="l"><a class="anc" name="aec8" href="#aec8">[aec8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks</span></span>
<span class="l"><a class="anc" name="aec9" href="#aec9">[aec9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="aeca" href="#aeca">[aeca]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_ZOZURA">BSCRIPTS_ENEMY_ZOZURA</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_ZOZURA">BSCRIPTS_ENEMY_ZOZURA</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_MONODRON"></a><div class="cp">;============================================================================
; Monodron sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad81]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad81]
;
</div><span class="l"><a class="anc" name="aecc" href="#aecc">[aecc]</a><a href="#BSCRIPTS_ENEMY_MONODRON" class="la">BSCRIPTS_ENEMY_MONODRON:</a><span class="ce">; [$aecc]</span></span>
<span class="l"><a class="anc" name="aecc" href="#aecc">[aecc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aecd" href="#aecd">[aecd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly change X direction</span></span>
<span class="l"><a class="anc" name="aece" href="#aece">[aece]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aecf" href="#aecf">[aecf]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="aed0" href="#aed0">[aed0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">;  '- For 5 ticks</span></span>
<span class="l"><a class="anc" name="aed1" href="#aed1">[aed1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aed2" href="#aed2">[aed2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="aed3" href="#aed3">[aed3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="aed4" href="#aed4">[aed4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X fractional amount</span></span>
<span class="l"><a class="anc" name="aed5" href="#aed5">[aed5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- X full amount</span></span>
<span class="l"><a class="anc" name="aed6" href="#aed6">[aed6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="aed7" href="#aed7">[aed7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run Action</span></span>
<span class="l"><a class="anc" name="aed8" href="#aed8">[aed8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="aed9" href="#aed9">[aed9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aeda" href="#aeda">[aeda]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="aedb" href="#aedb">[aedb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  '- For 20 ticks</span></span>
<span class="l"><a class="anc" name="aedc" href="#aedc">[aedc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aedd" href="#aedd">[aedd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="aede" href="#aede">[aede]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="aedf" href="#aedf">[aedf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- X fractional amount</span></span>
<span class="l"><a class="anc" name="aee0" href="#aee0">[aee0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- X full amount</span></span>
<span class="l"><a class="anc" name="aee1" href="#aee1">[aee1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="aee2" href="#aee2">[aee2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="aee3" href="#aee3">[aee3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MONODRON">BSCRIPTS_ENEMY_MONODRON</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_MONODRON">BSCRIPTS_ENEMY_MONODRON</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_SNOWMAN"></a><div class="cp">;============================================================================
; Snowman sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad45]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad45]
;
</div><span class="l"><a class="anc" name="aee5" href="#aee5">[aee5]</a><a href="#BSCRIPTS_ENEMY_SNOWMAN" class="la">BSCRIPTS_ENEMY_SNOWMAN:</a><span class="ce">; [$aee5]</span></span>
<span class="l"><a class="anc" name="aee5" href="#aee5">[aee5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aee6" href="#aee6">[aee6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="aee7" href="#aee7">[aee7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aee8" href="#aee8">[aee8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/Wait</span></span>
<span class="l"><a class="anc" name="aee9" href="#aee9">[aee9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  '- For 30 ticks</span></span>
<span class="l"><a class="anc" name="aeea" href="#aeea">[aeea]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="aeeb" href="#aeeb">[aeeb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="aeec" href="#aeec">[aeec]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">;  Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aeed" href="#aeed">[aeed]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="aeee" href="#aeee">[aeee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="aeef" href="#aeef">[aeef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels</span></span>
<span class="l"><a class="anc" name="aef0" href="#aef0">[aef0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- 2 blocks</span></span>
<span class="l"></span>
<a name=":aef1:@_waitNearPlayer"></a><span class="l"><a class="anc" name="aef1" href="#aef1">[aef1]</a><a href="#:aef1:@_waitNearPlayer" class="lla">@_waitNearPlayer:</a><span class="ce">; [$aef1]</span></span>
<span class="l"><a class="anc" name="aef1" href="#aef1">[aef1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check player distance</span></span>
<span class="l"><a class="anc" name="aef2" href="#aef2">[aef2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="aef3" href="#aef3">[aef3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">;  |- If &lt; 32 pixels</span></span>
<span class="l"><a class="anc" name="aef4" href="#aef4">[aef4]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayer">@_isNearPlayer</a></span></span><span class="ce">;  |- Then _isNearPlayer</span></span>
<span class="l"><a class="anc" name="aef6" href="#aef6">[aef6]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayer">@_waitNearPlayer</a></span></span><span class="ce">;  '- Else <a href="#@_waitNearPlayer">@_waitNearPlayer</a></span></span>
<span class="l"></span>
<a name=":aef8:@_isNearPlayer"></a><span class="l"><a class="anc" name="aef8" href="#aef8">[aef8]</a><a href="#:aef8:@_isNearPlayer" class="lla">@_isNearPlayer:</a><span class="ce">; [$aef8]</span></span>
<span class="l"><a class="anc" name="aef8" href="#aef8">[aef8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="aef9" href="#aef9">[aef9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aefa" href="#aefa">[aefa]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="aefb" href="#aefb">[aefb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="aefc" href="#aefc">[aefc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="aefd" href="#aefd">[aefd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  |- 2 blocks X</span></span>
<span class="l"><a class="anc" name="aefe" href="#aefe">[aefe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">;  '- Hop mode 4</span></span>
<span class="l"><a class="anc" name="aeff" href="#aeff">[aeff]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="af00" href="#af00">[af00]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_SNOWMAN">BSCRIPTS_ENEMY_SNOWMAN</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_SNOWMAN">BSCRIPTS_ENEMY_SNOWMAN</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_COIN"></a><div class="cp">;============================================================================
; Coin sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad31]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad31]
;
</div><span class="l"><a class="anc" name="af02" href="#af02">[af02]</a><a href="#BSCRIPTS_OBJ_COIN" class="la">BSCRIPTS_OBJ_COIN:</a><span class="ce">; [$af02]</span></span>
<span class="l"><a class="anc" name="af02" href="#af02">[af02]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af03" href="#af03">[af03]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BOUNCE_AND_EXPIRE</span></span><span class="ce">;  |- Bounce and expire</span></span>
<span class="l"><a class="anc" name="af04" href="#af04">[af04]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="af05" href="#af05">[af05]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_ZOMBIE"></a><div class="cp">;============================================================================
; Zombie sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad39]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad39]
;
</div><span class="l"><a class="anc" name="af06" href="#af06">[af06]</a><a href="#BSCRIPTS_ENEMY_ZOMBIE" class="la">BSCRIPTS_ENEMY_ZOMBIE:</a><span class="ce">; [$af06]</span></span>
<span class="l"><a class="anc" name="af06" href="#af06">[af06]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af07" href="#af07">[af07]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af08" href="#af08">[af08]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="af09" href="#af09">[af09]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="af0a" href="#af0a">[af0a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="af0b" href="#af0b">[af0b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af0c" href="#af0c">[af0c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af0d" href="#af0d">[af0d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="af0e" href="#af0e">[af0e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af0f" href="#af0f">[af0f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="af10" href="#af10">[af10]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af11" href="#af11">[af11]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af12" href="#af12">[af12]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="af13" href="#af13">[af13]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="af14" href="#af14">[af14]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="af15" href="#af15">[af15]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af16" href="#af16">[af16]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af17" href="#af17">[af17]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="af18" href="#af18">[af18]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af19" href="#af19">[af19]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af1a" href="#af1a">[af1a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af1b" href="#af1b">[af1b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af1c" href="#af1c">[af1c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="af1d" href="#af1d">[af1d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="af1e" href="#af1e">[af1e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="af1f" href="#af1f">[af1f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af20" href="#af20">[af20]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af21" href="#af21">[af21]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="af22" href="#af22">[af22]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af23" href="#af23">[af23]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="af24" href="#af24">[af24]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af25" href="#af25">[af25]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af26" href="#af26">[af26]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="af27" href="#af27">[af27]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="af28" href="#af28">[af28]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="af29" href="#af29">[af29]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af2a" href="#af2a">[af2a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af2b" href="#af2b">[af2b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  '- For 60 ticks</span></span>
<span class="l"><a class="anc" name="af2c" href="#af2c">[af2c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af2d" href="#af2d">[af2d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af2e" href="#af2e">[af2e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="af2f" href="#af2f">[af2f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_ZOMBIE">BSCRIPTS_ENEMY_ZOMBIE</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_ZOMBIE">BSCRIPTS_ENEMY_ZOMBIE</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_NECRON_AIDES"></a><div class="cp">;============================================================================
; Necron Aides sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad37]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad37]
;
</div><span class="l"><a class="anc" name="af31" href="#af31">[af31]</a><a href="#BSCRIPTS_ENEMY_NECRON_AIDES" class="la">BSCRIPTS_ENEMY_NECRON_AIDES:</a><span class="ce">; [$af31]</span></span>
<span class="l"><a class="anc" name="af31" href="#af31">[af31]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af31] SpriteOp</span></span>
<span class="l"><a class="anc" name="af32" href="#af32">[af32]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_NECRON_AIDES</span></span><span class="ce">; [$af32] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af33" href="#af33">[af33]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af33] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_YUINARU"></a><div class="cp">;============================================================================
; Yuinaru sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad43]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad43]
;
</div><span class="l"><a class="anc" name="af35" href="#af35">[af35]</a><a href="#BSCRIPTS_ENEMY_YUINARU" class="la">BSCRIPTS_ENEMY_YUINARU:</a><span class="ce">; [$af35]</span></span>
<span class="l"><a class="anc" name="af35" href="#af35">[af35]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af35] SpriteOp</span></span>
<span class="l"><a class="anc" name="af36" href="#af36">[af36]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_YUINARU</span></span><span class="ce">; [$af36] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af37" href="#af37">[af37]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af37] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_NASH"></a><div class="cp">;============================================================================
; Nash sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad47]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad47]
;
</div><span class="l"><a class="anc" name="af39" href="#af39">[af39]</a><a href="#BSCRIPTS_ENEMY_NASH" class="la">BSCRIPTS_ENEMY_NASH:</a><span class="ce">; [$af39]</span></span>
<span class="l"><a class="anc" name="af39" href="#af39">[af39]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af39] SpriteOp</span></span>
<span class="l"><a class="anc" name="af3a" href="#af3a">[af3a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_NASH</span></span><span class="ce">; [$af3a] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af3b" href="#af3b">[af3b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af3b] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_FIRE_GIANT"></a><div class="cp">;============================================================================
; Fire Giant sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad49]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad49]
;
</div><span class="l"><a class="anc" name="af3d" href="#af3d">[af3d]</a><a href="#BSCRIPTS_ENEMY_FIRE_GIANT" class="la">BSCRIPTS_ENEMY_FIRE_GIANT:</a><span class="ce">; [$af3d]</span></span>
<span class="l"><a class="anc" name="af3d" href="#af3d">[af3d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af3e" href="#af3e">[af3e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af3f" href="#af3f">[af3f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af40" href="#af40">[af40]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af41" href="#af41">[af41]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"></span>
<a name=":af42:@_waitNearPlayer"></a><span class="l"><a class="anc" name="af42" href="#af42">[af42]</a><a href="#:af42:@_waitNearPlayer" class="lla">@_waitNearPlayer:</a><span class="ce">; [$af42]</span></span>
<span class="l"><a class="anc" name="af42" href="#af42">[af42]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="af43" href="#af43">[af43]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="af44" href="#af44">[af44]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">;  |- If &lt; 32 pixels</span></span>
<span class="l"><a class="anc" name="af45" href="#af45">[af45]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayer">@_isNearPlayer</a></span></span><span class="ce">;  |- Then _isNearPlayer</span></span>
<span class="l"><a class="anc" name="af47" href="#af47">[af47]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayer">@_waitNearPlayer</a></span></span><span class="ce">;  '- Else _waitNearPlayer</span></span>
<span class="l"></span>
<a name=":af49:@_isNearPlayer"></a><span class="l"><a class="anc" name="af49" href="#af49">[af49]</a><a href="#:af49:@_isNearPlayer" class="lla">@_isNearPlayer:</a><span class="ce">; [$af49]</span></span>
<span class="l"><a class="anc" name="af49" href="#af49">[af49]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="af4a" href="#af4a">[af4a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af4b" href="#af4b">[af4b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af4c" href="#af4c">[af4c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af4d" href="#af4d">[af4d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="af4e" href="#af4e">[af4e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="af4f" href="#af4f">[af4f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="af50" href="#af50">[af50]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="af51" href="#af51">[af51]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="af52" href="#af52">[af52]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_FIRE_GIANT">BSCRIPTS_ENEMY_FIRE_GIANT</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_FIRE_GIANT">BSCRIPTS_ENEMY_FIRE_GIANT</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_ISHIISU"></a><div class="cp">;============================================================================
; Ishiisu sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad4b]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad4b]
;
</div><span class="l"><a class="anc" name="af54" href="#af54">[af54]</a><a href="#BSCRIPTS_ENEMY_ISHIISU" class="la">BSCRIPTS_ENEMY_ISHIISU:</a><span class="ce">; [$af54]</span></span>
<span class="l"><a class="anc" name="af54" href="#af54">[af54]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af54] SpriteOp</span></span>
<span class="l"><a class="anc" name="af55" href="#af55">[af55]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ISHIISU</span></span><span class="ce">; [$af55] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af56" href="#af56">[af56]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af56] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_EXECUTION_HOOD"></a><div class="cp">;============================================================================
; Execution Hood sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad4d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad4d]
;
</div><span class="l"><a class="anc" name="af58" href="#af58">[af58]</a><a href="#BSCRIPTS_ENEMY_EXECUTION_HOOD" class="la">BSCRIPTS_ENEMY_EXECUTION_HOOD:</a><span class="ce">; [$af58]</span></span>
<span class="l"><a class="anc" name="af58" href="#af58">[af58]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af58] SpriteOp</span></span>
<span class="l"><a class="anc" name="af59" href="#af59">[af59]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_EXECUTION_HOOD</span></span><span class="ce">; [$af59] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af5a" href="#af5a">[af5a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af5a] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_LIGHTNING_BALL_19"></a><div class="cp">;============================================================================
; Lightning ball sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad53]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad53]
;
</div><span class="l"><a class="anc" name="af5c" href="#af5c">[af5c]</a><a href="#BSCRIPTS_LIGHTNING_BALL_19" class="la">BSCRIPTS_LIGHTNING_BALL_19:</a><span class="ce">; [$af5c]</span></span>
<span class="l"><a class="anc" name="af5c" href="#af5c">[af5c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af5c] SpriteOp</span></span>
<span class="l"><a class="anc" name="af5d" href="#af5d">[af5d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAYBE_LIGHTNINGBALL</span></span><span class="ce">; [$af5d] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af5e" href="#af5e">[af5e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af5e] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_CHARRON"></a><div class="cp">;============================================================================
; Charron sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad55]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad55]
;
</div><span class="l"><a class="anc" name="af60" href="#af60">[af60]</a><a href="#BSCRIPTS_ENEMY_CHARRON" class="la">BSCRIPTS_ENEMY_CHARRON:</a><span class="ce">; [$af60]</span></span>
<span class="l"><a class="anc" name="af60" href="#af60">[af60]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af60] SpriteOp</span></span>
<span class="l"><a class="anc" name="af61" href="#af61">[af61]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_LIGHTNINBALL_CHARRON</span></span><span class="ce">; [$af61] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af62" href="#af62">[af62]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af62] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_EFFECT_BOSS_DEATH"></a><div class="cp">;============================================================================
; Boss death effect sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adf5]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adf5]
;
</div><span class="l"><a class="anc" name="af64" href="#af64">[af64]</a><a href="#BSCRIPTS_EFFECT_BOSS_DEATH" class="la">BSCRIPTS_EFFECT_BOSS_DEATH:</a><span class="ce">; [$af64]</span></span>
<span class="l"><a class="anc" name="af64" href="#af64">[af64]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$af64] SpriteOp</span></span>
<span class="l"><a class="anc" name="af65" href="#af65">[af65]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_EFFECT_BOSS_DEATH</span></span><span class="ce">; [$af65] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af66" href="#af66">[af66]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af66] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_21"></a><div class="cp">;============================================================================
; Unused 21 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad57]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad57]
;
</div><span class="l"><a class="anc" name="af68" href="#af68">[af68]</a><a href="#BSCRIPTS_ENEMY_UNUSED_21" class="la">BSCRIPTS_ENEMY_UNUSED_21:</a><span class="ce">; [$af68]</span></span>
<span class="l"><a class="anc" name="af68" href="#af68">[af68]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af69" href="#af69">[af69]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af6a" href="#af6a">[af6a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af6b" href="#af6b">[af6b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af6c" href="#af6c">[af6c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  '- For 16 ticks</span></span>
<span class="l"><a class="anc" name="af6d" href="#af6d">[af6d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af6e" href="#af6e">[af6e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af6f" href="#af6f">[af6f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  |- For 30 ticks</span></span>
<span class="l"><a class="anc" name="af70" href="#af70">[af70]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="af71" href="#af71">[af71]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="af72" href="#af72">[af72]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af73" href="#af73">[af73]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af74" href="#af74">[af74]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af75" href="#af75">[af75]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="af76" href="#af76">[af76]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  '- For 16 ticks</span></span>
<span class="l"><a class="anc" name="af77" href="#af77">[af77]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af78" href="#af78">[af78]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af79" href="#af79">[af79]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  |- For 30 ticks</span></span>
<span class="l"><a class="anc" name="af7a" href="#af7a">[af7a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="af7b" href="#af7b">[af7b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 blocks X</span></span>
<span class="l"><a class="anc" name="af7c" href="#af7c">[af7c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af7d" href="#af7d">[af7d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af7e" href="#af7e">[af7e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af7f" href="#af7f">[af7f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WAIT</span></span><span class="ce">;  |- Wait</span></span>
<span class="l"><a class="anc" name="af80" href="#af80">[af80]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  '- For 8 ticks</span></span>
<span class="l"><a class="anc" name="af81" href="#af81">[af81]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af82" href="#af82">[af82]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_CAST_MAGIC</span></span><span class="ce">;  '- Cast magic</span></span>
<span class="l"><a class="anc" name="af83" href="#af83">[af83]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af84" href="#af84">[af84]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WAIT</span></span><span class="ce">;  |- Wait</span></span>
<span class="l"><a class="anc" name="af85" href="#af85">[af85]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  '- For 8 ticks</span></span>
<span class="l"><a class="anc" name="af86" href="#af86">[af86]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="af87" href="#af87">[af87]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_UNUSED_21">BSCRIPTS_ENEMY_UNUSED_21</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_UNUSED_21">BSCRIPTS_ENEMY_UNUSED_21</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_GERIBUTA"></a><div class="cp">;============================================================================
; Geributa sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad5b]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad5b]
;
</div><span class="l"><a class="anc" name="af89" href="#af89">[af89]</a><a href="#BSCRIPTS_ENEMY_GERIBUTA" class="la">BSCRIPTS_ENEMY_GERIBUTA:</a><span class="ce">; [$af89]</span></span>
<span class="l"><a class="anc" name="af89" href="#af89">[af89]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af8a" href="#af8a">[af8a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_RANDOMLY_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Randomly flip X direction</span></span>
<span class="l"><a class="anc" name="af8b" href="#af8b">[af8b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af8c" href="#af8c">[af8c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_CLEAR_READY_SET_BIT_7</span></span><span class="ce">; [$af8c] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="af8d" href="#af8d">[af8d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$af8d] byte</span></span>
<span class="l"></span>
<a name=":af8e:@_moveTowardPlayerLoop"></a><span class="l"><a class="anc" name="af8e" href="#af8e">[af8e]</a><a href="#:af8e:@_moveTowardPlayerLoop" class="lla">@_moveTowardPlayerLoop:</a><span class="ce">; [$af8e]</span></span>
<span class="l"><a class="anc" name="af8e" href="#af8e">[af8e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af8f" href="#af8f">[af8f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af90" href="#af90">[af90]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af91" href="#af91">[af91]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="af92" href="#af92">[af92]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  |- For 30 ticks</span></span>
<span class="l"><a class="anc" name="af93" href="#af93">[af93]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="af94" href="#af94">[af94]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- 2 blocks X</span></span>
<span class="l"><a class="anc" name="af95" href="#af95">[af95]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="af96" href="#af96">[af96]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_moveTowardPlayerLoop">@_moveTowardPlayerLoop</a></span></span><span class="ce">;  '- <a href="#@_moveTowardPlayerLoop">@_moveTowardPlayerLoop</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_SUGATA"></a><div class="cp">;============================================================================
; Sugata enemy behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad5d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad5d]
;
</div><span class="l"><a class="anc" name="af98" href="#af98">[af98]</a><a href="#BSCRIPTS_ENEMY_SUGATA" class="la">BSCRIPTS_ENEMY_SUGATA:</a><span class="ce">; [$af98]</span></span>
<span class="l"><a class="anc" name="af98" href="#af98">[af98]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="af99" href="#af99">[af99]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="af9a" href="#af9a">[af9a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="af9b" href="#af9b">[af9b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player (X)</span></span>
<span class="l"><a class="anc" name="af9c" href="#af9c">[af9c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  |- For 30 ticks</span></span>
<span class="l"><a class="anc" name="af9d" href="#af9d">[af9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels per tick</span></span>
<span class="l"><a class="anc" name="af9e" href="#af9e">[af9e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block per tick</span></span>
<span class="l"><a class="anc" name="af9f" href="#af9f">[af9f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afa0" href="#afa0">[afa0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afa1" href="#afa1">[afa1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  '- For 30 ticks</span></span>
<span class="l"><a class="anc" name="afa2" href="#afa2">[afa2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afa3" href="#afa3">[afa3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player (X)</span></span>
<span class="l"><a class="anc" name="afa4" href="#afa4">[afa4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="afa5" href="#afa5">[afa5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels per tick</span></span>
<span class="l"><a class="anc" name="afa6" href="#afa6">[afa6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block per tick</span></span>
<span class="l"><a class="anc" name="afa7" href="#afa7">[afa7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afa8" href="#afa8">[afa8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afa9" href="#afa9">[afa9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="afaa" href="#afaa">[afaa]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afab" href="#afab">[afab]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player (X)</span></span>
<span class="l"><a class="anc" name="afac" href="#afac">[afac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="afad" href="#afad">[afad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels per tick</span></span>
<span class="l"><a class="anc" name="afae" href="#afae">[afae]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks per tick</span></span>
<span class="l"><a class="anc" name="afaf" href="#afaf">[afaf]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afb0" href="#afb0">[afb0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FLASH_DAMAGE_PLAYER</span></span><span class="ce">;  |- Flash screen, damage player</span></span>
<span class="l"><a class="anc" name="afb1" href="#afb1">[afb1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="afb2" href="#afb2">[afb2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="afb3" href="#afb3">[afb3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_SUGATA">BSCRIPTS_ENEMY_SUGATA</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_SUGATA">BSCRIPTS_ENEMY_SUGATA</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_GRIMLOCK"></a><div class="cp">;============================================================================
; Grimlock enemy behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad5f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad5f]
;
</div><span class="l"><a class="anc" name="afb5" href="#afb5">[afb5]</a><a href="#BSCRIPTS_ENEMY_GRIMLOCK" class="la">BSCRIPTS_ENEMY_GRIMLOCK:</a><span class="ce">; [$afb5]</span></span>
<span class="l"><a class="anc" name="afb5" href="#afb5">[afb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afb6" href="#afb6">[afb6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afb7" href="#afb7">[afb7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afb8" href="#afb8">[afb8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afb9" href="#afb9">[afb9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  '- For 16 ticks</span></span>
<span class="l"><a class="anc" name="afba" href="#afba">[afba]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afbb" href="#afbb">[afbb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afbc" href="#afbc">[afbc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afbd" href="#afbd">[afbd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="afbe" href="#afbe">[afbe]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afbf" href="#afbf">[afbf]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afc0" href="#afc0">[afc0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  '- For 20 ticks</span></span>
<span class="l"><a class="anc" name="afc1" href="#afc1">[afc1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afc2" href="#afc2">[afc2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afc3" href="#afc3">[afc3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afc4" href="#afc4">[afc4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afc5" href="#afc5">[afc5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="afc6" href="#afc6">[afc6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afc7" href="#afc7">[afc7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afc8" href="#afc8">[afc8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afc9" href="#afc9">[afc9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="afca" href="#afca">[afca]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afcb" href="#afcb">[afcb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afcc" href="#afcc">[afcc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0e</span></span><span class="ce">;  '- For 14 ticks</span></span>
<span class="l"><a class="anc" name="afcd" href="#afcd">[afcd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afce" href="#afce">[afce]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afcf" href="#afcf">[afcf]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afd0" href="#afd0">[afd0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afd1" href="#afd1">[afd1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  '- For 16 ticks</span></span>
<span class="l"><a class="anc" name="afd2" href="#afd2">[afd2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afd3" href="#afd3">[afd3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afd4" href="#afd4">[afd4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afd5" href="#afd5">[afd5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="afd6" href="#afd6">[afd6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afd7" href="#afd7">[afd7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afd8" href="#afd8">[afd8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">;  '- For 18 ticks</span></span>
<span class="l"><a class="anc" name="afd9" href="#afd9">[afd9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="afda" href="#afda">[afda]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="afdb" href="#afdb">[afdb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afdc" href="#afdc">[afdc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="afdd" href="#afdd">[afdd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="afde" href="#afde">[afde]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="afdf" href="#afdf">[afdf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- Y direction</span></span>
<span class="l"><a class="anc" name="afe0" href="#afe0">[afe0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  |- If &lt; 16 pixels</span></span>
<span class="l"><a class="anc" name="afe1" href="#afe1">[afe1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_nearPlayerY">@_nearPlayerY</a></span></span><span class="ce">;  |- Then <a href="#@_nearPlayerY">@_nearPlayerY</a></span></span>
<span class="l"><a class="anc" name="afe3" href="#afe3">[afe3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_awayFromPlayerY">@_awayFromPlayerY</a></span></span><span class="ce">;  '- Else <a href="#@_awayFromPlayerY">@_awayFromPlayerY</a></span></span>
<span class="l"></span>
<a name=":afe5:@_awayFromPlayerY"></a><span class="l"><a class="anc" name="afe5" href="#afe5">[afe5]</a><a href="#:afe5:@_awayFromPlayerY" class="lla">@_awayFromPlayerY:</a><span class="ce">; [$afe5]</span></span>
<span class="l"><a class="anc" name="afe5" href="#afe5">[afe5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="afe6" href="#afe6">[afe6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="afe7" href="#afe7">[afe7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="afe8" href="#afe8">[afe8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="afe9" href="#afe9">[afe9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="afea" href="#afea">[afea]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"></span>
<a name=":afeb:@_waitNearPlayerX"></a><span class="l"><a class="anc" name="afeb" href="#afeb">[afeb]</a><a href="#:afeb:@_waitNearPlayerX" class="lla">@_waitNearPlayerX:</a><span class="ce">; [$afeb]</span></span>
<span class="l"><a class="anc" name="afeb" href="#afeb">[afeb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="afec" href="#afec">[afec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="afed" href="#afed">[afed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  |- If &lt; 16 pixels</span></span>
<span class="l"><a class="anc" name="afee" href="#afee">[afee]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_nearPlayerX">@_nearPlayerX</a></span></span><span class="ce">;  |- Then <a href="#@_nearPlayerX">@_nearPlayerX</a></span></span>
<span class="l"><a class="anc" name="aff0" href="#aff0">[aff0]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayerX">@_waitNearPlayerX</a></span></span><span class="ce">;  '- Else _waitNearPlayerX</span></span>
<span class="l"><a class="anc" name="aff2" href="#aff2">[aff2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="aff3" href="#aff3">[aff3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span>
<span class="l"></span>
<a name=":aff5:@_nearPlayerX"></a><span class="l"><a class="anc" name="aff5" href="#aff5">[aff5]</a><a href="#:aff5:@_nearPlayerX" class="lla">@_nearPlayerX:</a><span class="ce">; [$aff5]</span></span>
<span class="l"><a class="anc" name="aff5" href="#aff5">[aff5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="aff6" href="#aff6">[aff6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="aff7" href="#aff7">[aff7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="aff8" href="#aff8">[aff8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="aff9" href="#aff9">[aff9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="affa" href="#affa">[affa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="affb" href="#affb">[affb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="affc" href="#affc">[affc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="affd" href="#affd">[affd]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span>
<span class="l"></span>
<a name=":afff:@_nearPlayerY"></a><span class="l"><a class="anc" name="afff" href="#afff">[afff]</a><a href="#:afff:@_nearPlayerY" class="lla">@_nearPlayerY:</a><span class="ce">; [$afff]</span></span>
<span class="l"><a class="anc" name="afff" href="#afff">[afff]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="b000" href="#b000">[b000]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SET_PHASE</span></span><span class="ce">; Op: Set phase</span></span>
<span class="l"><a class="anc" name="b001" href="#b001">[b001]</a><span class="cd"><span class="i">.byte</span> <span class="o">$09</span></span><span class="ce">;  '- 9</span></span>
<span class="l"><a class="anc" name="b002" href="#b002">[b002]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b003" href="#b003">[b003]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b004" href="#b004">[b004]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="b005" href="#b005">[b005]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b006" href="#b006">[b006]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- 2 pixels X</span></span>
<span class="l"></span>
<a name=":b007:@_waitNearPlayerX2"></a><span class="l"><a class="anc" name="b007" href="#b007">[b007]</a><a href="#:b007:@_waitNearPlayerX2" class="lla">@_waitNearPlayerX2:</a><span class="ce">; [$b007]</span></span>
<span class="l"><a class="anc" name="b007" href="#b007">[b007]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="b008" href="#b008">[b008]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="b009" href="#b009">[b009]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  |- If &lt; 16 pixels</span></span>
<span class="l"><a class="anc" name="b00a" href="#b00a">[b00a]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_nearPlayerX2">@_nearPlayerX2</a></span></span><span class="ce">;  |- Then <a href="#@_nearPlayerX2">@_nearPlayerX2</a></span></span>
<span class="l"><a class="anc" name="b00c" href="#b00c">[b00c]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayerX2">@_waitNearPlayerX2</a></span></span><span class="ce">;  '- Else <a href="#@_waitNearPlayerX2">@_waitNearPlayerX2</a></span></span>
<span class="l"><a class="anc" name="b00e" href="#b00e">[b00e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b00f" href="#b00f">[b00f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span>
<span class="l"></span>
<a name=":b011:@_nearPlayerX2"></a><span class="l"><a class="anc" name="b011" href="#b011">[b011]</a><a href="#:b011:@_nearPlayerX2" class="lla">@_nearPlayerX2:</a><span class="ce">; [$b011]</span></span>
<span class="l"><a class="anc" name="b011" href="#b011">[b011]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="b012" href="#b012">[b012]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b013" href="#b013">[b013]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b014" href="#b014">[b014]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b015" href="#b015">[b015]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b016" href="#b016">[b016]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  |- 2 blocks X</span></span>
<span class="l"><a class="anc" name="b017" href="#b017">[b017]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="b018" href="#b018">[b018]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b019" href="#b019">[b019]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_GRIMLOCK">BSCRIPTS_ENEMY_GRIMLOCK</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_GIANT_BEES"></a><div class="cp">;============================================================================
; Giant Bees sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad61]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad61]
;
</div><span class="l"><a class="anc" name="b01b" href="#b01b">[b01b]</a><a href="#BSCRIPTS_ENEMY_GIANT_BEES" class="la">BSCRIPTS_ENEMY_GIANT_BEES:</a><span class="ce">; [$b01b]</span></span>
<span class="l"><a class="anc" name="b01b" href="#b01b">[b01b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b01b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b01c" href="#b01c">[b01c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_GIANT_BEES</span></span><span class="ce">; [$b01c] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b01d" href="#b01d">[b01d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b01d] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_MYCONID"></a><div class="cp">;============================================================================
; Myconid sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad63]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad63]
;
</div><span class="l"><a class="anc" name="b01f" href="#b01f">[b01f]</a><a href="#BSCRIPTS_ENEMY_MYCONID" class="la">BSCRIPTS_ENEMY_MYCONID:</a><span class="ce">; [$b01f]</span></span>
<span class="l"><a class="anc" name="b01f" href="#b01f">[b01f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b020" href="#b020">[b020]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b021" href="#b021">[b021]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b022" href="#b022">[b022]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b023" href="#b023">[b023]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b024" href="#b024">[b024]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">;  |- 64 pixels X</span></span>
<span class="l"><a class="anc" name="b025" href="#b025">[b025]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b026" href="#b026">[b026]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b027" href="#b027">[b027]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b028" href="#b028">[b028]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  '- For 30 ticks</span></span>
<span class="l"><a class="anc" name="b029" href="#b029">[b029]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b02a" href="#b02a">[b02a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b02b" href="#b02b">[b02b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b02c" href="#b02c">[b02c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b02d" href="#b02d">[b02d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b02e" href="#b02e">[b02e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">;  |- 64 pixels X</span></span>
<span class="l"><a class="anc" name="b02f" href="#b02f">[b02f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b030" href="#b030">[b030]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b031" href="#b031">[b031]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b032" href="#b032">[b032]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  '- For 30 ticks</span></span>
<span class="l"><a class="anc" name="b033" href="#b033">[b033]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b034" href="#b034">[b034]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b035" href="#b035">[b035]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="b036" href="#b036">[b036]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b037" href="#b037">[b037]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b038" href="#b038">[b038]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b039" href="#b039">[b039]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b03a" href="#b03a">[b03a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b03b" href="#b03b">[b03b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b03c" href="#b03c">[b03c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b03d" href="#b03d">[b03d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="b03e" href="#b03e">[b03e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b03f" href="#b03f">[b03f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b040" href="#b040">[b040]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  '- For 30 ticks</span></span>
<span class="l"><a class="anc" name="b041" href="#b041">[b041]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b042" href="#b042">[b042]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MYCONID">BSCRIPTS_ENEMY_MYCONID</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_MYCONID">BSCRIPTS_ENEMY_MYCONID</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_NAGA"></a><div class="cp">;============================================================================
; Naga sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad65]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad65]
;
</div><span class="l"><a class="anc" name="b044" href="#b044">[b044]</a><a href="#BSCRIPTS_ENEMY_NAGA" class="la">BSCRIPTS_ENEMY_NAGA:</a><span class="ce">; [$b044]</span></span>
<span class="l"><a class="anc" name="b044" href="#b044">[b044]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b044] SpriteOp</span></span>
<span class="l"><a class="anc" name="b045" href="#b045">[b045]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_NAGA</span></span><span class="ce">; [$b045] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b046" href="#b046">[b046]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b046] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_GIANT_STRIDER"></a><div class="cp">;============================================================================
; Giant Strider sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad69]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad69]
;
</div><span class="l"><a class="anc" name="b048" href="#b048">[b048]</a><a href="#BSCRIPTS_ENEMY_GIANT_STRIDER" class="la">BSCRIPTS_ENEMY_GIANT_STRIDER:</a><span class="ce">; [$b048]</span></span>
<span class="l"><a class="anc" name="b048" href="#b048">[b048]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b049" href="#b049">[b049]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b04a" href="#b04a">[b04a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b04b" href="#b04b">[b04b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Walk toward player</span></span>
<span class="l"><a class="anc" name="b04c" href="#b04c">[b04c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b04d" href="#b04d">[b04d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b04e" href="#b04e">[b04e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="b04f" href="#b04f">[b04f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b050" href="#b050">[b050]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b051" href="#b051">[b051]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b052" href="#b052">[b052]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b053" href="#b053">[b053]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b054" href="#b054">[b054]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="b055" href="#b055">[b055]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b056" href="#b056">[b056]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_GIANT_STRIDER">BSCRIPTS_ENEMY_GIANT_STRIDER</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_GIANT_STRIDER">BSCRIPTS_ENEMY_GIANT_STRIDER</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_YAREEKA"></a><div class="cp">;============================================================================
; Yareeka sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad71]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad71]
;
</div><span class="l"><a class="anc" name="b058" href="#b058">[b058]</a><a href="#BSCRIPTS_ENEMY_YAREEKA" class="la">BSCRIPTS_ENEMY_YAREEKA:</a><span class="ce">; [$b058]</span></span>
<span class="l"><a class="anc" name="b058" href="#b058">[b058]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b058] SpriteOp</span></span>
<span class="l"><a class="anc" name="b059" href="#b059">[b059]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_YAREEKA</span></span><span class="ce">; [$b059] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b05a" href="#b05a">[b05a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b05a] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_MAGMAN"></a><div class="cp">;============================================================================
; Magman sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad73]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad73]
;
</div><span class="l"><a class="anc" name="b05c" href="#b05c">[b05c]</a><a href="#BSCRIPTS_ENEMY_MAGMAN" class="la">BSCRIPTS_ENEMY_MAGMAN:</a><span class="ce">; [$b05c]</span></span>
<span class="l"><a class="anc" name="b05c" href="#b05c">[b05c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b05c] SpriteOp</span></span>
<span class="l"><a class="anc" name="b05d" href="#b05d">[b05d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MAGMAN</span></span><span class="ce">; [$b05d] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b05e" href="#b05e">[b05e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b05e] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_36"></a><div class="cp">;============================================================================
; Unused 36 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad75]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad75]
;
</div><span class="l"><a class="anc" name="b060" href="#b060">[b060]</a><a href="#BSCRIPTS_ENEMY_UNUSED_36" class="la">BSCRIPTS_ENEMY_UNUSED_36:</a><span class="ce">; [$b060]</span></span>
<span class="l"><a class="anc" name="b060" href="#b060">[b060]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b060] SpriteOp</span></span>
<span class="l"><a class="anc" name="b061" href="#b061">[b061]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ENEMY_UNUSED_36</span></span><span class="ce">; [$b061] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b062" href="#b062">[b062]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b062] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_39"></a><div class="cp">;============================================================================
; Unused 39 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad7b]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad7b]
;
</div><span class="l"><a class="anc" name="b064" href="#b064">[b064]</a><a href="#BSCRIPTS_ENEMY_UNUSED_39" class="la">BSCRIPTS_ENEMY_UNUSED_39:</a><span class="ce">; [$b064]</span></span>
<span class="l"><a class="anc" name="b064" href="#b064">[b064]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b064] SpriteOp</span></span>
<span class="l"><a class="anc" name="b065" href="#b065">[b065]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ENEMY_UNUSED_39</span></span><span class="ce">; [$b065] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b066" href="#b066">[b066]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b066] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_LAMPREY"></a><div class="cp">;============================================================================
; Lamprey sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad7d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad7d]
;
</div><span class="l"><a class="anc" name="b068" href="#b068">[b068]</a><a href="#BSCRIPTS_ENEMY_LAMPREY" class="la">BSCRIPTS_ENEMY_LAMPREY:</a><span class="ce">; [$b068]</span></span>
<span class="l"><a class="anc" name="b068" href="#b068">[b068]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b069" href="#b069">[b069]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b06a" href="#b06a">[b06a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b06b" href="#b06b">[b06b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Walk toward player</span></span>
<span class="l"><a class="anc" name="b06c" href="#b06c">[b06c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b06d" href="#b06d">[b06d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">;  |- 80 pixels X</span></span>
<span class="l"><a class="anc" name="b06e" href="#b06e">[b06e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b06f" href="#b06f">[b06f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b070" href="#b070">[b070]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_LAMPREY">BSCRIPTS_ENEMY_LAMPREY</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_LAMPREY">BSCRIPTS_ENEMY_LAMPREY</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_43"></a><div class="cp">;============================================================================
; Unused 43 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad83]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad83]
;
</div><span class="l"><a class="anc" name="b072" href="#b072">[b072]</a><a href="#BSCRIPTS_ENEMY_UNUSED_43" class="la">BSCRIPTS_ENEMY_UNUSED_43:</a><span class="ce">; [$b072]</span></span>
<span class="l"><a class="anc" name="b072" href="#b072">[b072]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b072] SpriteOp</span></span>
<span class="l"><a class="anc" name="b073" href="#b073">[b073]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ENEMY_UNUSED_43</span></span><span class="ce">; [$b073] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b074" href="#b074">[b074]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b074] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_TAMAZUTSU"></a><div class="cp">;============================================================================
; Tamazutsu sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad85]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad85]
;
</div><span class="l"><a class="anc" name="b076" href="#b076">[b076]</a><a href="#BSCRIPTS_ENEMY_TAMAZUTSU" class="la">BSCRIPTS_ENEMY_TAMAZUTSU:</a><span class="ce">; [$b076]</span></span>
<span class="l"><a class="anc" name="b076" href="#b076">[b076]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b076] SpriteOp</span></span>
<span class="l"><a class="anc" name="b077" href="#b077">[b077]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_TAMAZUTSU</span></span><span class="ce">; [$b077] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b078" href="#b078">[b078]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b078] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN"></a><div class="cp">;============================================================================
; Sir Gawaine/Wolfman sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad6b]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad6f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad6b]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad6f]
;
</div><span class="l"><a class="anc" name="b07a" href="#b07a">[b07a]</a><a href="#BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN" class="la">BSCRIPTS_ENEMY_SIR_GAWAINE_WOLFMAN:</a><span class="ce">; [$b07a]</span></span>
<span class="l"><a class="anc" name="b07a" href="#b07a">[b07a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b07a] SpriteOp</span></span>
<span class="l"><a class="anc" name="b07b" href="#b07b">[b07b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SIR_GAWAINE_WOLFMAN</span></span><span class="ce">; [$b07b] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b07c" href="#b07c">[b07c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b07c] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_MASKMAN"></a><div class="cp">;============================================================================
; Maskman sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad6d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad6d]
;
</div><span class="l"><a class="anc" name="b07e" href="#b07e">[b07e]</a><a href="#BSCRIPTS_ENEMY_MASKMAN" class="la">BSCRIPTS_ENEMY_MASKMAN:</a><span class="ce">; [$b07e]</span></span>
<span class="l"><a class="anc" name="b07e" href="#b07e">[b07e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b07f" href="#b07f">[b07f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b080" href="#b080">[b080]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b081" href="#b081">[b081]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Walk toward player</span></span>
<span class="l"><a class="anc" name="b082" href="#b082">[b082]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="b083" href="#b083">[b083]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b084" href="#b084">[b084]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="b085" href="#b085">[b085]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b086" href="#b086">[b086]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b087" href="#b087">[b087]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b088" href="#b088">[b088]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b089" href="#b089">[b089]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b08a" href="#b08a">[b08a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="b08b" href="#b08b">[b08b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b08c" href="#b08c">[b08c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b08d" href="#b08d">[b08d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b08e" href="#b08e">[b08e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Walk toward player</span></span>
<span class="l"><a class="anc" name="b08f" href="#b08f">[b08f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="b090" href="#b090">[b090]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b091" href="#b091">[b091]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="b092" href="#b092">[b092]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b093" href="#b093">[b093]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b094" href="#b094">[b094]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b095" href="#b095">[b095]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b096" href="#b096">[b096]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b097" href="#b097">[b097]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="b098" href="#b098">[b098]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b099" href="#b099">[b099]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b09a" href="#b09a">[b09a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b09b" href="#b09b">[b09b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Walk toward player</span></span>
<span class="l"><a class="anc" name="b09c" href="#b09c">[b09c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="b09d" href="#b09d">[b09d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b09e" href="#b09e">[b09e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="b09f" href="#b09f">[b09f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0a0" href="#b0a0">[b0a0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b0a1" href="#b0a1">[b0a1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b0a2" href="#b0a2">[b0a2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b0a3" href="#b0a3">[b0a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b0a4" href="#b0a4">[b0a4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- Hop mode 1</span></span>
<span class="l"><a class="anc" name="b0a5" href="#b0a5">[b0a5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b0a6" href="#b0a6">[b0a6]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_ENEMY_MASKMAN">BSCRIPTS_ENEMY_MASKMAN</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_ENEMY_MASKMAN">BSCRIPTS_ENEMY_MASKMAN</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_29"></a><div class="cp">;============================================================================
; Unused 29 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad67]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad67]
;
</div><span class="l"><a class="anc" name="b0a8" href="#b0a8">[b0a8]</a><a href="#BSCRIPTS_ENEMY_UNUSED_29" class="la">BSCRIPTS_ENEMY_UNUSED_29:</a><span class="ce">; [$b0a8]</span></span>
<span class="l"><a class="anc" name="b0a8" href="#b0a8">[b0a8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0a9" href="#b0a9">[b0a9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b0aa" href="#b0aa">[b0aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b0ab" href="#b0ab">[b0ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_ROKUSUTAHN"></a><div class="cp">;============================================================================
; Rokusutahn sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad4f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad4f]
;
</div><span class="l"><a class="anc" name="b0ac" href="#b0ac">[b0ac]</a><a href="#BSCRIPTS_BOSS_ROKUSUTAHN" class="la">BSCRIPTS_BOSS_ROKUSUTAHN:</a><span class="ce">; [$b0ac]</span></span>
<span class="l"><a class="anc" name="b0ac" href="#b0ac">[b0ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0ad" href="#b0ad">[b0ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b0ae" href="#b0ae">[b0ae]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0af" href="#b0af">[b0af]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b0b0" href="#b0b0">[b0b0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="b0b1" href="#b0b1">[b0b1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b0b2" href="#b0b2">[b0b2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="b0b3" href="#b0b3">[b0b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0b4" href="#b0b4">[b0b4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b0b5" href="#b0b5">[b0b5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0b6" href="#b0b6">[b0b6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b0b7" href="#b0b7">[b0b7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0b8" href="#b0b8">[b0b8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b0b9" href="#b0b9">[b0b9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="b0ba" href="#b0ba">[b0ba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b0bb" href="#b0bb">[b0bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b0bc" href="#b0bc">[b0bc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0bd" href="#b0bd">[b0bd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b0be" href="#b0be">[b0be]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0bf" href="#b0bf">[b0bf]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b0c0" href="#b0c0">[b0c0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  |- For 8 ticks</span></span>
<span class="l"><a class="anc" name="b0c1" href="#b0c1">[b0c1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b0c2" href="#b0c2">[b0c2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 block X</span></span>
<span class="l"><a class="anc" name="b0c3" href="#b0c3">[b0c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance</span></span>
<span class="l"><a class="anc" name="b0c4" href="#b0c4">[b0c4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- Check X</span></span>
<span class="l"><a class="anc" name="b0c5" href="#b0c5">[b0c5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">;  |- If &lt; 16 pixels</span></span>
<span class="l"><a class="anc" name="b0c6" href="#b0c6">[b0c6]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_hop">@_hop</a></span></span><span class="ce">;  |- Then hop</span></span>
<span class="l"><a class="anc" name="b0c8" href="#b0c8">[b0c8]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_loop">@_loop</a></span></span><span class="ce">;  '- Else loop</span></span>
<span class="l"></span>
<a name=":b0ca:@_hop"></a><span class="l"><a class="anc" name="b0ca" href="#b0ca">[b0ca]</a><a href="#:b0ca:@_hop" class="lla">@_hop:</a><span class="ce">; [$b0ca]</span></span>
<span class="l"><a class="anc" name="b0ca" href="#b0ca">[b0ca]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b0ca] SpriteOp</span></span>
<span class="l"><a class="anc" name="b0cb" href="#b0cb">[b0cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">; Op: Hop</span></span>
<span class="l"><a class="anc" name="b0cc" href="#b0cc">[b0cc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b0cd" href="#b0cd">[b0cd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b0ce" href="#b0ce">[b0ce]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b0cf" href="#b0cf">[b0cf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"></span>
<a name=":b0d0:@_loop"></a><span class="l"><a class="anc" name="b0d0" href="#b0d0">[b0d0]</a><a href="#:b0d0:@_loop" class="lla">@_loop:</a><span class="ce">; [$b0d0]</span></span>
<span class="l"><a class="anc" name="b0d0" href="#b0d0">[b0d0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b0d1" href="#b0d1">[b0d1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_BOSS_ROKUSUTAHN">BSCRIPTS_BOSS_ROKUSUTAHN</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_BOSS_ROKUSUTAHN">BSCRIPTS_BOSS_ROKUSUTAHN</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_ENEMY_UNUSED_18"></a><div class="cp">;============================================================================
; Unused 18 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad51]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad51]
;
</div><span class="l"><a class="anc" name="b0d3" href="#b0d3">[b0d3]</a><a href="#BSCRIPTS_ENEMY_UNUSED_18" class="la">BSCRIPTS_ENEMY_UNUSED_18:</a><span class="ce">; [$b0d3]</span></span>
<span class="l"><a class="anc" name="b0d3" href="#b0d3">[b0d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b0d3] SpriteOp</span></span>
<span class="l"><a class="anc" name="b0d4" href="#b0d4">[b0d4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ENEMY_UNUSED_18</span></span><span class="ce">; [$b0d4] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b0d5" href="#b0d5">[b0d5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b0d5] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_RIPASHEIKU"></a><div class="cp">;============================================================================
; Ripasheiku sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad87]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad87]
;
</div><span class="l"><a class="anc" name="b0d7" href="#b0d7">[b0d7]</a><a href="#BSCRIPTS_BOSS_RIPASHEIKU" class="la">BSCRIPTS_BOSS_RIPASHEIKU:</a><span class="ce">; [$b0d7]</span></span>
<span class="l"><a class="anc" name="b0d7" href="#b0d7">[b0d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0d8" href="#b0d8">[b0d8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RIPASHEIKU</span></span><span class="ce">;  |- Ripasheiku boss</span></span>
<span class="l"><a class="anc" name="b0d9" href="#b0d9">[b0d9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="b0da" href="#b0da">[b0da]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_ZORADOHNA"></a><div class="cp">;============================================================================
; Zoradohna sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad89]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad89]
;
</div><span class="l"><a class="anc" name="b0db" href="#b0db">[b0db]</a><a href="#BSCRIPTS_BOSS_ZORADOHNA" class="la">BSCRIPTS_BOSS_ZORADOHNA:</a><span class="ce">; [$b0db]</span></span>
<span class="l"><a class="anc" name="b0db" href="#b0db">[b0db]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0dc" href="#b0dc">[b0dc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b0dd" href="#b0dd">[b0dd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0de" href="#b0de">[b0de]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WAIT</span></span><span class="ce">;  |- Wait</span></span>
<span class="l"><a class="anc" name="b0df" href="#b0df">[b0df]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  '- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b0e0" href="#b0e0">[b0e0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0e1" href="#b0e1">[b0e1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b0e2" href="#b0e2">[b0e2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused</span></span>
<span class="l"><a class="anc" name="b0e3" href="#b0e3">[b0e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b0e4" href="#b0e4">[b0e4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b0e5" href="#b0e5">[b0e5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- Hop mode 2</span></span>
<span class="l"><a class="anc" name="b0e6" href="#b0e6">[b0e6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0e7" href="#b0e7">[b0e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLY_UP</span></span><span class="ce">;  '- Rise up</span></span>
<span class="l"><a class="anc" name="b0e8" href="#b0e8">[b0e8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0e9" href="#b0e9">[b0e9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_VERT</span></span><span class="ce">;  |- Move vertically</span></span>
<span class="l"><a class="anc" name="b0ea" href="#b0ea">[b0ea]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  |- For 8 ticks</span></span>
<span class="l"><a class="anc" name="b0eb" href="#b0eb">[b0eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels Y</span></span>
<span class="l"><a class="anc" name="b0ec" href="#b0ec">[b0ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- 2 blocks Y</span></span>
<span class="l"></span>
<a name=":b0ed:@_mainLoop"></a><span class="l"><a class="anc" name="b0ed" href="#b0ed">[b0ed]</a><a href="#:b0ed:@_mainLoop" class="lla">@_mainLoop:</a><span class="ce">; [$b0ed]</span></span>
<span class="l"><a class="anc" name="b0ed" href="#b0ed">[b0ed]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0ee" href="#b0ee">[b0ee]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b0ef" href="#b0ef">[b0ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b0f0" href="#b0f0">[b0f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SOMETHING_ZORADOHNA_18</span></span><span class="ce">;  |- TODO</span></span>
<span class="l"><a class="anc" name="b0f1" href="#b0f1">[b0f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b0f2" href="#b0f2">[b0f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b0f3" href="#b0f3">[b0f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b0f4" href="#b0f4">[b0f4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  '- TODO: Value 2</span></span>
<span class="l"></span>
<a name=":b0f5:@_waitNearPlayer"></a><span class="l"><a class="anc" name="b0f5" href="#b0f5">[b0f5]</a><a href="#:b0f5:@_waitNearPlayer" class="lla">@_waitNearPlayer:</a><span class="ce">; [$b0f5]</span></span>
<span class="l"><a class="anc" name="b0f5" href="#b0f5">[b0f5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="b0f6" href="#b0f6">[b0f6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- X direction</span></span>
<span class="l"><a class="anc" name="b0f7" href="#b0f7">[b0f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">;  |- If &lt; 32 pixels</span></span>
<span class="l"><a class="anc" name="b0f8" href="#b0f8">[b0f8]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_isNearPlayer">@_isNearPlayer</a></span></span><span class="ce">;  |- Then <a href="#@_isNearPlayer">@_isNearPlayer</a></span></span>
<span class="l"><a class="anc" name="b0fa" href="#b0fa">[b0fa]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayer">@_waitNearPlayer</a></span></span><span class="ce">;  '- Else <a href="#@_waitNearPlayer">@_waitNearPlayer</a></span></span>
<span class="l"></span>
<a name=":b0fc:@_isNearPlayer"></a><span class="l"><a class="anc" name="b0fc" href="#b0fc">[b0fc]</a><a href="#:b0fc:@_isNearPlayer" class="lla">@_isNearPlayer:</a><span class="ce">; [$b0fc]</span></span>
<span class="l"><a class="anc" name="b0fc" href="#b0fc">[b0fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="b0fd" href="#b0fd">[b0fd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b0fe" href="#b0fe">[b0fe]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b0ff" href="#b0ff">[b0ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b100" href="#b100">[b100]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b101" href="#b101">[b101]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b102" href="#b102">[b102]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b103" href="#b103">[b103]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">;  |- 2 blocks X</span></span>
<span class="l"><a class="anc" name="b104" href="#b104">[b104]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- Hop mode 1</span></span>
<span class="l"><a class="anc" name="b105" href="#b105">[b105]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b106" href="#b106">[b106]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_mainLoop">@_mainLoop</a></span></span><span class="ce">;  '- <a href="#@_mainLoop">@_mainLoop</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_BORABOHRA"></a><div class="cp">;============================================================================
; Borabohra sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad8b]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad8b]
;
</div><span class="l"><a class="anc" name="b108" href="#b108">[b108]</a><a href="#BSCRIPTS_BOSS_BORABOHRA" class="la">BSCRIPTS_BOSS_BORABOHRA:</a><span class="ce">; [$b108]</span></span>
<span class="l"><a class="anc" name="b108" href="#b108">[b108]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b108] SpriteOp</span></span>
<span class="l"><a class="anc" name="b109" href="#b109">[b109]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BORABOHRA</span></span><span class="ce">; [$b109] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b10a" href="#b10a">[b10a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b10a] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_PAKUKAME"></a><div class="cp">;============================================================================
; Pakukame sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad8d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad8d]
;
</div><span class="l"><a class="anc" name="b10c" href="#b10c">[b10c]</a><a href="#BSCRIPTS_BOSS_PAKUKAME" class="la">BSCRIPTS_BOSS_PAKUKAME:</a><span class="ce">; [$b10c]</span></span>
<span class="l"><a class="anc" name="b10c" href="#b10c">[b10c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b10c] SpriteOp</span></span>
<span class="l"><a class="anc" name="b10d" href="#b10d">[b10d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_PAKUKAME</span></span><span class="ce">; [$b10d] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b10e" href="#b10e">[b10e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b10e] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_ZORUGERIRU"></a><div class="cp">;============================================================================
; Zorugeriru sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad8f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad8f]
;
</div><span class="l"><a class="anc" name="b110" href="#b110">[b110]</a><a href="#BSCRIPTS_BOSS_ZORUGERIRU" class="la">BSCRIPTS_BOSS_ZORUGERIRU:</a><span class="ce">; [$b110]</span></span>
<span class="l"><a class="anc" name="b110" href="#b110">[b110]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b110] SpriteOp</span></span>
<span class="l"><a class="anc" name="b111" href="#b111">[b111]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ZORUGERIRU</span></span><span class="ce">; [$b111] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b112" href="#b112">[b112]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b112] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_KING_GRIEVE"></a><div class="cp">;============================================================================
; King Grieve sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad91]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad91]
;
</div><span class="l"><a class="anc" name="b114" href="#b114">[b114]</a><a href="#BSCRIPTS_BOSS_KING_GRIEVE" class="la">BSCRIPTS_BOSS_KING_GRIEVE:</a><span class="ce">; [$b114]</span></span>
<span class="l"><a class="anc" name="b114" href="#b114">[b114]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b114] SpriteOp</span></span>
<span class="l"><a class="anc" name="b115" href="#b115">[b115]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_KING_GRIEVE</span></span><span class="ce">; [$b115] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b116" href="#b116">[b116]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b116] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_BOSS_SHADOW_EURA"></a><div class="cp">;============================================================================
; Shadow Eura sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad93]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad93]
;
</div><span class="l"><a class="anc" name="b118" href="#b118">[b118]</a><a href="#BSCRIPTS_BOSS_SHADOW_EURA" class="la">BSCRIPTS_BOSS_SHADOW_EURA:</a><span class="ce">; [$b118]</span></span>
<span class="l"><a class="anc" name="b118" href="#b118">[b118]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b118] SpriteOp</span></span>
<span class="l"><a class="anc" name="b119" href="#b119">[b119]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SHADOW_EURA</span></span><span class="ce">; [$b119] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b11a" href="#b11a">[b11a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b11a] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_GARBLED_81"></a><div class="cp">;============================================================================
; Enemy magic spell sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adcf]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add5]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adcf]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add5]
;
</div><span class="l"><a class="anc" name="b11c" href="#b11c">[b11c]</a><a href="#BSCRIPTS_GARBLED_81" class="la">BSCRIPTS_GARBLED_81:</a><span class="ce">; [$b11c]</span></span>
<span class="l"><a class="anc" name="b11c" href="#b11c">[b11c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b11c] SpriteOp</span></span>
<span class="l"><a class="anc" name="b11d" href="#b11d">[b11d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SOMETHING_GARBLED_81</span></span><span class="ce">; [$b11d] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b11e" href="#b11e">[b11e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b11e] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_GARBLED_10"></a><div class="cp">;============================================================================
; Unused garbled 10 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad41]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad41]
;
</div><span class="l"><a class="anc" name="b120" href="#b120">[b120]</a><a href="#BSCRIPTS_GARBLED_10" class="la">BSCRIPTS_GARBLED_10:</a><span class="ce">; [$b120]</span></span>
<span class="l"><a class="anc" name="b120" href="#b120">[b120]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b120] SpriteOp</span></span>
<span class="l"><a class="anc" name="b121" href="#b121">[b121]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SOMETHING_GARBLED_10</span></span><span class="ce">; [$b121] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b122" href="#b122">[b122]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b122] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_WALKING_MAN"></a><div class="cp">;============================================================================
; Walking Man NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad95]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad95]
;
</div><span class="l"><a class="anc" name="b124" href="#b124">[b124]</a><a href="#BSCRIPTS_NPC_WALKING_MAN" class="la">BSCRIPTS_NPC_WALKING_MAN:</a><span class="ce">; [$b124]</span></span>
<span class="l"><a class="anc" name="b124" href="#b124">[b124]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b125" href="#b125">[b125]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="b126" href="#b126">[b126]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b127" href="#b127">[b127]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="b128" href="#b128">[b128]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b129" href="#b129">[b129]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b12a" href="#b12a">[b12a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Stand still</span></span>
<span class="l"><a class="anc" name="b12b" href="#b12b">[b12b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">;  '- For 30 ticks</span></span>
<span class="l"><a class="anc" name="b12c" href="#b12c">[b12c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b12d" href="#b12d">[b12d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b12e" href="#b12e">[b12e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b12f" href="#b12f">[b12f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_WALKING_MAN">BSCRIPTS_NPC_WALKING_MAN</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_WALKING_MAN">BSCRIPTS_NPC_WALKING_MAN</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_UNUSED_BLUE_LADY"></a><div class="cp">;============================================================================
; Unused blue day NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad97]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad97]
;
</div><span class="l"><a class="anc" name="b131" href="#b131">[b131]</a><a href="#BSCRIPTS_NPC_UNUSED_BLUE_LADY" class="la">BSCRIPTS_NPC_UNUSED_BLUE_LADY:</a><span class="ce">; [$b131]</span></span>
<span class="l"><a class="anc" name="b131" href="#b131">[b131]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b132" href="#b132">[b132]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="b133" href="#b133">[b133]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">;  |- For 80 ticks</span></span>
<span class="l"><a class="anc" name="b134" href="#b134">[b134]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b135" href="#b135">[b135]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b136" href="#b136">[b136]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b137" href="#b137">[b137]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b138" href="#b138">[b138]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b139" href="#b139">[b139]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="b13a" href="#b13a">[b13a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">;  |- For 20 ticks</span></span>
<span class="l"><a class="anc" name="b13b" href="#b13b">[b13b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b13c" href="#b13c">[b13c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b13d" href="#b13d">[b13d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b13e" href="#b13e">[b13e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b13f" href="#b13f">[b13f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b140" href="#b140">[b140]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="b141" href="#b141">[b141]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">;  |- For 80 ticks</span></span>
<span class="l"><a class="anc" name="b142" href="#b142">[b142]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b143" href="#b143">[b143]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b144" href="#b144">[b144]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b145" href="#b145">[b145]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b146" href="#b146">[b146]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b147" href="#b147">[b147]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_UNUSED_BLUE_LADY">BSCRIPTS_NPC_UNUSED_BLUE_LADY</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_UNUSED_BLUE_LADY">BSCRIPTS_NPC_UNUSED_BLUE_LADY</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_UNUSED_CHILD"></a><div class="cp">;============================================================================
; Unused child NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad99]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad99]
;
</div><span class="l"><a class="anc" name="b149" href="#b149">[b149]</a><a href="#BSCRIPTS_NPC_UNUSED_CHILD" class="la">BSCRIPTS_NPC_UNUSED_CHILD:</a><span class="ce">; [$b149]</span></span>
<span class="l"><a class="anc" name="b149" href="#b149">[b149]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b14a" href="#b14a">[b14a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="b14b" href="#b14b">[b14b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b14c" href="#b14c">[b14c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="b14d" href="#b14d">[b14d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b14e" href="#b14e">[b14e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b14f" href="#b14f">[b14f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b150" href="#b150">[b150]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b151" href="#b151">[b151]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b152" href="#b152">[b152]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b153" href="#b153">[b153]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">;  '- Hop mode 3</span></span>
<span class="l"><a class="anc" name="b154" href="#b154">[b154]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b155" href="#b155">[b155]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_HOP</span></span><span class="ce">;  |- Hop</span></span>
<span class="l"><a class="anc" name="b156" href="#b156">[b156]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- (unused)</span></span>
<span class="l"><a class="anc" name="b157" href="#b157">[b157]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- 0 pixels X</span></span>
<span class="l"><a class="anc" name="b158" href="#b158">[b158]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  |- 1 block X</span></span>
<span class="l"><a class="anc" name="b159" href="#b159">[b159]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">;  '- Hop mode 3</span></span>
<span class="l"><a class="anc" name="b15a" href="#b15a">[b15a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b15b" href="#b15b">[b15b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WALK_FORWARD</span></span><span class="ce">;  |- Walk forward</span></span>
<span class="l"><a class="anc" name="b15c" href="#b15c">[b15c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  |- For 10 ticks</span></span>
<span class="l"><a class="anc" name="b15d" href="#b15d">[b15d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="b15e" href="#b15e">[b15e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b15f" href="#b15f">[b15f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b160" href="#b160">[b160]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b161" href="#b161">[b161]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">;  '- For 5 ticks</span></span>
<span class="l"><a class="anc" name="b162" href="#b162">[b162]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b163" href="#b163">[b163]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b164" href="#b164">[b164]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b165" href="#b165">[b165]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_UNUSED_CHILD">BSCRIPTS_NPC_UNUSED_CHILD</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_UNUSED_CHILD">BSCRIPTS_NPC_UNUSED_CHILD</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_ARMOR_SALESMAN"></a><div class="cp">;============================================================================
; Armor salesman NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad9b]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad9b]
;
</div><span class="l"><a class="anc" name="b167" href="#b167">[b167]</a><a href="#BSCRIPTS_NPC_ARMOR_SALESMAN" class="la">BSCRIPTS_NPC_ARMOR_SALESMAN:</a><span class="ce">; [$b167]</span></span>
<span class="l"><a class="anc" name="b167" href="#b167">[b167]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b168" href="#b168">[b168]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b169" href="#b169">[b169]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 ticks</span></span>
<span class="l"><a class="anc" name="b16a" href="#b16a">[b16a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_MARTIAL_ARTS"></a><div class="cp">;============================================================================
; Martial Artist NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad9d]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad9d]
;
</div><span class="l"><a class="anc" name="b16b" href="#b16b">[b16b]</a><a href="#BSCRIPTS_NPC_MARTIAL_ARTS" class="la">BSCRIPTS_NPC_MARTIAL_ARTS:</a><span class="ce">; [$b16b]</span></span>
<span class="l"><a class="anc" name="b16b" href="#b16b">[b16b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b16c" href="#b16c">[b16c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b16d" href="#b16d">[b16d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- 1 tick</span></span>
<span class="l"><a class="anc" name="b16e" href="#b16e">[b16e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b16f" href="#b16f">[b16f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b170" href="#b170">[b170]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b171" href="#b171">[b171]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MARTIAL_ARTS">BSCRIPTS_NPC_MARTIAL_ARTS</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_MARTIAL_ARTS">BSCRIPTS_NPC_MARTIAL_ARTS</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_PRIEST"></a><div class="cp">;============================================================================
; Priest NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad9f]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ad9f]
;
</div><span class="l"><a class="anc" name="b173" href="#b173">[b173]</a><a href="#BSCRIPTS_NPC_PRIEST" class="la">BSCRIPTS_NPC_PRIEST:</a><span class="ce">; [$b173]</span></span>
<span class="l"><a class="anc" name="b173" href="#b173">[b173]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b174" href="#b174">[b174]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b175" href="#b175">[b175]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; Op: Set sprite data</span></span>
<span class="l"><a class="anc" name="b176" href="#b176">[b176]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">;  |- X position</span></span>
<span class="l"><a class="anc" name="b178" href="#b178">[b178]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">;  '- to 4</span></span>
<span class="l"><a class="anc" name="b179" href="#b179">[b179]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b17a" href="#b17a">[b17a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Stand still</span></span>
<span class="l"><a class="anc" name="b17b" href="#b17b">[b17b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b17c" href="#b17c">[b17c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_KING"></a><div class="cp">;============================================================================
; King NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada1]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada1]
;
</div><span class="l"><a class="anc" name="b17d" href="#b17d">[b17d]</a><a href="#BSCRIPTS_NPC_KING" class="la">BSCRIPTS_NPC_KING:</a><span class="ce">; [$b17d]</span></span>
<span class="l"><a class="anc" name="b17d" href="#b17d">[b17d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b17e" href="#b17e">[b17e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b17f" href="#b17f">[b17f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":b180:@_waitNearPlayerLoop"></a><div class="c">;
; Wait until the King and the player are within 64 pixels
; of each other.
;
</div><span class="l"><a class="anc" name="b180" href="#b180">[b180]</a><a href="#:b180:@_waitNearPlayerLoop" class="lla">@_waitNearPlayerLoop:</a><span class="ce">; [$b180]</span></span>
<span class="l"><a class="anc" name="b180" href="#b180">[b180]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="b181" href="#b181">[b181]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b182" href="#b182">[b182]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">;  |- If &lt; 64 pixels</span></span>
<span class="l"><a class="anc" name="b183" href="#b183">[b183]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_nearPlayer">@_nearPlayer</a></span></span><span class="ce">;  |- Then <a href="#@_nearPlayer">@_nearPlayer</a></span></span>
<span class="l"><a class="anc" name="b185" href="#b185">[b185]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitNearPlayerLoop">@_waitNearPlayerLoop</a></span></span><span class="ce">;  '- Else <a href="#@_waitNearPlayerLoop">@_waitNearPlayerLoop</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":b187:@_nearPlayer"></a><div class="c">;
; The player is now near the King. The King will step forward
; 8 pixels and stand on the ground.
;
</div><span class="l"><a class="anc" name="b187" href="#b187">[b187]</a><a href="#:b187:@_nearPlayer" class="lla">@_nearPlayer:</a><span class="ce">; [$b187]</span></span>
<span class="l"><a class="anc" name="b187" href="#b187">[b187]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="b188" href="#b188">[b188]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; Op: Add value to</span></span>
<span class="l"><a class="anc" name="b189" href="#b189">[b189]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">;  |- Sprite X position</span></span>
<span class="l"><a class="anc" name="b18b" href="#b18b">[b18b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  '- Plus 8</span></span>
<span class="l"><a class="anc" name="b18c" href="#b18c">[b18c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b18d" href="#b18d">[b18d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b18e" href="#b18e">[b18e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":b18f:@_waitAwayFromPlayerLoop"></a><div class="c">;
; Wait until the player has moved away from the King.
;
; This has a longer distance check, since the King's
; position incremented when standing up.
;
</div><span class="l"><a class="anc" name="b18f" href="#b18f">[b18f]</a><a href="#:b18f:@_waitAwayFromPlayerLoop" class="lla">@_waitAwayFromPlayerLoop:</a><span class="ce">; [$b18f]</span></span>
<span class="l"><a class="anc" name="b18f" href="#b18f">[b18f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_CHECK_DISTANCE</span></span><span class="ce">; Op: Check distance to player</span></span>
<span class="l"><a class="anc" name="b190" href="#b190">[b190]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  |- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b191" href="#b191">[b191]</a><span class="cd"><span class="i">.byte</span> <span class="o">$48</span></span><span class="ce">;  |- If &lt; 72 pixels</span></span>
<span class="l"><a class="anc" name="b192" href="#b192">[b192]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_waitAwayFromPlayerLoop">@_waitAwayFromPlayerLoop</a></span></span><span class="ce">;  |- Then <a href="#@_waitAwayFromPlayerLoop">@_waitAwayFromPlayerLoop</a></span></span>
<span class="l"><a class="anc" name="b194" href="#b194">[b194]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#@_awayFromPlayer">@_awayFromPlayer</a></span></span><span class="ce">;  '- Else <a href="#@_awayFromPlayer">@_awayFromPlayer</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":b196:@_awayFromPlayer"></a><div class="c">;
; The player is now far enough away from the King.
; The King can sit down.
;
</div><span class="l"><a class="anc" name="b196" href="#b196">[b196]</a><a href="#:b196:@_awayFromPlayer" class="lla">@_awayFromPlayer:</a><span class="ce">; [$b196]</span></span>
<span class="l"><a class="anc" name="b196" href="#b196">[b196]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_FINISH_BEHAVIOR</span></span><span class="ce">; Op: Finish behavior</span></span>
<span class="l"><a class="anc" name="b197" href="#b197">[b197]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; Op: Add value to</span></span>
<span class="l"><a class="anc" name="b198" href="#b198">[b198]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">;  |- Sprite X position</span></span>
<span class="l"><a class="anc" name="b19a" href="#b19a">[b19a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8</span></span><span class="ce">;  '- Minus 8</span></span>
<span class="l"><a class="anc" name="b19b" href="#b19b">[b19b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b19c" href="#b19c">[b19c]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_KING">BSCRIPTS_NPC_KING</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_KING">BSCRIPTS_NPC_KING</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_MAGIC_TEACHER"></a><div class="cp">;============================================================================
; Magic Teacher NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada3]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada3]
;
</div><span class="l"><a class="anc" name="b19e" href="#b19e">[b19e]</a><a href="#BSCRIPTS_NPC_MAGIC_TEACHER" class="la">BSCRIPTS_NPC_MAGIC_TEACHER:</a><span class="ce">; [$b19e]</span></span>
<span class="l"><a class="anc" name="b19e" href="#b19e">[b19e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b19f" href="#b19f">[b19f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1a0" href="#b1a0">[b1a0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">;  '- For 1 tick</span></span>
<span class="l"><a class="anc" name="b1a1" href="#b1a1">[b1a1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1a2" href="#b1a2">[b1a2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b1a3" href="#b1a3">[b1a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_MAYBE_DISABLE_AND_GOTO</span></span><span class="ce">; Op: Maybe: Disable and Go To</span></span>
<span class="l"><a class="anc" name="b1a4" href="#b1a4">[b1a4]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MAGIC_TEACHER">BSCRIPTS_NPC_MAGIC_TEACHER</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_MAGIC_TEACHER">BSCRIPTS_NPC_MAGIC_TEACHER</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_DOCTOR"></a><div class="cp">;============================================================================
; Doctor NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb3]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb3]
;
</div><span class="l"><a class="anc" name="b1a6" href="#b1a6">[b1a6]</a><a href="#BSCRIPTS_NPC_DOCTOR" class="la">BSCRIPTS_NPC_DOCTOR:</a><span class="ce">; [$b1a6]</span></span>
<span class="l"><a class="anc" name="b1a6" href="#b1a6">[b1a6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; Op: Add to sprite value</span></span>
<span class="l"><a class="anc" name="b1a7" href="#b1a7">[b1a7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">;  |- Sprite X position</span></span>
<span class="l"><a class="anc" name="b1a9" href="#b1a9">[b1a9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  '- Add 8</span></span>
<span class="l"><a class="anc" name="b1aa" href="#b1aa">[b1aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1ab" href="#b1ab">[b1ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1ac" href="#b1ac">[b1ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b1ad" href="#b1ad">[b1ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_KEY_SALESMAN"></a><div class="cp">;============================================================================
; Key Salesman NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada5]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada5]
;
</div><span class="l"><a class="anc" name="b1ae" href="#b1ae">[b1ae]</a><a href="#BSCRIPTS_NPC_KEY_SALESMAN" class="la">BSCRIPTS_NPC_KEY_SALESMAN:</a><span class="ce">; [$b1ae]</span></span>
<span class="l"><a class="anc" name="b1ae" href="#b1ae">[b1ae]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1af" href="#b1af">[b1af]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1b0" href="#b1b0">[b1b0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b1b1" href="#b1b1">[b1b1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_SMOKING_MAN"></a><div class="cp">;============================================================================
; Smoking Man NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada7]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada7]
;
</div><span class="l"><a class="anc" name="b1b2" href="#b1b2">[b1b2]</a><a href="#BSCRIPTS_NPC_SMOKING_MAN" class="la">BSCRIPTS_NPC_SMOKING_MAN:</a><span class="ce">; [$b1b2]</span></span>
<span class="l"><a class="anc" name="b1b2" href="#b1b2">[b1b2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1b3" href="#b1b3">[b1b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1b4" href="#b1b4">[b1b4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">;  '- For 5 ticks</span></span>
<span class="l"><a class="anc" name="b1b5" href="#b1b5">[b1b5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1b6" href="#b1b6">[b1b6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b1b7" href="#b1b7">[b1b7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b1b8" href="#b1b8">[b1b8]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_SMOKING_MAN">BSCRIPTS_NPC_SMOKING_MAN</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_SMOKING_MAN">BSCRIPTS_NPC_SMOKING_MAN</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_MAN_IN_CHAIR"></a><div class="cp">;============================================================================
; Man in chair NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada9]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ada9]
;
</div><span class="l"><a class="anc" name="b1ba" href="#b1ba">[b1ba]</a><a href="#BSCRIPTS_NPC_MAN_IN_CHAIR" class="la">BSCRIPTS_NPC_MAN_IN_CHAIR:</a><span class="ce">; [$b1ba]</span></span>
<span class="l"><a class="anc" name="b1ba" href="#b1ba">[b1ba]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1bb" href="#b1bb">[b1bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1bc" href="#b1bc">[b1bc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">;  '- For 5 ticks</span></span>
<span class="l"><a class="anc" name="b1bd" href="#b1bd">[b1bd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1be" href="#b1be">[b1be]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b1bf" href="#b1bf">[b1bf]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b1c0" href="#b1c0">[b1c0]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_MAN_IN_CHAIR">BSCRIPTS_NPC_MAN_IN_CHAIR</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_MAN_IN_CHAIR">BSCRIPTS_NPC_MAN_IN_CHAIR</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_SITTING_MAN"></a><div class="cp">;============================================================================
; Sitting man NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adab]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adab]
;
</div><span class="l"><a class="anc" name="b1c2" href="#b1c2">[b1c2]</a><a href="#BSCRIPTS_NPC_SITTING_MAN" class="la">BSCRIPTS_NPC_SITTING_MAN:</a><span class="ce">; [$b1c2]</span></span>
<span class="l"><a class="anc" name="b1c2" href="#b1c2">[b1c2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1c3" href="#b1c3">[b1c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1c4" href="#b1c4">[b1c4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b1c5" href="#b1c5">[b1c5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_MEAT_SALESMAN"></a><div class="cp">;============================================================================
; Meat Salesman NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adad]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adad]
;
</div><span class="l"><a class="anc" name="b1c6" href="#b1c6">[b1c6]</a><a href="#BSCRIPTS_NPC_MEAT_SALESMAN" class="la">BSCRIPTS_NPC_MEAT_SALESMAN:</a><span class="ce">; [$b1c6]</span></span>
<span class="l"><a class="anc" name="b1c6" href="#b1c6">[b1c6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1c7" href="#b1c7">[b1c7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b1c8" href="#b1c8">[b1c8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1c9" href="#b1c9">[b1c9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1ca" href="#b1ca">[b1ca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- For 0 ticks</span></span>
<span class="l"><a class="anc" name="b1cb" href="#b1cb">[b1cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP"></a><div class="cp">;============================================================================
; Blue lady in dress with cup NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adaf]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adaf]
;
</div><span class="l"><a class="anc" name="b1cc" href="#b1cc">[b1cc]</a><a href="#BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP" class="la">BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP:</a><span class="ce">; [$b1cc]</span></span>
<span class="l"><a class="anc" name="b1cc" href="#b1cc">[b1cc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1cd" href="#b1cd">[b1cd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b1ce" href="#b1ce">[b1ce]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- For 192 ticks</span></span>
<span class="l"><a class="anc" name="b1cf" href="#b1cf">[b1cf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b1d0" href="#b1d0">[b1d0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b1d1" href="#b1d1">[b1d1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1d2" href="#b1d2">[b1d2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1d3" href="#b1d3">[b1d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">;  '- For 5 ticks</span></span>
<span class="l"><a class="anc" name="b1d4" href="#b1d4">[b1d4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1d5" href="#b1d5">[b1d5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b1d6" href="#b1d6">[b1d6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">;  |- For 40 ticks</span></span>
<span class="l"><a class="anc" name="b1d7" href="#b1d7">[b1d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b1d8" href="#b1d8">[b1d8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b1d9" href="#b1d9">[b1d9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1da" href="#b1da">[b1da]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b1db" href="#b1db">[b1db]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b1dc" href="#b1dc">[b1dc]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP">BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP">BSCRIPTS_NPC_LADY_BLUE_DRESS_WITH_CUP</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_KINGS_GUARD"></a><div class="cp">;============================================================================
; King's Guard NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb1]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb1]
;
</div><span class="l"><a class="anc" name="b1de" href="#b1de">[b1de]</a><a href="#BSCRIPTS_NPC_KINGS_GUARD" class="la">BSCRIPTS_NPC_KINGS_GUARD:</a><span class="ce">; [$b1de]</span></span>
<span class="l"><a class="anc" name="b1de" href="#b1de">[b1de]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1df" href="#b1df">[b1df]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b1e0" href="#b1e0">[b1e0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">;  |- For 80 ticks</span></span>
<span class="l"><a class="anc" name="b1e1" href="#b1e1">[b1e1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="b1e2" href="#b1e2">[b1e2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b1e3" href="#b1e3">[b1e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1e4" href="#b1e4">[b1e4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1e5" href="#b1e5">[b1e5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">;  '- For 5 ticks</span></span>
<span class="l"><a class="anc" name="b1e6" href="#b1e6">[b1e6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1e7" href="#b1e7">[b1e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b1e8" href="#b1e8">[b1e8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b1e9" href="#b1e9">[b1e9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_KINGS_GUARD">BSCRIPTS_NPC_KINGS_GUARD</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_KINGS_GUARD">BSCRIPTS_NPC_KINGS_GUARD</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_WALKING_WOMAN_01"></a><div class="cp">;============================================================================
; Walking woman 1 NPC sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb5]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb5]
;
</div><span class="l"><a class="anc" name="b1eb" href="#b1eb">[b1eb]</a><a href="#BSCRIPTS_NPC_WALKING_WOMAN_01" class="la">BSCRIPTS_NPC_WALKING_WOMAN_01:</a><span class="ce">; [$b1eb]</span></span>
<span class="l"><a class="anc" name="b1eb" href="#b1eb">[b1eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1ec" href="#b1ec">[b1ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b1ed" href="#b1ed">[b1ed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">;  |- For 80 ticks</span></span>
<span class="l"><a class="anc" name="b1ee" href="#b1ee">[b1ee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">;  |- 192 pixels X</span></span>
<span class="l"><a class="anc" name="b1ef" href="#b1ef">[b1ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b1f0" href="#b1f0">[b1f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1f1" href="#b1f1">[b1f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">;  |- Fall/wait</span></span>
<span class="l"><a class="anc" name="b1f2" href="#b1f2">[b1f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">;  '- For 10 ticks</span></span>
<span class="l"><a class="anc" name="b1f3" href="#b1f3">[b1f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1f4" href="#b1f4">[b1f4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b1f5" href="#b1f5">[b1f5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b1f6" href="#b1f6">[b1f6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FACE_PLAYER_X</span></span><span class="ce">;  '- Face player (X)</span></span>
<span class="l"><a class="anc" name="b1f7" href="#b1f7">[b1f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b1f8" href="#b1f8">[b1f8]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_WALKING_WOMAN_01">BSCRIPTS_NPC_WALKING_WOMAN_01</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_WALKING_WOMAN_01">BSCRIPTS_NPC_WALKING_WOMAN_01</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_NPC_WALKING_WOMAN_02"></a><div class="cp">;============================================================================
; Walking woman 2 sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb7]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adb7]
;
</div><span class="l"><a class="anc" name="b1fa" href="#b1fa">[b1fa]</a><a href="#BSCRIPTS_NPC_WALKING_WOMAN_02" class="la">BSCRIPTS_NPC_WALKING_WOMAN_02:</a><span class="ce">; [$b1fa]</span></span>
<span class="l"><a class="anc" name="b1fa" href="#b1fa">[b1fa]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b1fb" href="#b1fb">[b1fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b1fc" href="#b1fc">[b1fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">;  |- For 60 ticks</span></span>
<span class="l"><a class="anc" name="b1fd" href="#b1fd">[b1fd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b1fe" href="#b1fe">[b1fe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b1ff" href="#b1ff">[b1ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b200" href="#b200">[b200]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b201" href="#b201">[b201]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b202" href="#b202">[b202]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MOVE_TOWARD_PLAYER</span></span><span class="ce">;  |- Move toward player</span></span>
<span class="l"><a class="anc" name="b203" href="#b203">[b203]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">;  |- For 80 ticks</span></span>
<span class="l"><a class="anc" name="b204" href="#b204">[b204]</a><span class="cd"><span class="i">.byte</span> <span class="o">$80</span></span><span class="ce">;  |- 128 pixels X</span></span>
<span class="l"><a class="anc" name="b205" href="#b205">[b205]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- 0 blocks X</span></span>
<span class="l"><a class="anc" name="b206" href="#b206">[b206]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_RUN_ACTION</span></span><span class="ce">; Op: Run action</span></span>
<span class="l"><a class="anc" name="b207" href="#b207">[b207]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ACTION_FLIP_X_DIRECTION</span></span><span class="ce">;  '- Flip X direction</span></span>
<span class="l"><a class="anc" name="b208" href="#b208">[b208]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_GOTO</span></span><span class="ce">; Op: Goto</span></span>
<span class="l"><a class="anc" name="b209" href="#b209">[b209]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#BSCRIPTS_NPC_WALKING_WOMAN_02">BSCRIPTS_NPC_WALKING_WOMAN_02</a></span></span><span class="ce">;  '- <a href="#BSCRIPTS_NPC_WALKING_WOMAN_02">BSCRIPTS_NPC_WALKING_WOMAN_02</a></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_OINTMENT"></a><div class="cp">;============================================================================
; Ointment item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc9]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc9]
;
</div><span class="l"><a class="anc" name="b20b" href="#b20b">[b20b]</a><a href="#BSCRIPTS_OBJ_OINTMENT" class="la">BSCRIPTS_OBJ_OINTMENT:</a><span class="ce">; [$b20b]</span></span>
<span class="l"><a class="anc" name="b20b" href="#b20b">[b20b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b20b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b20c" href="#b20c">[b20c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ITEM_OINTMENT</span></span><span class="ce">; [$b20c] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b20d" href="#b20d">[b20d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b20d] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_GLOVE"></a><div class="cp">;============================================================================
; Glove item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adbd]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adbd]
;
</div><span class="l"><a class="anc" name="b20f" href="#b20f">[b20f]</a><a href="#BSCRIPTS_OBJ_GLOVE" class="la">BSCRIPTS_OBJ_GLOVE:</a><span class="ce">; [$b20f]</span></span>
<span class="l"><a class="anc" name="b20f" href="#b20f">[b20f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b20f] SpriteOp</span></span>
<span class="l"><a class="anc" name="b210" href="#b210">[b210]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_ITEM_GLOVE</span></span><span class="ce">; [$b210] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b211" href="#b211">[b211]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b211] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_WINGBOOTS"></a><div class="cp">;============================================================================
; Wingboots item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add7]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add7]
;
</div><span class="l"><a class="anc" name="b213" href="#b213">[b213]</a><a href="#BSCRIPTS_OBJ_WINGBOOTS" class="la">BSCRIPTS_OBJ_WINGBOOTS:</a><span class="ce">; [$b213]</span></span>
<span class="l"><a class="anc" name="b213" href="#b213">[b213]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b213] SpriteOp</span></span>
<span class="l"><a class="anc" name="b214" href="#b214">[b214]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_55</span></span><span class="ce">; [$b214] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b215" href="#b215">[b215]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b215] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_POTIONLIKE"></a><div class="cp">;============================================================================
; Potion-like item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc3]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc5]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc7]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adcb]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc3]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc5]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc7]
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adcb]
;
</div><span class="l"><a class="anc" name="b217" href="#b217">[b217]</a><a href="#BSCRIPTS_OBJ_POTIONLIKE" class="la">BSCRIPTS_OBJ_POTIONLIKE:</a><span class="ce">; [$b217]</span></span>
<span class="l"><a class="anc" name="b217" href="#b217">[b217]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b217] SpriteOp</span></span>
<span class="l"><a class="anc" name="b218" href="#b218">[b218]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FALL</span></span><span class="ce">; [$b218] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b219" href="#b219">[b219]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b219] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_MATTOCK"></a><div class="cp">;============================================================================
; Mattock item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adcd]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adcd]
;
</div><span class="l"><a class="anc" name="b21b" href="#b21b">[b21b]</a><a href="#BSCRIPTS_OBJ_MATTOCK" class="la">BSCRIPTS_OBJ_MATTOCK:</a><span class="ce">; [$b21b]</span></span>
<span class="l"><a class="anc" name="b21b" href="#b21b">[b21b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b21b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b21c" href="#b21c">[b21c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_50</span></span><span class="ce">; [$b21c] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b21d" href="#b21d">[b21d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b21d] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_HOURGLASS"></a><div class="cp">;============================================================================
; Hour Glass item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add9]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add9]
;
</div><span class="l"><a class="anc" name="b21f" href="#b21f">[b21f]</a><a href="#BSCRIPTS_OBJ_HOURGLASS" class="la">BSCRIPTS_OBJ_HOURGLASS:</a><span class="ce">; [$b21f]</span></span>
<span class="l"><a class="anc" name="b21f" href="#b21f">[b21f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b21f] SpriteOp</span></span>
<span class="l"><a class="anc" name="b220" href="#b220">[b220]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_51</span></span><span class="ce">; [$b220] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b221" href="#b221">[b221]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b221] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_FOUNTAIN"></a><div class="cp">;============================================================================
; Fountain sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add1]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::add1]
;
</div><span class="l"><a class="anc" name="b223" href="#b223">[b223]</a><a href="#BSCRIPTS_FOUNTAIN" class="la">BSCRIPTS_FOUNTAIN:</a><span class="ce">; [$b223]</span></span>
<span class="l"><a class="anc" name="b223" href="#b223">[b223]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; Op: Add to sprite value</span></span>
<span class="l"><a class="anc" name="b224" href="#b224">[b224]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">;  |- Sprite X position</span></span>
<span class="l"><a class="anc" name="b226" href="#b226">[b226]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">;  '- Plus 8</span></span>
<span class="l"><a class="anc" name="b227" href="#b227">[b227]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b228" href="#b228">[b228]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_FOUNTAIN</span></span><span class="ce">; [$b228] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b229" href="#b229">[b229]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b229] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_SPRING_OF_FORTRESS"></a><div class="cp">;============================================================================
; Spring of Trunk sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adef]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adef]
;
</div><span class="l"><a class="anc" name="b22b" href="#b22b">[b22b]</a><a href="#BSCRIPTS_SPRING_OF_FORTRESS" class="la">BSCRIPTS_SPRING_OF_FORTRESS:</a><span class="ce">; [$b22b]</span></span>
<span class="l"><a class="anc" name="b22b" href="#b22b">[b22b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; [$b22b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b22c" href="#b22c">[b22c]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">; <a href="#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a> [$PRG14::b22c]</span></span>
<span class="l"><a class="anc" name="b22e" href="#b22e">[b22e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [$b22e] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span></span>
<span class="l"><a class="anc" name="b230" href="#b230">[b230]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SPRING_OF_FORTRESS</span></span><span class="ce">; [$b230] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b231" href="#b231">[b231]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b231] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_SPRING_OF_SKY"></a><div class="cp">;============================================================================
; Spring of Sky sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adf1]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adf1]
;
</div><span class="l"><a class="anc" name="b233" href="#b233">[b233]</a><a href="#BSCRIPTS_SPRING_OF_SKY" class="la">BSCRIPTS_SPRING_OF_SKY:</a><span class="ce">; [$b233]</span></span>
<span class="l"><a class="anc" name="b233" href="#b233">[b233]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; [$b233] SpriteOp</span></span>
<span class="l"><a class="anc" name="b234" href="#b234">[b234]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">; <a href="#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a> [$PRG14::b234]</span></span>
<span class="l"><a class="anc" name="b236" href="#b236">[b236]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [$b236] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span></span>
<span class="l"><a class="anc" name="b238" href="#b238">[b238]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SPRING_OF_SKY</span></span><span class="ce">; [$b238] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b239" href="#b239">[b239]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b239] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_SPRING_OF_JOKER"></a><div class="cp">;============================================================================
; Spring of Joker sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adf3]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adf3]
;
</div><span class="l"><a class="anc" name="b23b" href="#b23b">[b23b]</a><a href="#BSCRIPTS_SPRING_OF_JOKER" class="la">BSCRIPTS_SPRING_OF_JOKER:</a><span class="ce">; [$b23b]</span></span>
<span class="l"><a class="anc" name="b23b" href="#b23b">[b23b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_ADD_TO_SPRITE_DATA</span></span><span class="ce">; [$b23b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b23c" href="#b23c">[b23c]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a></span></span><span class="ce">; <a href="#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a> [$PRG14::b23c]</span></span>
<span class="l"><a class="anc" name="b23e" href="#b23e">[b23e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [$b23e] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span></span>
<span class="l"><a class="anc" name="b240" href="#b240">[b240]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SPRING_OF_JOKER</span></span><span class="ce">; [$b240] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b241" href="#b241">[b241]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b241] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_BATTLE_SUIT"></a><div class="cp">;============================================================================
; Battle Suit item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::addd]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::addd]
;
</div><span class="l"><a class="anc" name="b243" href="#b243">[b243]</a><a href="#BSCRIPTS_OBJ_BATTLE_SUIT" class="la">BSCRIPTS_OBJ_BATTLE_SUIT:</a><span class="ce">; [$b243]</span></span>
<span class="l"><a class="anc" name="b243" href="#b243">[b243]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b243] SpriteOp</span></span>
<span class="l"><a class="anc" name="b244" href="#b244">[b244]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BATTLE_SUIT_DROPPED_BY_ZORADOHNA</span></span><span class="ce">; [$b244] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b245" href="#b245">[b245]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b245] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_BATTLE_HELMET"></a><div class="cp">;============================================================================
; Battle Helmet item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::addf]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::addf]
;
</div><span class="l"><a class="anc" name="b247" href="#b247">[b247]</a><a href="#BSCRIPTS_OBJ_BATTLE_HELMET" class="la">BSCRIPTS_OBJ_BATTLE_HELMET:</a><span class="ce">; [$b247]</span></span>
<span class="l"><a class="anc" name="b247" href="#b247">[b247]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b247] SpriteOp</span></span>
<span class="l"><a class="anc" name="b248" href="#b248">[b248]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BATTLE_HELMET_DROPPED_BY_ZORADOHNA</span></span><span class="ce">; [$b248] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b249" href="#b249">[b249]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b249] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_DRAGON_SLAYER"></a><div class="cp">;============================================================================
; Dragon Slayer item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade1]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade1]
;
</div><span class="l"><a class="anc" name="b24b" href="#b24b">[b24b]</a><a href="#BSCRIPTS_OBJ_DRAGON_SLAYER" class="la">BSCRIPTS_OBJ_DRAGON_SLAYER:</a><span class="ce">; [$b24b]</span></span>
<span class="l"><a class="anc" name="b24b" href="#b24b">[b24b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b24b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b24c" href="#b24c">[b24c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_DRAGON_SLAYER_DROPPED_BY_KING_GRIEVE</span></span><span class="ce">; [$b24c] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b24d" href="#b24d">[b24d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b24d] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_MAGICAL_ROD"></a><div class="cp">;============================================================================
; Magical Rod item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::addb]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::addb]
;
</div><span class="l"><a class="anc" name="b24f" href="#b24f">[b24f]</a><a href="#BSCRIPTS_OBJ_MAGICAL_ROD" class="la">BSCRIPTS_OBJ_MAGICAL_ROD:</a><span class="ce">; [$b24f]</span></span>
<span class="l"><a class="anc" name="b24f" href="#b24f">[b24f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b24f] SpriteOp</span></span>
<span class="l"><a class="anc" name="b250" href="#b250">[b250]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_SHOW_MAGICAL_ROD</span></span><span class="ce">; [$b250] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b251" href="#b251">[b251]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b251] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_BLACK_ONYX"></a><div class="cp">;============================================================================
; Black Onyx dropped by Zoradohna sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adbf]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adbf]
;
</div><span class="l"><a class="anc" name="b253" href="#b253">[b253]</a><a href="#BSCRIPTS_OBJ_BLACK_ONYX" class="la">BSCRIPTS_OBJ_BLACK_ONYX:</a><span class="ce">; [$b253]</span></span>
<span class="l"><a class="anc" name="b253" href="#b253">[b253]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b254" href="#b254">[b254]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_BLACK_ONYX_DROPPED_FROM_ZORADOHNA</span></span><span class="ce">;  |- Black Onyx drops from Zoradohna</span></span>
<span class="l"><a class="anc" name="b255" href="#b255">[b255]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="b256" href="#b256">[b256]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_PENDANT"></a><div class="cp">;============================================================================
; Pendant dropped from Ripasheiku sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc1]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adc1]
;
</div><span class="l"><a class="anc" name="b257" href="#b257">[b257]</a><a href="#BSCRIPTS_OBJ_PENDANT" class="la">BSCRIPTS_OBJ_PENDANT:</a><span class="ce">; [$b257]</span></span>
<span class="l"><a class="anc" name="b257" href="#b257">[b257]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b258" href="#b258">[b258]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_PENDANT_DROPPED_FROM_RIPASHEIKU</span></span><span class="ce">;  |- Pendant drops from Ripasheiku</span></span>
<span class="l"><a class="anc" name="b259" href="#b259">[b259]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="b25a" href="#b25a">[b25a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_MATTOCK_QUEST"></a><div class="cp">;============================================================================
; Mattock dropped by Ripasheiku sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade3]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade3]
;
</div><span class="l"><a class="anc" name="b25b" href="#b25b">[b25b]</a><a href="#BSCRIPTS_OBJ_MATTOCK_QUEST" class="la">BSCRIPTS_OBJ_MATTOCK_QUEST:</a><span class="ce">; [$b25b]</span></span>
<span class="l"><a class="anc" name="b25b" href="#b25b">[b25b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b25c" href="#b25c">[b25c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_MATTOCK_DROPPED_BY_RPIASHEIKU</span></span><span class="ce">;  |- Mattock drops from Ripasheiku</span></span>
<span class="l"><a class="anc" name="b25d" href="#b25d">[b25d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="b25e" href="#b25e">[b25e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_WINGSBOOTS_QUEST"></a><div class="cp">;============================================================================
; Wing Boots dropped by Zorugeriru sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade5]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade5]
;
</div><span class="l"><a class="anc" name="b25f" href="#b25f">[b25f]</a><a href="#BSCRIPTS_OBJ_WINGSBOOTS_QUEST" class="la">BSCRIPTS_OBJ_WINGSBOOTS_QUEST:</a><span class="ce">; [$b25f]</span></span>
<span class="l"><a class="anc" name="b25f" href="#b25f">[b25f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; Op: Switch behavior</span></span>
<span class="l"><a class="anc" name="b260" href="#b260">[b260]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_WING_BOOTS_DROPPED_BY_ZORUGERIRU</span></span><span class="ce">;  |- Wing Boots drops by Zorugeriru</span></span>
<span class="l"><a class="anc" name="b261" href="#b261">[b261]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">;  '- (unused)</span></span>
<span class="l"><a class="anc" name="b262" href="#b262">[b262]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span><span class="ce">; Op: End script</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_RED_POTION_RANDOM"></a><div class="cp">;============================================================================
; Red Potion 2 item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade7]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade7]
;
</div><span class="l"><a class="anc" name="b263" href="#b263">[b263]</a><a href="#BSCRIPTS_OBJ_RED_POTION_RANDOM" class="la">BSCRIPTS_OBJ_RED_POTION_RANDOM:</a><span class="ce">; [$b263]</span></span>
<span class="l"><a class="anc" name="b263" href="#b263">[b263]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b263] SpriteOp</span></span>
<span class="l"><a class="anc" name="b264" href="#b264">[b264]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_52</span></span><span class="ce">; [$b264] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b265" href="#b265">[b265]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b265] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_POISON"></a><div class="cp">;============================================================================
; Poison item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade9]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::ade9]
;
</div><span class="l"><a class="anc" name="b267" href="#b267">[b267]</a><a href="#BSCRIPTS_OBJ_POISON" class="la">BSCRIPTS_OBJ_POISON:</a><span class="ce">; [$b267]</span></span>
<span class="l"><a class="anc" name="b267" href="#b267">[b267]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b267] SpriteOp</span></span>
<span class="l"><a class="anc" name="b268" href="#b268">[b268]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_53</span></span><span class="ce">; [$b268] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b269" href="#b269">[b269]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b269] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_GLOVE_RANDOM"></a><div class="cp">;============================================================================
; Glove 2 item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adeb]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::adeb]
;
</div><span class="l"><a class="anc" name="b26b" href="#b26b">[b26b]</a><a href="#BSCRIPTS_OBJ_GLOVE_RANDOM" class="la">BSCRIPTS_OBJ_GLOVE_RANDOM:</a><span class="ce">; [$b26b]</span></span>
<span class="l"><a class="anc" name="b26b" href="#b26b">[b26b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b26b] SpriteOp</span></span>
<span class="l"><a class="anc" name="b26c" href="#b26c">[b26c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_54</span></span><span class="ce">; [$b26c] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b26d" href="#b26d">[b26d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [$b26d] byte</span></span>
<span class="l"></span>
<span class="l"><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_END_SCRIPT</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="BSCRIPTS_OBJ_OINTMENT_RANDOM"></a><div class="cp">;============================================================================
; Ointment 2 item sprite behavior script.
;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::aded]
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#SPRITE_BSCRIPTS">SPRITE_BSCRIPTS</a> [$PRG14::aded]
;
</div><span class="l"><a class="anc" name="b26f" href="#b26f">[b26f]</a><a href="#BSCRIPTS_OBJ_OINTMENT_RANDOM" class="la">BSCRIPTS_OBJ_OINTMENT_RANDOM:</a><span class="ce">; [$b26f]</span></span>
<span class="l"><a class="anc" name="b26f" href="#b26f">[b26f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_OP_SWITCH_BEHAVIOR</span></span><span class="ce">; [$b26f] SpriteOp</span></span>
<span class="l"><a class="anc" name="b270" href="#b270">[b270]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BEHAVIOR_RANDOMLY_SHOW_ITEM_56</span></span><span class="ce">; [$b270] SpriteBehavior</span></span>
<span class="l"><a class="anc" name="b271" href="#b271">[b271]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$ff</span></span><span class="ce">; [$b271] byte</span></span>
<span class="l"></span>
<span class="l"><a class="anc" name="b274" href="#b274">[b274]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$08,$10,$08</span></span><span class="ce">; [$b274] undefined</span></span>
<span class="l"><a class="anc" name="b27b" href="#b27b">[b27b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04,$08,$08,$08,$00,$00,$10,$10</span></span><span class="ce">; [$b27b] undefined</span></span>
<span class="l"><a class="anc" name="b283" href="#b283">[b283]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b283] undefined</span></span>
<span class="l"><a class="anc" name="b28b" href="#b28b">[b28b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$10</span></span><span class="ce">; [$b28b] undefined</span></span>
<span class="l"><a class="anc" name="b293" href="#b293">[b293]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b293] undefined</span></span>
<span class="l"><a class="anc" name="b29b" href="#b29b">[b29b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b29b] undefined</span></span>
<span class="l"><a class="anc" name="b2a3" href="#b2a3">[b2a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2a3] undefined</span></span>
<span class="l"><a class="anc" name="b2ab" href="#b2ab">[b2ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2ab] undefined</span></span>
<span class="l"><a class="anc" name="b2b3" href="#b2b3">[b2b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$04,$00,$18,$30</span></span><span class="ce">; [$b2b3] undefined</span></span>
<span class="l"><a class="anc" name="b2bb" href="#b2bb">[b2bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$00,$00</span></span><span class="ce">; [$b2bb] undefined</span></span>
<span class="l"><a class="anc" name="b2c3" href="#b2c3">[b2c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2c3] undefined</span></span>
<span class="l"><a class="anc" name="b2cb" href="#b2cb">[b2cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$20</span></span><span class="ce">; [$b2cb] undefined</span></span>
<span class="l"><a class="anc" name="b2d3" href="#b2d3">[b2d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2d3] undefined</span></span>
<span class="l"><a class="anc" name="b2db" href="#b2db">[b2db]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2db] undefined</span></span>
<span class="l"><a class="anc" name="b2e3" href="#b2e3">[b2e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2e3] undefined</span></span>
<span class="l"><a class="anc" name="b2eb" href="#b2eb">[b2eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2eb] undefined</span></span>
<span class="l"><a class="anc" name="b2f3" href="#b2f3">[b2f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2f3] undefined</span></span>
<span class="l"><a class="anc" name="b2fb" href="#b2fb">[b2fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b2fb] undefined</span></span>
<span class="l"><a class="anc" name="b303" href="#b303">[b303]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b303] undefined</span></span>
<span class="l"><a class="anc" name="b30b" href="#b30b">[b30b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b30b] undefined</span></span>
<span class="l"><a class="anc" name="b313" href="#b313">[b313]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b313] undefined</span></span>
<span class="l"><a class="anc" name="b31b" href="#b31b">[b31b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b31b] undefined</span></span>
<span class="l"><a class="anc" name="b323" href="#b323">[b323]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$20,$00,$00,$20,$40</span></span><span class="ce">; [$b323] undefined</span></span>
<span class="l"><a class="anc" name="b32b" href="#b32b">[b32b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$30,$04,$00,$18,$30</span></span><span class="ce">; [$b32b] undefined</span></span>
<span class="l"><a class="anc" name="b333" href="#b333">[b333]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$20,$00,$00,$10,$20</span></span><span class="ce">; [$b333] undefined</span></span>
<span class="l"><a class="anc" name="b33b" href="#b33b">[b33b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$40,$18,$08,$00,$28,$50</span></span><span class="ce">; [$b33b] undefined</span></span>
<span class="l"><a class="anc" name="b343" href="#b343">[b343]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$00,$20,$20,$f8,$00,$20,$20</span></span><span class="ce">; [$b343] undefined</span></span>
<span class="l"><a class="anc" name="b34b" href="#b34b">[b34b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$00,$20,$20,$00,$00,$28,$30</span></span><span class="ce">; [$b34b] undefined</span></span>
<span class="l"><a class="anc" name="b353" href="#b353">[b353]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0,$00,$30,$20,$00,$00,$30,$20</span></span><span class="ce">; [$b353] undefined</span></span>
<span class="l"><a class="anc" name="b35b" href="#b35b">[b35b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$30,$20,$f0,$00,$30,$20</span></span><span class="ce">; [$b35b] undefined</span></span>
<span class="l"><a class="anc" name="b363" href="#b363">[b363]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$20,$f8,$00,$20,$20</span></span><span class="ce">; [$b363] undefined</span></span>
<span class="l"><a class="anc" name="b36b" href="#b36b">[b36b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$30,$f8,$00,$20,$20</span></span><span class="ce">; [$b36b] undefined</span></span>
<span class="l"><a class="anc" name="b373" href="#b373">[b373]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$00,$20,$20,$f8,$00,$20,$20</span></span><span class="ce">; [$b373] undefined</span></span>
<span class="l"><a class="anc" name="b37b" href="#b37b">[b37b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$00,$20,$20,$f8,$00,$20,$20</span></span><span class="ce">; [$b37b] undefined</span></span>
<span class="l"><a class="anc" name="b383" href="#b383">[b383]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$00,$20,$20,$f8,$00,$20,$20</span></span><span class="ce">; [$b383] undefined</span></span>
<span class="l"><a class="anc" name="b38b" href="#b38b">[b38b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b38b] undefined</span></span>
<span class="l"><a class="anc" name="b393" href="#b393">[b393]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$08,$10,$00,$00,$08,$10</span></span><span class="ce">; [$b393] undefined</span></span>
<span class="l"><a class="anc" name="b39b" href="#b39b">[b39b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$08,$10,$00,$00,$08,$10</span></span><span class="ce">; [$b39b] undefined</span></span>
<span class="l"><a class="anc" name="b3a3" href="#b3a3">[b3a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$08,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3a3] undefined</span></span>
<span class="l"><a class="anc" name="b3ab" href="#b3ab">[b3ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$c0</span></span><span class="ce">; [$b3ab] undefined</span></span>
<span class="l"><a class="anc" name="b3b3" href="#b3b3">[b3b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$04,$04,$08,$08</span></span><span class="ce">; [$b3b3] undefined</span></span>
<span class="l"><a class="anc" name="b3bb" href="#b3bb">[b3bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$20,$00,$00,$10,$10</span></span><span class="ce">; [$b3bb] undefined</span></span>
<span class="l"><a class="anc" name="b3c3" href="#b3c3">[b3c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3c3] undefined</span></span>
<span class="l"><a class="anc" name="b3cb" href="#b3cb">[b3cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3cb] undefined</span></span>
<span class="l"><a class="anc" name="b3d3" href="#b3d3">[b3d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3d3] undefined</span></span>
<span class="l"><a class="anc" name="b3db" href="#b3db">[b3db]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3db] undefined</span></span>
<span class="l"><a class="anc" name="b3e3" href="#b3e3">[b3e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3e3] undefined</span></span>
<span class="l"><a class="anc" name="b3eb" href="#b3eb">[b3eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$10,$10</span></span><span class="ce">; [$b3eb] undefined</span></span>
<span class="l"><a class="anc" name="b3f3" href="#b3f3">[b3f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$10,$10,$00,$00,$20,$20</span></span><span class="ce">; [$b3f3] undefined</span></span>
<span class="l"><a class="anc" name="b3fb" href="#b3fb">[b3fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$20,$00,$00,$20,$20</span></span><span class="ce">; [$b3fb] undefined</span></span>
<span class="l"><a class="anc" name="b403" href="#b403">[b403]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$00,$20,$20</span></span><span class="ce">; [$b403] undefined</span></span>
<span class="l"></span>
<a name="MAYBE_SPRITE_EXTENTS"></a><a name="SPRITE_ENTITY_WEAPON_RANGES"></a><div class="c">;
; XREFS:
;     <a href="#Sprites_IsSpriteOutOfWeaponRange">Sprites_IsSpriteOutOfWeaponRange</a>
;
</div><span class="l"><a class="anc" name="b407" href="#b407">[b407]</a><a href="#MAYBE_SPRITE_EXTENTS" class="la">MAYBE_SPRITE_EXTENTS:</a><span class="ce">; [$b407]</span></span>
<span class="l"><a class="anc" name="b407" href="#b407">[b407]</a><a href="#SPRITE_ENTITY_WEAPON_RANGES" class="la">SPRITE_ENTITY_WEAPON_RANGES:</a></span>
<span class="l"><a class="anc" name="b407" href="#b407">[b407]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [0]:</span></span>
<span class="l"></span>
<a name="MAYBE_SPRITE_EXTENTS_1_"></a><div class="c">;
; XREFS:
;     <a href="#Sprites_IsSpriteOutOfWeaponRange">Sprites_IsSpriteOutOfWeaponRange</a>
;
</div><span class="l"><a class="anc" name="b408" href="#b408">[b408]</a><a href="#MAYBE_SPRITE_EXTENTS_1_" class="la">MAYBE_SPRITE_EXTENTS_1_:</a><span class="ce">; [$b408]</span></span>
<span class="l"><a class="anc" name="b408" href="#b408">[b408]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b409" href="#b409">[b409]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b40a" href="#b40a">[b40a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="b40b" href="#b40b">[b40b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="b40c" href="#b40c">[b40c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="b40d" href="#b40d">[b40d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="b40e" href="#b40e">[b40e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="b40f" href="#b40f">[b40f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="b410" href="#b410">[b410]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [9]:</span></span>
<span class="l"><a class="anc" name="b411" href="#b411">[b411]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [10]:</span></span>
<span class="l"><a class="anc" name="b412" href="#b412">[b412]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [11]:</span></span>
<span class="l"><a class="anc" name="b413" href="#b413">[b413]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [12]:</span></span>
<span class="l"><a class="anc" name="b414" href="#b414">[b414]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [13]:</span></span>
<span class="l"><a class="anc" name="b415" href="#b415">[b415]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [14]:</span></span>
<span class="l"><a class="anc" name="b416" href="#b416">[b416]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [15]:</span></span>
<span class="l"><a class="anc" name="b417" href="#b417">[b417]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [16]:</span></span>
<span class="l"><a class="anc" name="b418" href="#b418">[b418]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [17]:</span></span>
<span class="l"><a class="anc" name="b419" href="#b419">[b419]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [18]:</span></span>
<span class="l"><a class="anc" name="b41a" href="#b41a">[b41a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [19]:</span></span>
<span class="l"><a class="anc" name="b41b" href="#b41b">[b41b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [20]:</span></span>
<span class="l"><a class="anc" name="b41c" href="#b41c">[b41c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [21]:</span></span>
<span class="l"><a class="anc" name="b41d" href="#b41d">[b41d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [22]:</span></span>
<span class="l"><a class="anc" name="b41e" href="#b41e">[b41e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [23]:</span></span>
<span class="l"><a class="anc" name="b41f" href="#b41f">[b41f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [24]:</span></span>
<span class="l"><a class="anc" name="b420" href="#b420">[b420]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [25]:</span></span>
<span class="l"><a class="anc" name="b421" href="#b421">[b421]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [26]:</span></span>
<span class="l"><a class="anc" name="b422" href="#b422">[b422]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [27]:</span></span>
<span class="l"><a class="anc" name="b423" href="#b423">[b423]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [28]:</span></span>
<span class="l"><a class="anc" name="b424" href="#b424">[b424]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [29]:</span></span>
<span class="l"><a class="anc" name="b425" href="#b425">[b425]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [30]:</span></span>
<span class="l"><a class="anc" name="b426" href="#b426">[b426]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [31]:</span></span>
<span class="l"><a class="anc" name="b427" href="#b427">[b427]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [32]:</span></span>
<span class="l"><a class="anc" name="b428" href="#b428">[b428]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [33]:</span></span>
<span class="l"><a class="anc" name="b429" href="#b429">[b429]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [34]:</span></span>
<span class="l"><a class="anc" name="b42a" href="#b42a">[b42a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [35]:</span></span>
<span class="l"><a class="anc" name="b42b" href="#b42b">[b42b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [36]:</span></span>
<span class="l"><a class="anc" name="b42c" href="#b42c">[b42c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [37]:</span></span>
<span class="l"><a class="anc" name="b42d" href="#b42d">[b42d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [38]:</span></span>
<span class="l"><a class="anc" name="b42e" href="#b42e">[b42e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [39]:</span></span>
<span class="l"><a class="anc" name="b42f" href="#b42f">[b42f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [40]:</span></span>
<span class="l"><a class="anc" name="b430" href="#b430">[b430]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [41]:</span></span>
<span class="l"><a class="anc" name="b431" href="#b431">[b431]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [42]:</span></span>
<span class="l"><a class="anc" name="b432" href="#b432">[b432]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [43]:</span></span>
<span class="l"><a class="anc" name="b433" href="#b433">[b433]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [44]:</span></span>
<span class="l"><a class="anc" name="b434" href="#b434">[b434]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [45]:</span></span>
<span class="l"><a class="anc" name="b435" href="#b435">[b435]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [46]:</span></span>
<span class="l"><a class="anc" name="b436" href="#b436">[b436]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [47]:</span></span>
<span class="l"><a class="anc" name="b437" href="#b437">[b437]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [48]:</span></span>
<span class="l"><a class="anc" name="b438" href="#b438">[b438]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [49]:</span></span>
<span class="l"><a class="anc" name="b439" href="#b439">[b439]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [50]:</span></span>
<span class="l"><a class="anc" name="b43a" href="#b43a">[b43a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [51]:</span></span>
<span class="l"><a class="anc" name="b43b" href="#b43b">[b43b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [52]:</span></span>
<span class="l"><a class="anc" name="b43c" href="#b43c">[b43c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [53]:</span></span>
<span class="l"><a class="anc" name="b43d" href="#b43d">[b43d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [54]:</span></span>
<span class="l"><a class="anc" name="b43e" href="#b43e">[b43e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [55]:</span></span>
<span class="l"><a class="anc" name="b43f" href="#b43f">[b43f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [56]:</span></span>
<span class="l"><a class="anc" name="b440" href="#b440">[b440]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [57]:</span></span>
<span class="l"><a class="anc" name="b441" href="#b441">[b441]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [58]:</span></span>
<span class="l"><a class="anc" name="b442" href="#b442">[b442]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [59]:</span></span>
<span class="l"><a class="anc" name="b443" href="#b443">[b443]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [60]:</span></span>
<span class="l"><a class="anc" name="b444" href="#b444">[b444]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [61]:</span></span>
<span class="l"><a class="anc" name="b445" href="#b445">[b445]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [62]:</span></span>
<span class="l"><a class="anc" name="b446" href="#b446">[b446]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [63]:</span></span>
<span class="l"><a class="anc" name="b447" href="#b447">[b447]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [64]:</span></span>
<span class="l"><a class="anc" name="b448" href="#b448">[b448]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [65]:</span></span>
<span class="l"><a class="anc" name="b449" href="#b449">[b449]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [66]:</span></span>
<span class="l"><a class="anc" name="b44a" href="#b44a">[b44a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [67]:</span></span>
<span class="l"><a class="anc" name="b44b" href="#b44b">[b44b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [68]:</span></span>
<span class="l"><a class="anc" name="b44c" href="#b44c">[b44c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [69]:</span></span>
<span class="l"><a class="anc" name="b44d" href="#b44d">[b44d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [70]:</span></span>
<span class="l"><a class="anc" name="b44e" href="#b44e">[b44e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [71]:</span></span>
<span class="l"><a class="anc" name="b44f" href="#b44f">[b44f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [72]:</span></span>
<span class="l"><a class="anc" name="b450" href="#b450">[b450]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [73]:</span></span>
<span class="l"><a class="anc" name="b451" href="#b451">[b451]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [74]:</span></span>
<span class="l"><a class="anc" name="b452" href="#b452">[b452]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [75]:</span></span>
<span class="l"><a class="anc" name="b453" href="#b453">[b453]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [76]:</span></span>
<span class="l"><a class="anc" name="b454" href="#b454">[b454]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [77]:</span></span>
<span class="l"><a class="anc" name="b455" href="#b455">[b455]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [78]:</span></span>
<span class="l"><a class="anc" name="b456" href="#b456">[b456]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [79]:</span></span>
<span class="l"><a class="anc" name="b457" href="#b457">[b457]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [80]:</span></span>
<span class="l"><a class="anc" name="b458" href="#b458">[b458]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [81]:</span></span>
<span class="l"><a class="anc" name="b459" href="#b459">[b459]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [82]:</span></span>
<span class="l"><a class="anc" name="b45a" href="#b45a">[b45a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [83]:</span></span>
<span class="l"><a class="anc" name="b45b" href="#b45b">[b45b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [84]:</span></span>
<span class="l"><a class="anc" name="b45c" href="#b45c">[b45c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [85]:</span></span>
<span class="l"><a class="anc" name="b45d" href="#b45d">[b45d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [86]:</span></span>
<span class="l"><a class="anc" name="b45e" href="#b45e">[b45e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [87]:</span></span>
<span class="l"><a class="anc" name="b45f" href="#b45f">[b45f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [88]:</span></span>
<span class="l"><a class="anc" name="b460" href="#b460">[b460]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [89]:</span></span>
<span class="l"><a class="anc" name="b461" href="#b461">[b461]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [90]:</span></span>
<span class="l"><a class="anc" name="b462" href="#b462">[b462]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [91]:</span></span>
<span class="l"><a class="anc" name="b463" href="#b463">[b463]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [92]:</span></span>
<span class="l"><a class="anc" name="b464" href="#b464">[b464]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [93]:</span></span>
<span class="l"><a class="anc" name="b465" href="#b465">[b465]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [94]:</span></span>
<span class="l"><a class="anc" name="b466" href="#b466">[b466]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [95]:</span></span>
<span class="l"><a class="anc" name="b467" href="#b467">[b467]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [96]:</span></span>
<span class="l"><a class="anc" name="b468" href="#b468">[b468]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [97]:</span></span>
<span class="l"><a class="anc" name="b469" href="#b469">[b469]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [98]:</span></span>
<span class="l"><a class="anc" name="b46a" href="#b46a">[b46a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [99]:</span></span>
<span class="l"><a class="anc" name="b46b" href="#b46b">[b46b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [100]:</span></span>
<span class="l"><a class="anc" name="b46c" href="#b46c">[b46c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [101]:</span></span>
<span class="l"><a class="anc" name="b46d" href="#b46d">[b46d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [102]:</span></span>
<span class="l"><a class="anc" name="b46e" href="#b46e">[b46e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [103]:</span></span>
<span class="l"><a class="anc" name="b46f" href="#b46f">[b46f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [104]:</span></span>
<span class="l"><a class="anc" name="b470" href="#b470">[b470]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [105]:</span></span>
<span class="l"><a class="anc" name="b471" href="#b471">[b471]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [106]:</span></span>
<span class="l"><a class="anc" name="b472" href="#b472">[b472]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [107]:</span></span>
<span class="l"><a class="anc" name="b473" href="#b473">[b473]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [108]:</span></span>
<span class="l"><a class="anc" name="b474" href="#b474">[b474]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [109]:</span></span>
<span class="l"><a class="anc" name="b475" href="#b475">[b475]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">; [110]:</span></span>
<span class="l"><a class="anc" name="b476" href="#b476">[b476]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [111]:</span></span>
<span class="l"><a class="anc" name="b477" href="#b477">[b477]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [112]:</span></span>
<span class="l"><a class="anc" name="b478" href="#b478">[b478]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [113]:</span></span>
<span class="l"><a class="anc" name="b479" href="#b479">[b479]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [114]:</span></span>
<span class="l"><a class="anc" name="b47a" href="#b47a">[b47a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [115]:</span></span>
<span class="l"><a class="anc" name="b47b" href="#b47b">[b47b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [116]:</span></span>
<span class="l"><a class="anc" name="b47c" href="#b47c">[b47c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [117]:</span></span>
<span class="l"><a class="anc" name="b47d" href="#b47d">[b47d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [118]:</span></span>
<span class="l"><a class="anc" name="b47e" href="#b47e">[b47e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [119]:</span></span>
<span class="l"><a class="anc" name="b47f" href="#b47f">[b47f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [120]:</span></span>
<span class="l"><a class="anc" name="b480" href="#b480">[b480]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [121]:</span></span>
<span class="l"><a class="anc" name="b481" href="#b481">[b481]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [122]:</span></span>
<span class="l"><a class="anc" name="b482" href="#b482">[b482]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [123]:</span></span>
<span class="l"><a class="anc" name="b483" href="#b483">[b483]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [124]:</span></span>
<span class="l"><a class="anc" name="b484" href="#b484">[b484]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [125]:</span></span>
<span class="l"><a class="anc" name="b485" href="#b485">[b485]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [126]:</span></span>
<span class="l"><a class="anc" name="b486" href="#b486">[b486]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [127]:</span></span>
<span class="l"><a class="anc" name="b487" href="#b487">[b487]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [128]:</span></span>
<span class="l"><a class="anc" name="b488" href="#b488">[b488]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [129]:</span></span>
<span class="l"><a class="anc" name="b489" href="#b489">[b489]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [130]:</span></span>
<span class="l"><a class="anc" name="b48a" href="#b48a">[b48a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [131]:</span></span>
<span class="l"><a class="anc" name="b48b" href="#b48b">[b48b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [132]:</span></span>
<span class="l"><a class="anc" name="b48c" href="#b48c">[b48c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [133]:</span></span>
<span class="l"><a class="anc" name="b48d" href="#b48d">[b48d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [134]:</span></span>
<span class="l"><a class="anc" name="b48e" href="#b48e">[b48e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [135]:</span></span>
<span class="l"><a class="anc" name="b48f" href="#b48f">[b48f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [136]:</span></span>
<span class="l"><a class="anc" name="b490" href="#b490">[b490]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [137]:</span></span>
<span class="l"><a class="anc" name="b491" href="#b491">[b491]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [138]:</span></span>
<span class="l"><a class="anc" name="b492" href="#b492">[b492]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [139]:</span></span>
<span class="l"><a class="anc" name="b493" href="#b493">[b493]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [140]:</span></span>
<span class="l"><a class="anc" name="b494" href="#b494">[b494]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [141]:</span></span>
<span class="l"><a class="anc" name="b495" href="#b495">[b495]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [142]:</span></span>
<span class="l"><a class="anc" name="b496" href="#b496">[b496]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [143]:</span></span>
<span class="l"><a class="anc" name="b497" href="#b497">[b497]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [144]:</span></span>
<span class="l"><a class="anc" name="b498" href="#b498">[b498]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [145]:</span></span>
<span class="l"><a class="anc" name="b499" href="#b499">[b499]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [146]:</span></span>
<span class="l"><a class="anc" name="b49a" href="#b49a">[b49a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [147]:</span></span>
<span class="l"><a class="anc" name="b49b" href="#b49b">[b49b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [148]:</span></span>
<span class="l"><a class="anc" name="b49c" href="#b49c">[b49c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [149]:</span></span>
<span class="l"><a class="anc" name="b49d" href="#b49d">[b49d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [150]:</span></span>
<span class="l"><a class="anc" name="b49e" href="#b49e">[b49e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [151]:</span></span>
<span class="l"><a class="anc" name="b49f" href="#b49f">[b49f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [152]:</span></span>
<span class="l"><a class="anc" name="b4a0" href="#b4a0">[b4a0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [153]:</span></span>
<span class="l"><a class="anc" name="b4a1" href="#b4a1">[b4a1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [154]:</span></span>
<span class="l"><a class="anc" name="b4a2" href="#b4a2">[b4a2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [155]:</span></span>
<span class="l"><a class="anc" name="b4a3" href="#b4a3">[b4a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [156]:</span></span>
<span class="l"><a class="anc" name="b4a4" href="#b4a4">[b4a4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [157]:</span></span>
<span class="l"><a class="anc" name="b4a5" href="#b4a5">[b4a5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [158]:</span></span>
<span class="l"><a class="anc" name="b4a6" href="#b4a6">[b4a6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">; [159]:</span></span>
<span class="l"><a class="anc" name="b4a7" href="#b4a7">[b4a7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [160]:</span></span>
<span class="l"><a class="anc" name="b4a8" href="#b4a8">[b4a8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [161]:</span></span>
<span class="l"><a class="anc" name="b4a9" href="#b4a9">[b4a9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [162]:</span></span>
<span class="l"><a class="anc" name="b4aa" href="#b4aa">[b4aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [163]:</span></span>
<span class="l"><a class="anc" name="b4ab" href="#b4ab">[b4ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [164]:</span></span>
<span class="l"><a class="anc" name="b4ac" href="#b4ac">[b4ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [165]:</span></span>
<span class="l"><a class="anc" name="b4ad" href="#b4ad">[b4ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [166]:</span></span>
<span class="l"><a class="anc" name="b4ae" href="#b4ae">[b4ae]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [167]:</span></span>
<span class="l"><a class="anc" name="b4af" href="#b4af">[b4af]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [168]:</span></span>
<span class="l"><a class="anc" name="b4b0" href="#b4b0">[b4b0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [169]:</span></span>
<span class="l"><a class="anc" name="b4b1" href="#b4b1">[b4b1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [170]:</span></span>
<span class="l"><a class="anc" name="b4b2" href="#b4b2">[b4b2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [171]:</span></span>
<span class="l"><a class="anc" name="b4b3" href="#b4b3">[b4b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [172]:</span></span>
<span class="l"><a class="anc" name="b4b4" href="#b4b4">[b4b4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [173]:</span></span>
<span class="l"><a class="anc" name="b4b5" href="#b4b5">[b4b5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [174]:</span></span>
<span class="l"><a class="anc" name="b4b6" href="#b4b6">[b4b6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [175]:</span></span>
<span class="l"><a class="anc" name="b4b7" href="#b4b7">[b4b7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [176]:</span></span>
<span class="l"><a class="anc" name="b4b8" href="#b4b8">[b4b8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [177]:</span></span>
<span class="l"><a class="anc" name="b4b9" href="#b4b9">[b4b9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [178]:</span></span>
<span class="l"><a class="anc" name="b4ba" href="#b4ba">[b4ba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [179]:</span></span>
<span class="l"><a class="anc" name="b4bb" href="#b4bb">[b4bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [180]:</span></span>
<span class="l"><a class="anc" name="b4bc" href="#b4bc">[b4bc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [181]:</span></span>
<span class="l"><a class="anc" name="b4bd" href="#b4bd">[b4bd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [182]:</span></span>
<span class="l"><a class="anc" name="b4be" href="#b4be">[b4be]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [183]:</span></span>
<span class="l"><a class="anc" name="b4bf" href="#b4bf">[b4bf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [184]:</span></span>
<span class="l"><a class="anc" name="b4c0" href="#b4c0">[b4c0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [185]:</span></span>
<span class="l"><a class="anc" name="b4c1" href="#b4c1">[b4c1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [186]:</span></span>
<span class="l"><a class="anc" name="b4c2" href="#b4c2">[b4c2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [187]:</span></span>
<span class="l"><a class="anc" name="b4c3" href="#b4c3">[b4c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [188]:</span></span>
<span class="l"><a class="anc" name="b4c4" href="#b4c4">[b4c4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [189]:</span></span>
<span class="l"><a class="anc" name="b4c5" href="#b4c5">[b4c5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [190]:</span></span>
<span class="l"><a class="anc" name="b4c6" href="#b4c6">[b4c6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [191]:</span></span>
<span class="l"><a class="anc" name="b4c7" href="#b4c7">[b4c7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [192]:</span></span>
<span class="l"><a class="anc" name="b4c8" href="#b4c8">[b4c8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [193]:</span></span>
<span class="l"><a class="anc" name="b4c9" href="#b4c9">[b4c9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [194]:</span></span>
<span class="l"><a class="anc" name="b4ca" href="#b4ca">[b4ca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [195]:</span></span>
<span class="l"><a class="anc" name="b4cb" href="#b4cb">[b4cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [196]:</span></span>
<span class="l"><a class="anc" name="b4cc" href="#b4cc">[b4cc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [197]:</span></span>
<span class="l"><a class="anc" name="b4cd" href="#b4cd">[b4cd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [198]:</span></span>
<span class="l"><a class="anc" name="b4ce" href="#b4ce">[b4ce]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [199]:</span></span>
<span class="l"><a class="anc" name="b4cf" href="#b4cf">[b4cf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [200]:</span></span>
<span class="l"><a class="anc" name="b4d0" href="#b4d0">[b4d0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [201]:</span></span>
<span class="l"></span>
<a name="SPRITE_HITBOX_WIDTHS"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a>
;     <a href="#Sprite_CalcDistanceXToPlayer">Sprite_CalcDistanceXToPlayer</a>
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;     <a href="#Sprites_MoveRight">Sprites_MoveRight</a>
;
</div><span class="l"><a class="anc" name="b4d1" href="#b4d1">[b4d1]</a><a href="#SPRITE_HITBOX_WIDTHS" class="la">SPRITE_HITBOX_WIDTHS:</a><span class="ce">; [$b4d1]</span></span>
<span class="l"><a class="anc" name="b4d1" href="#b4d1">[b4d1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b4d2" href="#b4d2">[b4d2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b4d3" href="#b4d3">[b4d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b4d4" href="#b4d4">[b4d4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="b4d5" href="#b4d5">[b4d5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="b4d6" href="#b4d6">[b4d6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3f</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="b4d7" href="#b4d7">[b4d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$2f</span></span><span class="ce">; [6]:</span></span>
<span class="l"></span>
<a name="SPRITE_HITBOX_HEIGHTS"></a><div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CanMoveInDirection">CurrentSprite_CanMoveInDirection</a>
;     <a href="#Sprite_CanClimb">Sprite_CanClimb</a>
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;     <a href="#Sprites_CanSpriteWalk">Sprites_CanSpriteWalk</a>
;     <a href="#Sprites_MoveRight__86c6">Sprites_MoveRight__86c6</a>
;
</div><span class="l"><a class="anc" name="b4d8" href="#b4d8">[b4d8]</a><a href="#SPRITE_HITBOX_HEIGHTS" class="la">SPRITE_HITBOX_HEIGHTS:</a><span class="ce">; [$b4d8]</span></span>
<span class="l"><a class="anc" name="b4d8" href="#b4d8">[b4d8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b4d9" href="#b4d9">[b4d9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b4da" href="#b4da">[b4da]</a><span class="cd"><span class="i">.byte</span> <span class="o">$2f</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b4db" href="#b4db">[b4db]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3f</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="b4dc" href="#b4dc">[b4dc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="b4dd" href="#b4dd">[b4dd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="b4de" href="#b4de">[b4de]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4f</span></span><span class="ce">; [6]:</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_ENTITIES_HITBOX_TYPES"></a><div class="cp">;============================================================================
; A mapping of sprite entity IDs to hitbox types.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Sprites_PopulateNextAvailableSprite">Sprites_PopulateNextAvailableSprite</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="PRG15_MIRROR.html#Sprites_PopulateNextAvailableSprite">Sprites_PopulateNextAvailableSprite</a>
;
</div><span class="l"><a class="anc" name="b4df" href="#b4df">[b4df]</a><a href="#SPRITE_ENTITIES_HITBOX_TYPES" class="la">SPRITE_ENTITIES_HITBOX_TYPES:</a><span class="ce">; [$b4df]</span></span>
<span class="l"><a class="anc" name="b4df" href="#b4df">[b4df]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b4e0" href="#b4e0">[b4e0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"></span>
<a name="SPRITE_ENTITIES_HITBOX_TYPES_2_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_ReplaceWithDroppedItem">Sprite_ReplaceWithDroppedItem</a>
;
</div><span class="l"><a class="anc" name="b4e1" href="#b4e1">[b4e1]</a><a href="#SPRITE_ENTITIES_HITBOX_TYPES_2_" class="la">SPRITE_ENTITIES_HITBOX_TYPES_2_:</a><span class="ce">; [$b4e1]</span></span>
<span class="l"><a class="anc" name="b4e1" href="#b4e1">[b4e1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b4e2" href="#b4e2">[b4e2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b4e3" href="#b4e3">[b4e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b4e4" href="#b4e4">[b4e4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b4e5" href="#b4e5">[b4e5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b4e6" href="#b4e6">[b4e6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b4e7" href="#b4e7">[b4e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="b4e8" href="#b4e8">[b4e8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b4e9" href="#b4e9">[b4e9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b4ea" href="#b4ea">[b4ea]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b4eb" href="#b4eb">[b4eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b4ec" href="#b4ec">[b4ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b4ed" href="#b4ed">[b4ed]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b4ee" href="#b4ee">[b4ee]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b4ef" href="#b4ef">[b4ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b4f0" href="#b4f0">[b4f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_2</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b4f1" href="#b4f1">[b4f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b4f2" href="#b4f2">[b4f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b4f3" href="#b4f3">[b4f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b4f4" href="#b4f4">[b4f4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b4f5" href="#b4f5">[b4f5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b4f6" href="#b4f6">[b4f6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b4f7" href="#b4f7">[b4f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b4f8" href="#b4f8">[b4f8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b4f9" href="#b4f9">[b4f9]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b4fa" href="#b4fa">[b4fa]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b4fb" href="#b4fb">[b4fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b4fc" href="#b4fc">[b4fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b4fd" href="#b4fd">[b4fd]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b4fe" href="#b4fe">[b4fe]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b4ff" href="#b4ff">[b4ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b500" href="#b500">[b500]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b501" href="#b501">[b501]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b502" href="#b502">[b502]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b503" href="#b503">[b503]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b504" href="#b504">[b504]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b505" href="#b505">[b505]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b506" href="#b506">[b506]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b507" href="#b507">[b507]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b508" href="#b508">[b508]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b509" href="#b509">[b509]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b50a" href="#b50a">[b50a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b50b" href="#b50b">[b50b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b50c" href="#b50c">[b50c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_3</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b50d" href="#b50d">[b50d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_2</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b50e" href="#b50e">[b50e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_2</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b50f" href="#b50f">[b50f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b510" href="#b510">[b510]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b511" href="#b511">[b511]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b512" href="#b512">[b512]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b513" href="#b513">[b513]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b514" href="#b514">[b514]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b515" href="#b515">[b515]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b516" href="#b516">[b516]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b517" href="#b517">[b517]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b518" href="#b518">[b518]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b519" href="#b519">[b519]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b51a" href="#b51a">[b51a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b51b" href="#b51b">[b51b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b51c" href="#b51c">[b51c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b51d" href="#b51d">[b51d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b51e" href="#b51e">[b51e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b51f" href="#b51f">[b51f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b520" href="#b520">[b520]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b521" href="#b521">[b521]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b522" href="#b522">[b522]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b523" href="#b523">[b523]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b524" href="#b524">[b524]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b525" href="#b525">[b525]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b526" href="#b526">[b526]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b527" href="#b527">[b527]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b528" href="#b528">[b528]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b529" href="#b529">[b529]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b52a" href="#b52a">[b52a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b52b" href="#b52b">[b52b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b52c" href="#b52c">[b52c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b52d" href="#b52d">[b52d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b52e" href="#b52e">[b52e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"></span>
<a name="SPRITE_ENTITIES_HITBOX_TYPES_80_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_ReplaceWithMattock">Sprite_ReplaceWithMattock</a>
;
</div><span class="l"><a class="anc" name="b52f" href="#b52f">[b52f]</a><a href="#SPRITE_ENTITIES_HITBOX_TYPES_80_" class="la">SPRITE_ENTITIES_HITBOX_TYPES_80_:</a><span class="ce">; [$b52f]</span></span>
<span class="l"><a class="anc" name="b52f" href="#b52f">[b52f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"></span>
<a name="SPRITE_ENTITIES_HITBOX_TYPES_81_"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_Maybe_ResetState">Sprite_Maybe_ResetState</a>
;
</div><span class="l"><a class="anc" name="b530" href="#b530">[b530]</a><a href="#SPRITE_ENTITIES_HITBOX_TYPES_81_" class="la">SPRITE_ENTITIES_HITBOX_TYPES_81_:</a><span class="ce">; [$b530]</span></span>
<span class="l"><a class="anc" name="b530" href="#b530">[b530]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b531" href="#b531">[b531]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_4</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b532" href="#b532">[b532]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b533" href="#b533">[b533]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b534" href="#b534">[b534]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b535" href="#b535">[b535]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b536" href="#b536">[b536]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b537" href="#b537">[b537]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b538" href="#b538">[b538]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b539" href="#b539">[b539]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b53a" href="#b53a">[b53a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b53b" href="#b53b">[b53b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b53c" href="#b53c">[b53c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b53d" href="#b53d">[b53d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b53e" href="#b53e">[b53e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b53f" href="#b53f">[b53f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_0</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b540" href="#b540">[b540]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_4</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b541" href="#b541">[b541]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_4</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b542" href="#b542">[b542]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_4</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"><a class="anc" name="b543" href="#b543">[b543]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_HITBOX_1</span></span><span class="ce">; [100]:</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_CATEGORIES_BY_ENTITY"></a><div class="cp">;============================================================================
; The category of a sprite entity.
;
; This is used to categorize a sprite entity into the following:
;
; 0 = Enemy
; 1 = Dropped item
; 2 = NPC
; 3 = Special effect
; 4 = Game trigger
; 5 = Item
; 6 = Magic effect
; 7 = Boss
;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;     <a href="#Player_CheckShieldHitByMagic">Player_CheckShieldHitByMagic</a>
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;     <a href="#Sprites_HasAnyEnemyOnScreen">Sprites_HasAnyEnemyOnScreen</a>
;     <a href="#Sprites_UpdateBehavior">Sprites_UpdateBehavior</a>
;     <a href="PRG15_MIRROR.html#Sprites_HasBoss">Sprites_HasBoss</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#CurrentSprite_CheckHitPlayer">CurrentSprite_CheckHitPlayer</a>
;     <a href="#Player_CheckShieldHitByMagic">Player_CheckShieldHitByMagic</a>
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;     <a href="#Sprites_HasAnyEnemyOnScreen">Sprites_HasAnyEnemyOnScreen</a>
;     <a href="#Sprites_UpdateBehavior">Sprites_UpdateBehavior</a>
;     <a href="PRG15_MIRROR.html#Sprites_HasBoss">Sprites_HasBoss</a>
;
</div><span class="l"><a class="anc" name="b544" href="#b544">[b544]</a><a href="#SPRITE_CATEGORIES_BY_ENTITY" class="la">SPRITE_CATEGORIES_BY_ENTITY:</a><span class="ce">; [$b544]</span></span>
<span class="l"><a class="anc" name="b544" href="#b544">[b544]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b545" href="#b545">[b545]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_DROPPED</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="b546" href="#b546">[b546]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_DROPPED</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b547" href="#b547">[b547]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b548" href="#b548">[b548]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b549" href="#b549">[b549]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b54a" href="#b54a">[b54a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b54b" href="#b54b">[b54b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b54c" href="#b54c">[b54c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="b54d" href="#b54d">[b54d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b54e" href="#b54e">[b54e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_MAGIC</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b54f" href="#b54f">[b54f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b550" href="#b550">[b550]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b551" href="#b551">[b551]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b552" href="#b552">[b552]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b553" href="#b553">[b553]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b554" href="#b554">[b554]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b555" href="#b555">[b555]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b556" href="#b556">[b556]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b557" href="#b557">[b557]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b558" href="#b558">[b558]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b559" href="#b559">[b559]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b55a" href="#b55a">[b55a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b55b" href="#b55b">[b55b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b55c" href="#b55c">[b55c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b55d" href="#b55d">[b55d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b55e" href="#b55e">[b55e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b55f" href="#b55f">[b55f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b560" href="#b560">[b560]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b561" href="#b561">[b561]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b562" href="#b562">[b562]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b563" href="#b563">[b563]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b564" href="#b564">[b564]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b565" href="#b565">[b565]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b566" href="#b566">[b566]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b567" href="#b567">[b567]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b568" href="#b568">[b568]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b569" href="#b569">[b569]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b56a" href="#b56a">[b56a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b56b" href="#b56b">[b56b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b56c" href="#b56c">[b56c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b56d" href="#b56d">[b56d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b56e" href="#b56e">[b56e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b56f" href="#b56f">[b56f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b570" href="#b570">[b570]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b571" href="#b571">[b571]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b572" href="#b572">[b572]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b573" href="#b573">[b573]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b574" href="#b574">[b574]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b575" href="#b575">[b575]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b576" href="#b576">[b576]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b577" href="#b577">[b577]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_BOSS</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b578" href="#b578">[b578]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b579" href="#b579">[b579]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b57a" href="#b57a">[b57a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b57b" href="#b57b">[b57b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b57c" href="#b57c">[b57c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b57d" href="#b57d">[b57d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b57e" href="#b57e">[b57e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b57f" href="#b57f">[b57f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b580" href="#b580">[b580]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b581" href="#b581">[b581]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b582" href="#b582">[b582]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b583" href="#b583">[b583]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b584" href="#b584">[b584]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b585" href="#b585">[b585]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b586" href="#b586">[b586]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b587" href="#b587">[b587]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b588" href="#b588">[b588]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b589" href="#b589">[b589]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_NPC</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b58a" href="#b58a">[b58a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b58b" href="#b58b">[b58b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ENEMY</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b58c" href="#b58c">[b58c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b58d" href="#b58d">[b58d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b58e" href="#b58e">[b58e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b58f" href="#b58f">[b58f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b590" href="#b590">[b590]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b591" href="#b591">[b591]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b592" href="#b592">[b592]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b593" href="#b593">[b593]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_TRIGGER</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b594" href="#b594">[b594]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b595" href="#b595">[b595]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_MAGIC</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b596" href="#b596">[b596]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b597" href="#b597">[b597]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_MAGIC</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b598" href="#b598">[b598]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_MAGIC</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b599" href="#b599">[b599]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b59a" href="#b59a">[b59a]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b59b" href="#b59b">[b59b]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b59c" href="#b59c">[b59c]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b59d" href="#b59d">[b59d]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b59e" href="#b59e">[b59e]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b59f" href="#b59f">[b59f]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b5a0" href="#b5a0">[b5a0]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b5a1" href="#b5a1">[b5a1]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b5a2" href="#b5a2">[b5a2]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b5a3" href="#b5a3">[b5a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b5a4" href="#b5a4">[b5a4]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_ITEM</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b5a5" href="#b5a5">[b5a5]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b5a6" href="#b5a6">[b5a6]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b5a7" href="#b5a7">[b5a7]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"><a class="anc" name="b5a8" href="#b5a8">[b5a8]</a><span class="cd"><span class="i">.byte</span> <span class="o">SPRITE_EFFECT</span></span><span class="ce">; [100]:</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_ENTITIES_HP"></a><div class="cp">;============================================================================
; Starting HP for each entity type.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Sprites_PopulateNextAvailableSprite">Sprites_PopulateNextAvailableSprite</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="PRG15_MIRROR.html#Sprites_PopulateNextAvailableSprite">Sprites_PopulateNextAvailableSprite</a>
;
</div><span class="l"><a class="anc" name="b5a9" href="#b5a9">[b5a9]</a><a href="#SPRITE_ENTITIES_HP" class="la">SPRITE_ENTITIES_HP:</a><span class="ce">; [$b5a9]</span></span>
<span class="l"><a class="anc" name="b5a9" href="#b5a9">[b5a9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b5aa" href="#b5aa">[b5aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="b5ab" href="#b5ab">[b5ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b5ac" href="#b5ac">[b5ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b5ad" href="#b5ad">[b5ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b5ae" href="#b5ae">[b5ae]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b5af" href="#b5af">[b5af]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0e</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b5b0" href="#b5b0">[b5b0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b5b1" href="#b5b1">[b5b1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"></span>
<a name="SPRITE_ENTITIES_HP_9_"></a><div class="c">;
; XREFS:
;     <a href="#SpriteBehavior_Pakukame">SpriteBehavior_Pakukame</a>
;
</div><span class="l"><a class="anc" name="b5b2" href="#b5b2">[b5b2]</a><a href="#SPRITE_ENTITIES_HP_9_" class="la">SPRITE_ENTITIES_HP_9_:</a><span class="ce">; [$b5b2]</span></span>
<span class="l"><a class="anc" name="b5b2" href="#b5b2">[b5b2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b5b3" href="#b5b3">[b5b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b5b4" href="#b5b4">[b5b4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b5b5" href="#b5b5">[b5b5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b5b6" href="#b5b6">[b5b6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b5b7" href="#b5b7">[b5b7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b5b8" href="#b5b8">[b5b8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b5b9" href="#b5b9">[b5b9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$64</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b5ba" href="#b5ba">[b5ba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$46</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b5bb" href="#b5bb">[b5bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$24</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b5bc" href="#b5bc">[b5bc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b5bd" href="#b5bd">[b5bd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b5be" href="#b5be">[b5be]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1a</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b5bf" href="#b5bf">[b5bf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b5c0" href="#b5c0">[b5c0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b5c1" href="#b5c1">[b5c1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$16</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b5c2" href="#b5c2">[b5c2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1d</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b5c3" href="#b5c3">[b5c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$13</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b5c4" href="#b5c4">[b5c4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$16</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b5c5" href="#b5c5">[b5c5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$17</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b5c6" href="#b5c6">[b5c6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b5c7" href="#b5c7">[b5c7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1d</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b5c8" href="#b5c8">[b5c8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$23</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b5c9" href="#b5c9">[b5c9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b5ca" href="#b5ca">[b5ca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$26</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b5cb" href="#b5cb">[b5cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b5cc" href="#b5cc">[b5cc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$17</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b5cd" href="#b5cd">[b5cd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$24</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b5ce" href="#b5ce">[b5ce]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b5cf" href="#b5cf">[b5cf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$11</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b5d0" href="#b5d0">[b5d0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$20</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b5d1" href="#b5d1">[b5d1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$38</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b5d2" href="#b5d2">[b5d2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$24</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b5d3" href="#b5d3">[b5d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b5d4" href="#b5d4">[b5d4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b5d5" href="#b5d5">[b5d5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1a</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b5d6" href="#b5d6">[b5d6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4b</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b5d7" href="#b5d7">[b5d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$73</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b5d8" href="#b5d8">[b5d8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$69</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b5d9" href="#b5d9">[b5d9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b5da" href="#b5da">[b5da]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b5db" href="#b5db">[b5db]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fa</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b5dc" href="#b5dc">[b5dc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fa</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b5dd" href="#b5dd">[b5dd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b5de" href="#b5de">[b5de]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b5df" href="#b5df">[b5df]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b5e0" href="#b5e0">[b5e0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b5e1" href="#b5e1">[b5e1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b5e2" href="#b5e2">[b5e2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b5e3" href="#b5e3">[b5e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b5e4" href="#b5e4">[b5e4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b5e5" href="#b5e5">[b5e5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b5e6" href="#b5e6">[b5e6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b5e7" href="#b5e7">[b5e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b5e8" href="#b5e8">[b5e8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b5e9" href="#b5e9">[b5e9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b5ea" href="#b5ea">[b5ea]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b5eb" href="#b5eb">[b5eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b5ec" href="#b5ec">[b5ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b5ed" href="#b5ed">[b5ed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b5ee" href="#b5ee">[b5ee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b5ef" href="#b5ef">[b5ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b5f0" href="#b5f0">[b5f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$09</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b5f1" href="#b5f1">[b5f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b5f2" href="#b5f2">[b5f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b5f3" href="#b5f3">[b5f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b5f4" href="#b5f4">[b5f4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b5f5" href="#b5f5">[b5f5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b5f6" href="#b5f6">[b5f6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b5f7" href="#b5f7">[b5f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b5f8" href="#b5f8">[b5f8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b5f9" href="#b5f9">[b5f9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b5fa" href="#b5fa">[b5fa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b5fb" href="#b5fb">[b5fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b5fc" href="#b5fc">[b5fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b5fd" href="#b5fd">[b5fd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b5fe" href="#b5fe">[b5fe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b5ff" href="#b5ff">[b5ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b600" href="#b600">[b600]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b601" href="#b601">[b601]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b602" href="#b602">[b602]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b603" href="#b603">[b603]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b604" href="#b604">[b604]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b605" href="#b605">[b605]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b606" href="#b606">[b606]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b607" href="#b607">[b607]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b608" href="#b608">[b608]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b609" href="#b609">[b609]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b60a" href="#b60a">[b60a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b60b" href="#b60b">[b60b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b60c" href="#b60c">[b60c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"><a class="anc" name="b60d" href="#b60d">[b60d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [100]:</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="ENEMY_EXPERIENCE"></a><div class="cp">;============================================================================
; Experience gained from defeating each entity type.
;
; XREFS:
;     <a href="#Player_AddExperienceFromSprite">Player_AddExperienceFromSprite</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_AddExperienceFromSprite">Player_AddExperienceFromSprite</a>
;
</div><span class="l"><a class="anc" name="b60e" href="#b60e">[b60e]</a><a href="#ENEMY_EXPERIENCE" class="la">ENEMY_EXPERIENCE:</a><span class="ce">; [$b60e]</span></span>
<span class="l"><a class="anc" name="b60e" href="#b60e">[b60e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b60f" href="#b60f">[b60f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="b610" href="#b610">[b610]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b611" href="#b611">[b611]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b612" href="#b612">[b612]</a><span class="cd"><span class="i">.byte</span> <span class="o">$23</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b613" href="#b613">[b613]</a><span class="cd"><span class="i">.byte</span> <span class="o">$37</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b614" href="#b614">[b614]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b615" href="#b615">[b615]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b616" href="#b616">[b616]</a><span class="cd"><span class="i">.byte</span> <span class="o">$23</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="b617" href="#b617">[b617]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b618" href="#b618">[b618]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b619" href="#b619">[b619]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b61a" href="#b61a">[b61a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$37</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b61b" href="#b61b">[b61b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b61c" href="#b61c">[b61c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$2d</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b61d" href="#b61d">[b61d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b61e" href="#b61e">[b61e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b61f" href="#b61f">[b61f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$78</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b620" href="#b620">[b620]</a><span class="cd"><span class="i">.byte</span> <span class="o">$5a</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b621" href="#b621">[b621]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b622" href="#b622">[b622]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b623" href="#b623">[b623]</a><span class="cd"><span class="i">.byte</span> <span class="o">$41</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b624" href="#b624">[b624]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b625" href="#b625">[b625]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b626" href="#b626">[b626]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0d</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b627" href="#b627">[b627]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3a</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b628" href="#b628">[b628]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1d</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b629" href="#b629">[b629]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1a</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b62a" href="#b62a">[b62a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$23</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b62b" href="#b62b">[b62b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b62c" href="#b62c">[b62c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$30</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b62d" href="#b62d">[b62d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3a</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b62e" href="#b62e">[b62e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$36</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b62f" href="#b62f">[b62f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$31</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b630" href="#b630">[b630]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b631" href="#b631">[b631]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3e</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b632" href="#b632">[b632]</a><span class="cd"><span class="i">.byte</span> <span class="o">$26</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b633" href="#b633">[b633]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b634" href="#b634">[b634]</a><span class="cd"><span class="i">.byte</span> <span class="o">$21</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b635" href="#b635">[b635]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1d</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b636" href="#b636">[b636]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b637" href="#b637">[b637]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b638" href="#b638">[b638]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b639" href="#b639">[b639]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b63a" href="#b63a">[b63a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b63b" href="#b63b">[b63b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$5a</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b63c" href="#b63c">[b63c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$9e</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b63d" href="#b63d">[b63d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$4b</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b63e" href="#b63e">[b63e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$55</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b63f" href="#b63f">[b63f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b640" href="#b640">[b640]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b641" href="#b641">[b641]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b642" href="#b642">[b642]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b643" href="#b643">[b643]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b644" href="#b644">[b644]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b645" href="#b645">[b645]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b646" href="#b646">[b646]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b647" href="#b647">[b647]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b648" href="#b648">[b648]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b649" href="#b649">[b649]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b64a" href="#b64a">[b64a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b64b" href="#b64b">[b64b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b64c" href="#b64c">[b64c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b64d" href="#b64d">[b64d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b64e" href="#b64e">[b64e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b64f" href="#b64f">[b64f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b650" href="#b650">[b650]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b651" href="#b651">[b651]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b652" href="#b652">[b652]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b653" href="#b653">[b653]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b654" href="#b654">[b654]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b655" href="#b655">[b655]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1e</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b656" href="#b656">[b656]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b657" href="#b657">[b657]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b658" href="#b658">[b658]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b659" href="#b659">[b659]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b65a" href="#b65a">[b65a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b65b" href="#b65b">[b65b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b65c" href="#b65c">[b65c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b65d" href="#b65d">[b65d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b65e" href="#b65e">[b65e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b65f" href="#b65f">[b65f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b660" href="#b660">[b660]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b661" href="#b661">[b661]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b662" href="#b662">[b662]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b663" href="#b663">[b663]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b664" href="#b664">[b664]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b665" href="#b665">[b665]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b666" href="#b666">[b666]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b667" href="#b667">[b667]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b668" href="#b668">[b668]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b669" href="#b669">[b669]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b66a" href="#b66a">[b66a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b66b" href="#b66b">[b66b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b66c" href="#b66c">[b66c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b66d" href="#b66d">[b66d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b66e" href="#b66e">[b66e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b66f" href="#b66f">[b66f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b670" href="#b670">[b670]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b671" href="#b671">[b671]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__b672"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_Sprite_HandleDeathDrop">Maybe_Sprite_HandleDeathDrop</a>
;
</div><span class="l"><a class="anc" name="b672" href="#b672">[b672]</a><a href="#BYTE_ARRAY_PRG14__b672" class="la">BYTE_ARRAY_PRG14__b672:</a><span class="ce">; [$b672]</span></span>
<span class="l"><a class="anc" name="b672" href="#b672">[b672]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b673" href="#b673">[b673]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="b674" href="#b674">[b674]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b675" href="#b675">[b675]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b676" href="#b676">[b676]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b677" href="#b677">[b677]</a><span class="cd"><span class="i">.byte</span> <span class="o">$11</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b678" href="#b678">[b678]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b679" href="#b679">[b679]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b67a" href="#b67a">[b67a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="b67b" href="#b67b">[b67b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b67c" href="#b67c">[b67c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b67d" href="#b67d">[b67d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b67e" href="#b67e">[b67e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$13</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b67f" href="#b67f">[b67f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b680" href="#b680">[b680]</a><span class="cd"><span class="i">.byte</span> <span class="o">$11</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b681" href="#b681">[b681]</a><span class="cd"><span class="i">.byte</span> <span class="o">$15</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b682" href="#b682">[b682]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1d</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b683" href="#b683">[b683]</a><span class="cd"><span class="i">.byte</span> <span class="o">$15</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b684" href="#b684">[b684]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b685" href="#b685">[b685]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b686" href="#b686">[b686]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b687" href="#b687">[b687]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b688" href="#b688">[b688]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b689" href="#b689">[b689]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b68a" href="#b68a">[b68a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$13</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b68b" href="#b68b">[b68b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b68c" href="#b68c">[b68c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b68d" href="#b68d">[b68d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b68e" href="#b68e">[b68e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$38</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b68f" href="#b68f">[b68f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b690" href="#b690">[b690]</a><span class="cd"><span class="i">.byte</span> <span class="o">$16</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b691" href="#b691">[b691]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b692" href="#b692">[b692]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b693" href="#b693">[b693]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1a</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b694" href="#b694">[b694]</a><span class="cd"><span class="i">.byte</span> <span class="o">$33</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b695" href="#b695">[b695]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1b</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b696" href="#b696">[b696]</a><span class="cd"><span class="i">.byte</span> <span class="o">$17</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b697" href="#b697">[b697]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b698" href="#b698">[b698]</a><span class="cd"><span class="i">.byte</span> <span class="o">$13</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b699" href="#b699">[b699]</a><span class="cd"><span class="i">.byte</span> <span class="o">$33</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b69a" href="#b69a">[b69a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$34</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b69b" href="#b69b">[b69b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$33</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b69c" href="#b69c">[b69c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$09</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b69d" href="#b69d">[b69d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$34</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b69e" href="#b69e">[b69e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$15</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b69f" href="#b69f">[b69f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$19</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b6a0" href="#b6a0">[b6a0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1c</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b6a1" href="#b6a1">[b6a1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b6a2" href="#b6a2">[b6a2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$16</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b6a3" href="#b6a3">[b6a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b6a4" href="#b6a4">[b6a4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b6a5" href="#b6a5">[b6a5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b6a6" href="#b6a6">[b6a6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b6a7" href="#b6a7">[b6a7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b6a8" href="#b6a8">[b6a8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b6a9" href="#b6a9">[b6a9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b6aa" href="#b6aa">[b6aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b6ab" href="#b6ab">[b6ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b6ac" href="#b6ac">[b6ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b6ad" href="#b6ad">[b6ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b6ae" href="#b6ae">[b6ae]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b6af" href="#b6af">[b6af]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b6b0" href="#b6b0">[b6b0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b6b1" href="#b6b1">[b6b1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b6b2" href="#b6b2">[b6b2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b6b3" href="#b6b3">[b6b3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b6b4" href="#b6b4">[b6b4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b6b5" href="#b6b5">[b6b5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b6b6" href="#b6b6">[b6b6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b6b7" href="#b6b7">[b6b7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b6b8" href="#b6b8">[b6b8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b6b9" href="#b6b9">[b6b9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$32</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b6ba" href="#b6ba">[b6ba]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b6bb" href="#b6bb">[b6bb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b6bc" href="#b6bc">[b6bc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b6bd" href="#b6bd">[b6bd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b6be" href="#b6be">[b6be]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b6bf" href="#b6bf">[b6bf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b6c0" href="#b6c0">[b6c0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b6c1" href="#b6c1">[b6c1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b6c2" href="#b6c2">[b6c2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b6c3" href="#b6c3">[b6c3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b6c4" href="#b6c4">[b6c4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b6c5" href="#b6c5">[b6c5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b6c6" href="#b6c6">[b6c6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b6c7" href="#b6c7">[b6c7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b6c8" href="#b6c8">[b6c8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b6c9" href="#b6c9">[b6c9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b6ca" href="#b6ca">[b6ca]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b6cb" href="#b6cb">[b6cb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b6cc" href="#b6cc">[b6cc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b6cd" href="#b6cd">[b6cd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b6ce" href="#b6ce">[b6ce]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b6cf" href="#b6cf">[b6cf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b6d0" href="#b6d0">[b6d0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b6d1" href="#b6d1">[b6d1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b6d2" href="#b6d2">[b6d2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b6d3" href="#b6d3">[b6d3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b6d4" href="#b6d4">[b6d4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b6d5" href="#b6d5">[b6d5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"><a class="anc" name="b6d6" href="#b6d6">[b6d6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff</span></span><span class="ce">; [100]:</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="SPRITE_ENTITY_DAMAGES"></a><div class="cp">;============================================================================
; Attack damage from each sprite entity type.
;
; XREFS:
;     <a href="#Player_ApplyDamage">Player_ApplyDamage</a>
;     <a href="#Player_HandleHitByMagic">Player_HandleHitByMagic</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_ApplyDamage">Player_ApplyDamage</a>
;     <a href="#Player_HandleHitByMagic">Player_HandleHitByMagic</a>
;
</div><span class="l"><a class="anc" name="b6d7" href="#b6d7">[b6d7]</a><a href="#SPRITE_ENTITY_DAMAGES" class="la">SPRITE_ENTITY_DAMAGES:</a><span class="ce">; [$b6d7]</span></span>
<span class="l"><a class="anc" name="b6d7" href="#b6d7">[b6d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b6d8" href="#b6d8">[b6d8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="b6d9" href="#b6d9">[b6d9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b6da" href="#b6da">[b6da]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b6db" href="#b6db">[b6db]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b6dc" href="#b6dc">[b6dc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$09</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b6dd" href="#b6dd">[b6dd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b6de" href="#b6de">[b6de]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b6df" href="#b6df">[b6df]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="b6e0" href="#b6e0">[b6e0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b6e1" href="#b6e1">[b6e1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1c</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b6e2" href="#b6e2">[b6e2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$03</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b6e3" href="#b6e3">[b6e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b6e4" href="#b6e4">[b6e4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b6e5" href="#b6e5">[b6e5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b6e6" href="#b6e6">[b6e6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0d</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b6e7" href="#b6e7">[b6e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b6e8" href="#b6e8">[b6e8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b6e9" href="#b6e9">[b6e9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b6ea" href="#b6ea">[b6ea]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b6eb" href="#b6eb">[b6eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b6ec" href="#b6ec">[b6ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b6ed" href="#b6ed">[b6ed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b6ee" href="#b6ee">[b6ee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b6ef" href="#b6ef">[b6ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b6f0" href="#b6f0">[b6f0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0d</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b6f1" href="#b6f1">[b6f1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b6f2" href="#b6f2">[b6f2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0e</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b6f3" href="#b6f3">[b6f3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$17</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b6f4" href="#b6f4">[b6f4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b6f5" href="#b6f5">[b6f5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b6f6" href="#b6f6">[b6f6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b6f7" href="#b6f7">[b6f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b6f8" href="#b6f8">[b6f8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$11</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b6f9" href="#b6f9">[b6f9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b6fa" href="#b6fa">[b6fa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$09</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b6fb" href="#b6fb">[b6fb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b6fc" href="#b6fc">[b6fc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b6fd" href="#b6fd">[b6fd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b6fe" href="#b6fe">[b6fe]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b6ff" href="#b6ff">[b6ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b700" href="#b700">[b700]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b701" href="#b701">[b701]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b702" href="#b702">[b702]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b703" href="#b703">[b703]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b704" href="#b704">[b704]</a><span class="cd"><span class="i">.byte</span> <span class="o">$12</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b705" href="#b705">[b705]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1c</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b706" href="#b706">[b706]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b707" href="#b707">[b707]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0d</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b708" href="#b708">[b708]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0b</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b709" href="#b709">[b709]</a><span class="cd"><span class="i">.byte</span> <span class="o">$28</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b70a" href="#b70a">[b70a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$29</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b70b" href="#b70b">[b70b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b70c" href="#b70c">[b70c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b70d" href="#b70d">[b70d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b70e" href="#b70e">[b70e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b70f" href="#b70f">[b70f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b710" href="#b710">[b710]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b711" href="#b711">[b711]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b712" href="#b712">[b712]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b713" href="#b713">[b713]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b714" href="#b714">[b714]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b715" href="#b715">[b715]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b716" href="#b716">[b716]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b717" href="#b717">[b717]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b718" href="#b718">[b718]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b719" href="#b719">[b719]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b71a" href="#b71a">[b71a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b71b" href="#b71b">[b71b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b71c" href="#b71c">[b71c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b71d" href="#b71d">[b71d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b71e" href="#b71e">[b71e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$07</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b71f" href="#b71f">[b71f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b720" href="#b720">[b720]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b721" href="#b721">[b721]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b722" href="#b722">[b722]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b723" href="#b723">[b723]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b724" href="#b724">[b724]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b725" href="#b725">[b725]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b726" href="#b726">[b726]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b727" href="#b727">[b727]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b728" href="#b728">[b728]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b729" href="#b729">[b729]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b72a" href="#b72a">[b72a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1c</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b72b" href="#b72b">[b72b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b72c" href="#b72c">[b72c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b72d" href="#b72d">[b72d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b72e" href="#b72e">[b72e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b72f" href="#b72f">[b72f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b730" href="#b730">[b730]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b731" href="#b731">[b731]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b732" href="#b732">[b732]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b733" href="#b733">[b733]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b734" href="#b734">[b734]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b735" href="#b735">[b735]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b736" href="#b736">[b736]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b737" href="#b737">[b737]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b738" href="#b738">[b738]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b739" href="#b739">[b739]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b73a" href="#b73a">[b73a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"></span>
<a name="SPRITE_ENTITY_MAYBE_MAGIC_DEFENSE"></a><div class="c">;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;
</div><span class="l"><a class="anc" name="b73b" href="#b73b">[b73b]</a><a href="#SPRITE_ENTITY_MAYBE_MAGIC_DEFENSE" class="la">SPRITE_ENTITY_MAYBE_MAGIC_DEFENSE:</a><span class="ce">; [$b73b]</span></span>
<span class="l"><a class="anc" name="b73b" href="#b73b">[b73b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b73c" href="#b73c">[b73c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [1]: Dropped: Bread</span></span>
<span class="l"><a class="anc" name="b73d" href="#b73d">[b73d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [2]: Dropped: Coin</span></span>
<span class="l"><a class="anc" name="b73e" href="#b73e">[b73e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [3]: Enemy: ?</span></span>
<span class="l"><a class="anc" name="b73f" href="#b73f">[b73f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [4]: Enemy: Raiden</span></span>
<span class="l"><a class="anc" name="b740" href="#b740">[b740]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">; [5]: Enemy: Necron Aides</span></span>
<span class="l"><a class="anc" name="b741" href="#b741">[b741]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [6]: Enemy: Zombie</span></span>
<span class="l"><a class="anc" name="b742" href="#b742">[b742]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [7]: Enemy: Hornet</span></span>
<span class="l"><a class="anc" name="b743" href="#b743">[b743]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [8]: Enemy: Bihoruda</span></span>
<span class="l"><a class="anc" name="b744" href="#b744">[b744]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [9]: Enemy: Lilith</span></span>
<span class="l"><a class="anc" name="b745" href="#b745">[b745]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [10]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b746" href="#b746">[b746]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [11]: Enemy: Yuinaru</span></span>
<span class="l"><a class="anc" name="b747" href="#b747">[b747]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [12]: Enemy: Snowman</span></span>
<span class="l"><a class="anc" name="b748" href="#b748">[b748]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [13]: Enemy: Nash</span></span>
<span class="l"><a class="anc" name="b749" href="#b749">[b749]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [14]: Enemy: Fire Giant</span></span>
<span class="l"><a class="anc" name="b74a" href="#b74a">[b74a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [15]: Enemy: Ishiisu</span></span>
<span class="l"><a class="anc" name="b74b" href="#b74b">[b74b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$c0</span></span><span class="ce">; [16]: Enemy: Execution Hood</span></span>
<span class="l"><a class="anc" name="b74c" href="#b74c">[b74c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [17]: Boss: Rokusutahn</span></span>
<span class="l"><a class="anc" name="b74d" href="#b74d">[b74d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$d0</span></span><span class="ce">; [18]: Boss: unused (round body of snake boss)</span></span>
<span class="l"><a class="anc" name="b74e" href="#b74e">[b74e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [19]: Effect: Enemy death</span></span>
<span class="l"><a class="anc" name="b74f" href="#b74f">[b74f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [20]: Effect: Lightning ball</span></span>
<span class="l"><a class="anc" name="b750" href="#b750">[b750]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [21]: Enemy: Charron</span></span>
<span class="l"><a class="anc" name="b751" href="#b751">[b751]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [22]: Enemy: ? (Unused)</span></span>
<span class="l"><a class="anc" name="b752" href="#b752">[b752]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [23]: Enemy: Geributa</span></span>
<span class="l"><a class="anc" name="b753" href="#b753">[b753]</a><span class="cd"><span class="i">.byte</span> <span class="o">$3c</span></span><span class="ce">; [24]: Enemy: Sugata</span></span>
<span class="l"><a class="anc" name="b754" href="#b754">[b754]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [25]: Enemy: Grimlock</span></span>
<span class="l"><a class="anc" name="b755" href="#b755">[b755]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [26]: Enemy: Giant Bees</span></span>
<span class="l"><a class="anc" name="b756" href="#b756">[b756]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [27]: Enemy: Myconid</span></span>
<span class="l"><a class="anc" name="b757" href="#b757">[b757]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [28]: Enemy: Naga</span></span>
<span class="l"><a class="anc" name="b758" href="#b758">[b758]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [29]: Enemy: Skeleton Knight (unused)</span></span>
<span class="l"><a class="anc" name="b759" href="#b759">[b759]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [30]: Enemy: Giant Strider</span></span>
<span class="l"><a class="anc" name="b75a" href="#b75a">[b75a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [31]: Enemy: Sir Gawaine</span></span>
<span class="l"><a class="anc" name="b75b" href="#b75b">[b75b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [32]: Enemy: Maskman</span></span>
<span class="l"><a class="anc" name="b75c" href="#b75c">[b75c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [33]: Enemy: Wolfman</span></span>
<span class="l"><a class="anc" name="b75d" href="#b75d">[b75d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [34]: Enemy: Yareeka</span></span>
<span class="l"><a class="anc" name="b75e" href="#b75e">[b75e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [35]: Enemy: Magman</span></span>
<span class="l"><a class="anc" name="b75f" href="#b75f">[b75f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [36]: Enemy: Curly-tailed guy with spear (unused)</span></span>
<span class="l"><a class="anc" name="b760" href="#b760">[b760]</a><span class="cd"><span class="i">.byte</span> <span class="o">$54</span></span><span class="ce">; [37]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b761" href="#b761">[b761]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [38]: Enemy: Ikeda</span></span>
<span class="l"><a class="anc" name="b762" href="#b762">[b762]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [39]: Enemy: Muppet guy (unused)</span></span>
<span class="l"><a class="anc" name="b763" href="#b763">[b763]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [40]: Enemy: Lamprey</span></span>
<span class="l"><a class="anc" name="b764" href="#b764">[b764]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [41]: Enemy: ? (unused)</span></span>
<span class="l"><a class="anc" name="b765" href="#b765">[b765]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [42]: Enemy: Monodron</span></span>
<span class="l"><a class="anc" name="b766" href="#b766">[b766]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [43]: Enemy: Winged skeleton (unused)</span></span>
<span class="l"><a class="anc" name="b767" href="#b767">[b767]</a><span class="cd"><span class="i">.byte</span> <span class="o">$14</span></span><span class="ce">; [44]: Enemy: Tamazutsu</span></span>
<span class="l"><a class="anc" name="b768" href="#b768">[b768]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [45]: Boss: Ripasheiku</span></span>
<span class="l"><a class="anc" name="b769" href="#b769">[b769]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f4</span></span><span class="ce">; [46]: Boss: Zoradohna</span></span>
<span class="l"><a class="anc" name="b76a" href="#b76a">[b76a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [47]: Boss: Borabohra</span></span>
<span class="l"><a class="anc" name="b76b" href="#b76b">[b76b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$44</span></span><span class="ce">; [48]: Boss: Pakukame</span></span>
<span class="l"><a class="anc" name="b76c" href="#b76c">[b76c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [49]: Boss: King Grieve</span></span>
<span class="l"><a class="anc" name="b76d" href="#b76d">[b76d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [50]: Boss: Shadow Eura</span></span>
<span class="l"><a class="anc" name="b76e" href="#b76e">[b76e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [51]: NPC: Walking Man 1</span></span>
<span class="l"><a class="anc" name="b76f" href="#b76f">[b76f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [52]: NPC: Blue lady (unused)</span></span>
<span class="l"><a class="anc" name="b770" href="#b770">[b770]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [53]: NPC: Child (unused)</span></span>
<span class="l"><a class="anc" name="b771" href="#b771">[b771]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [54]: NPC: Armor Salesman</span></span>
<span class="l"><a class="anc" name="b772" href="#b772">[b772]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [55]: NPC: Martial Artist</span></span>
<span class="l"><a class="anc" name="b773" href="#b773">[b773]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [56]: NPC: Priest</span></span>
<span class="l"><a class="anc" name="b774" href="#b774">[b774]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [57]: NPC: King</span></span>
<span class="l"><a class="anc" name="b775" href="#b775">[b775]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [58]: NPC: Magic Teacher</span></span>
<span class="l"><a class="anc" name="b776" href="#b776">[b776]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [59]: NPC: Key Salesman</span></span>
<span class="l"><a class="anc" name="b777" href="#b777">[b777]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [60]: NPC: Smoking Man</span></span>
<span class="l"><a class="anc" name="b778" href="#b778">[b778]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [61]: NPC: Man in Chair</span></span>
<span class="l"><a class="anc" name="b779" href="#b779">[b779]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [62]: NPC: Sitting Man</span></span>
<span class="l"><a class="anc" name="b77a" href="#b77a">[b77a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [63]: NPC: Meat Salesman</span></span>
<span class="l"><a class="anc" name="b77b" href="#b77b">[b77b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [64]: NPC: Lady in Blue Dress with Cup</span></span>
<span class="l"><a class="anc" name="b77c" href="#b77c">[b77c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [65]: NPC: Guard</span></span>
<span class="l"><a class="anc" name="b77d" href="#b77d">[b77d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [66]: NPC: Doctor</span></span>
<span class="l"><a class="anc" name="b77e" href="#b77e">[b77e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [67]: NPC: Walking Woman 1</span></span>
<span class="l"><a class="anc" name="b77f" href="#b77f">[b77f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [68]: NPC: Walking Woman 2</span></span>
<span class="l"><a class="anc" name="b780" href="#b780">[b780]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [69]: Enemy: Eyeball (unused)</span></span>
<span class="l"><a class="anc" name="b781" href="#b781">[b781]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [70]: Enemy: Zozura</span></span>
<span class="l"><a class="anc" name="b782" href="#b782">[b782]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [71]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b783" href="#b783">[b783]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [72]: Item: Black Onyx</span></span>
<span class="l"><a class="anc" name="b784" href="#b784">[b784]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [73]: Item: Pendant</span></span>
<span class="l"><a class="anc" name="b785" href="#b785">[b785]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [74]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b786" href="#b786">[b786]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [75]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b787" href="#b787">[b787]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [76]: Item: Elixir</span></span>
<span class="l"><a class="anc" name="b788" href="#b788">[b788]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [77]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b789" href="#b789">[b789]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [78]: Trigger: Intro</span></span>
<span class="l"><a class="anc" name="b78a" href="#b78a">[b78a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [79]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b78b" href="#b78b">[b78b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [80]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b78c" href="#b78c">[b78c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [81]: Effect: Fountain</span></span>
<span class="l"><a class="anc" name="b78d" href="#b78d">[b78d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [82]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b78e" href="#b78e">[b78e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [83]: Magic: ?</span></span>
<span class="l"><a class="anc" name="b78f" href="#b78f">[b78f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [84]: Item: Wing Boots</span></span>
<span class="l"><a class="anc" name="b790" href="#b790">[b790]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [85]: Item: Hour Glass</span></span>
<span class="l"><a class="anc" name="b791" href="#b791">[b791]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [86]: Item: Magical Rod</span></span>
<span class="l"><a class="anc" name="b792" href="#b792">[b792]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [87]: Item: Battle Suit</span></span>
<span class="l"><a class="anc" name="b793" href="#b793">[b793]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [88]: Item: Battle Helmet</span></span>
<span class="l"><a class="anc" name="b794" href="#b794">[b794]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [89]: Item: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b795" href="#b795">[b795]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [90]: Item: Mattock</span></span>
<span class="l"><a class="anc" name="b796" href="#b796">[b796]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [91]: Item: Wing Boots (from quest)</span></span>
<span class="l"><a class="anc" name="b797" href="#b797">[b797]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [92]: Item: Red Potion</span></span>
<span class="l"><a class="anc" name="b798" href="#b798">[b798]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [93]: Item: Poison</span></span>
<span class="l"><a class="anc" name="b799" href="#b799">[b799]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [94]: Item: Glove</span></span>
<span class="l"><a class="anc" name="b79a" href="#b79a">[b79a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [95]: Item: Ointment</span></span>
<span class="l"><a class="anc" name="b79b" href="#b79b">[b79b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [96]: Effect: Spring of Trunk</span></span>
<span class="l"><a class="anc" name="b79c" href="#b79c">[b79c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [97]: Effect: Spring of Sky</span></span>
<span class="l"><a class="anc" name="b79d" href="#b79d">[b79d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [98]: Effect: Spring of Tower</span></span>
<span class="l"><a class="anc" name="b79e" href="#b79e">[b79e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [99]: Effect: Boss Death</span></span>
<span class="l"><a class="anc" name="b79f" href="#b79f">[b79f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$fc</span></span><span class="ce">; [$b79f] undefined</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="MAGIC_DAMAGE"></a><div class="cp">;============================================================================
; Magic damage.
;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_HitEnemyWithMagic">Player_HitEnemyWithMagic</a>
;
</div><span class="l"><a class="anc" name="b7a0" href="#b7a0">[b7a0]</a><a href="#MAGIC_DAMAGE" class="la">MAGIC_DAMAGE:</a><span class="ce">; [$b7a0]</span></span>
<span class="l"><a class="anc" name="b7a0" href="#b7a0">[b7a0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [0]: Deluge -- 6HP</span></span>
<span class="l"><a class="anc" name="b7a1" href="#b7a1">[b7a1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$09</span></span><span class="ce">; [1]: Thunder -- 9HP</span></span>
<span class="l"><a class="anc" name="b7a2" href="#b7a2">[b7a2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18</span></span><span class="ce">; [2]: Fire -- 12HP</span></span>
<span class="l"><a class="anc" name="b7a3" href="#b7a3">[b7a3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$22</span></span><span class="ce">; [3]: Death -- 34HP</span></span>
<span class="l"><a class="anc" name="b7a4" href="#b7a4">[b7a4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$26</span></span><span class="ce">; [4]: Tilte -- 38HP</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="WEAPON_STRENGTHS"></a><div class="cp">;============================================================================
; Weapon damage.
;
; XREFS:
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_HitSpriteWithWeapon">Player_HitSpriteWithWeapon</a>
;
</div><span class="l"><a class="anc" name="b7a5" href="#b7a5">[b7a5]</a><a href="#WEAPON_STRENGTHS" class="la">WEAPON_STRENGTHS:</a><span class="ce">; [$b7a5]</span></span>
<span class="l"><a class="anc" name="b7a5" href="#b7a5">[b7a5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [0]: Hand Dagger -- 4HP</span></span>
<span class="l"><a class="anc" name="b7a6" href="#b7a6">[b7a6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [1]: Long Sword -- 8HP</span></span>
<span class="l"><a class="anc" name="b7a7" href="#b7a7">[b7a7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0c</span></span><span class="ce">; [2]: Giant Blade -- 12HP</span></span>
<span class="l"><a class="anc" name="b7a8" href="#b7a8">[b7a8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [3]: Dragon Slayer -- 16HP</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="MAGIC_COSTS"></a><div class="cp">;============================================================================
; MP costs for magic spells.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Player_ReduceMP">Player_ReduceMP</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="PRG15_MIRROR.html#Player_ReduceMP">Player_ReduceMP</a>
;
</div><span class="l"><a class="anc" name="b7a9" href="#b7a9">[b7a9]</a><a href="#MAGIC_COSTS" class="la">MAGIC_COSTS:</a><span class="ce">; [$b7a9]</span></span>
<span class="l"><a class="anc" name="b7a9" href="#b7a9">[b7a9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="b7aa" href="#b7aa">[b7aa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="b7ab" href="#b7ab">[b7ab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="b7ac" href="#b7ac">[b7ac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0a</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="b7ad" href="#b7ad">[b7ad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$10</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_InitInventoryState"></a><div class="cp">;============================================================================
; Initialize the player's inventory state.
;
; This will clear all selected/current items and empty all
; the inventories.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     <a href="RAM.html#NumberOfArmors">NumberOfArmors</a>:
;     <a href="RAM.html#NumberOfItems">NumberOfItems</a>:
;     <a href="RAM.html#NumberOfMagicSpells">NumberOfMagicSpells</a>:
;     <a href="RAM.html#NumberOfShields">NumberOfShields</a>:
;     <a href="RAM.html#NumberOfWeapons">NumberOfWeapons</a>:
;     <a href="RAM.html#SelectedArmor">SelectedArmor</a>:
;     <a href="RAM.html#SelectedItem">SelectedItem</a>:
;     <a href="RAM.html#SelectedMagic">SelectedMagic</a>:
;     <a href="RAM.html#SelectedShield">SelectedShield</a>:
;     <a href="RAM.html#SelectedWeapon">SelectedWeapon</a>:
;     <a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a>:
;         Cleared.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Game_InitStateForStartScreen">Game_InitStateForStartScreen</a>
;============================================================================
</div><span class="l"><a class="anc" name="b7ae" href="#b7ae">[b7ae]</a><a href="#Player_InitInventoryState" class="la">Player_InitInventoryState:</a><span class="ce">; [$b7ae]</span></span>
<span class="l"><a class="anc" name="b7ae" href="#b7ae">[b7ae]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="b7b0" href="#b7b0">[b7b0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#NumberOfWeapons">NumberOfWeapons</a></span></span><span class="ce">; Set the number of weapons to 0.</span></span>
<span class="l"><a class="anc" name="b7b3" href="#b7b3">[b7b3]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#NumberOfShields">NumberOfShields</a></span></span><span class="ce">; Set the number of shields to 0.</span></span>
<span class="l"><a class="anc" name="b7b6" href="#b7b6">[b7b6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#NumberOfMagicSpells">NumberOfMagicSpells</a></span></span><span class="ce">; Set the number of magic spells to 0.</span></span>
<span class="l"><a class="anc" name="b7b9" href="#b7b9">[b7b9]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#NumberOfItems">NumberOfItems</a></span></span><span class="ce">; Set the number of items to 0.</span></span>
<span class="l"><a class="anc" name="b7bc" href="#b7bc">[b7bc]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#NumberOfArmors">NumberOfArmors</a></span></span><span class="ce">; Set the number of armors to 0.</span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
<span class="l"></span>
</pre><pre><a name="PlayerDeath_ResetSelectedItemState"></a><div class="cp">;============================================================================
; Resets the player's current/selected inventory items.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     <a href="RAM.html#SelectedArmor">SelectedArmor</a>:
;     <a href="RAM.html#SelectedItem">SelectedItem</a>:
;     <a href="RAM.html#SelectedMagic">SelectedMagic</a>:
;     <a href="RAM.html#SelectedShield">SelectedShield</a>:
;     <a href="RAM.html#SelectedWeapon">SelectedWeapon</a>:
;     <a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a>:
;         Cleared.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Player_HandleDeath">Player_HandleDeath</a>
;============================================================================
</div><span class="l"><a class="anc" name="b7bf" href="#b7bf">[b7bf]</a><a href="#PlayerDeath_ResetSelectedItemState" class="la">PlayerDeath_ResetSelectedItemState:</a><span class="ce">; [$b7bf]</span></span>
<span class="l"><a class="anc" name="b7bf" href="#b7bf">[b7bf]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="b7c1" href="#b7c1">[b7c1]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SelectedArmor">SelectedArmor</a></span></span><span class="ce">; Set armor to Leather.</span></span>
<span class="l"><a class="anc" name="b7c4" href="#b7c4">[b7c4]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="b7c6" href="#b7c6">[b7c6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SelectedWeapon">SelectedWeapon</a></span></span><span class="ce">; Set weapon to None.</span></span>
<span class="l"><a class="anc" name="b7c9" href="#b7c9">[b7c9]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span><span class="ce">; Set current weapon to None.</span></span>
<span class="l"><a class="anc" name="b7cc" href="#b7cc">[b7cc]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SelectedShield">SelectedShield</a></span></span><span class="ce">; Set shield to None.</span></span>
<span class="l"><a class="anc" name="b7cf" href="#b7cf">[b7cf]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SelectedMagic">SelectedMagic</a></span></span><span class="ce">; Set magic to None.</span></span>
<span class="l"><a class="anc" name="b7d2" href="#b7d2">[b7d2]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#SelectedItem">SelectedItem</a></span></span><span class="ce">; Set item to None.</span></span>
<span class="l"></span>
<a name="RETURN_B7D5"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;
</div><span class="l"><a class="anc" name="b7d5" href="#b7d5">[b7d5]</a><a href="#RETURN_B7D5" class="la">RETURN_B7D5:</a><span class="ce">; [$b7d5]</span></span>
<span class="l"><a class="anc" name="b7d5" href="#b7d5">[b7d5]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
</pre><pre><a name="Player_DrawWeapon"></a><div class="cp">;============================================================================
; TODO: Document Player_DrawWeapon
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="PRG15_MIRROR.html#EndGame_MainLoop">EndGame_MainLoop</a>
;     <a href="PRG15_MIRROR.html#Game_DrawScreenInFrozenState">Game_DrawScreenInFrozenState</a>
;     <a href="PRG15_MIRROR.html#Game_MainLoop">Game_MainLoop</a>
;============================================================================
</div><span class="l"><a class="anc" name="b7d6" href="#b7d6">[b7d6]</a><a href="#Player_DrawWeapon" class="la">Player_DrawWeapon:</a><span class="ce">; [$b7d6]</span></span>
<span class="l"><a class="anc" name="b7d6" href="#b7d6">[b7d6]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#IScript_PortraitID">IScript_PortraitID</a></span></span></span>
<span class="l"><a class="anc" name="b7d9" href="#b7d9">[b7d9]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#RETURN_B7D5">RETURN_B7D5</a></span></span></span>
<span class="l"><a class="anc" name="b7db" href="#b7db">[b7db]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"><a class="anc" name="b7de" href="#b7de">[b7de]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#RETURN_B7D5">RETURN_B7D5</a></span></span></span>
<span class="l"><a class="anc" name="b7e0" href="#b7e0">[b7e0]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_ArmorLookupIndex">Player_ArmorLookupIndex</a></span></span></span>
<span class="l"><a class="anc" name="b7e2" href="#b7e2">[b7e2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="b7e4" href="#b7e4">[b7e4]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b7e6" href="#b7e6">[b7e6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_GetNormalizedWeaponID">Player_GetNormalizedWeaponID</a></span></span></span>
<span class="l"><a class="anc" name="b7e9" href="#b7e9">[b7e9]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b7ea" href="#b7ea">[b7ea]</a><span class="cd"><span class="i">ORA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b7ec" href="#b7ec">[b7ec]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b7ed" href="#b7ed">[b7ed]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="b7ee" href="#b7ee">[b7ee]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a>,X</span></span></span>
<span class="l"><a class="anc" name="b7f1" href="#b7f1">[b7f1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="b7f3" href="#b7f3">[b7f3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a>+1,X</span></span></span>
<span class="l"><a class="anc" name="b7f6" href="#b7f6">[b7f6]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="b7f8" href="#b7f8">[b7f8]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Maybe_Player_CalcAnimFrame">Maybe_Player_CalcAnimFrame</a></span></span></span>
<span class="l"><a class="anc" name="b7fb" href="#b7fb">[b7fb]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b7fd" href="#b7fd">[b7fd]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b7fe" href="#b7fe">[b7fe]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="b7ff" href="#b7ff">[b7ff]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b801" href="#b801">[b801]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="b803" href="#b803">[b803]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b806">@LAB_PRG14__b806</a></span></span></span>
<span class="l"><a class="anc" name="b805" href="#b805">[b805]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":b806:@LAB_PRG14__b806"></a><span class="l"><a class="anc" name="b806" href="#b806">[b806]</a><a href="#:b806:@LAB_PRG14__b806" class="lla">@LAB_PRG14__b806:</a><span class="ce">; [$b806]</span></span>
<span class="l"><a class="anc" name="b806" href="#b806">[b806]</a><span class="cd"><span class="i">LDA</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span></span>
<span class="l"><a class="anc" name="b808" href="#b808">[b808]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_CalcValueAndFFForNeg">Player_CalcValueAndFFForNeg</a></span></span></span>
<span class="l"><a class="anc" name="b80b" href="#b80b">[b80b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="b80d" href="#b80d">[b80d]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="b80e" href="#b80e">[b80e]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="b810" href="#b810">[b810]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#PlayerPosXPlus10">PlayerPosXPlus10</a></span></span></span>
<span class="l"><a class="anc" name="b812" href="#b812">[b812]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Screen_Maybe_ScrollXCounter">Screen_Maybe_ScrollXCounter</a></span></span></span>
<span class="l"><a class="anc" name="b814" href="#b814">[b814]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="b816" href="#b816">[b816]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Maybe_Something_WeaponPosX">Maybe_Something_WeaponPosX</a></span></span></span>
<span class="l"><a class="anc" name="b818" href="#b818">[b818]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Screen_Maybe_ScrollXCounter">Screen_Maybe_ScrollXCounter</a></span></span></span>
<span class="l"><a class="anc" name="b81a" href="#b81a">[b81a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#RETURN_B7D5">RETURN_B7D5</a></span></span></span>
<span class="l"><a class="anc" name="b81c" href="#b81c">[b81c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"><a class="anc" name="b81f" href="#b81f">[b81f]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b820" href="#b820">[b820]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="b821" href="#b821">[b821]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#PTR_ARRAY_PRG14__b90f">PTR_ARRAY_PRG14__b90f</a>,X</span></span></span>
<span class="l"><a class="anc" name="b824" href="#b824">[b824]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a></span></span></span>
<span class="l"><a class="anc" name="b826" href="#b826">[b826]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#PTR_ARRAY_PRG14__b90f">PTR_ARRAY_PRG14__b90f</a>+1,X</span></span></span>
<span class="l"><a class="anc" name="b829" href="#b829">[b829]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_Addr_U">Temp_Addr_U</a></span></span></span>
<span class="l"><a class="anc" name="b82b" href="#b82b">[b82b]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b82d" href="#b82d">[b82d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"><a class="anc" name="b82f" href="#b82f">[b82f]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="b830" href="#b830">[b830]</a><span class="cd"><span class="i">ADC</span> <span class="o">(<a href="RAM.html#Temp_Addr_L">Temp_Addr_L</a>),Y</span></span></span>
<span class="l"><a class="anc" name="b832" href="#b832">[b832]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Maybe_Something_WeaponPosY">Maybe_Something_WeaponPosY</a></span></span></span>
<span class="l"><a class="anc" name="b834" href="#b834">[b834]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Something_ScrollPosY">Player_Something_ScrollPosY</a></span></span></span>
<span class="l"><a class="anc" name="b836" href="#b836">[b836]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="b838" href="#b838">[b838]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#DrawWeapon_Unused_00D1">DrawWeapon_Unused_00D1</a></span></span></span>
<span class="l"><a class="anc" name="b83a" href="#b83a">[b83a]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"><a class="anc" name="b83d" href="#b83d">[b83d]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b83e" href="#b83e">[b83e]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="b83f" href="#b83f">[b83f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_WEAPON_RANGES">MAYBE_WEAPON_RANGES</a>,X</span></span></span>
<span class="l"><a class="anc" name="b842" href="#b842">[b842]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Maybe_WeaponRange_X">Maybe_WeaponRange_X</a></span></span></span>
<span class="l"><a class="anc" name="b844" href="#b844">[b844]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_WEAPON_RANGES">MAYBE_WEAPON_RANGES</a>+1,X</span></span></span>
<span class="l"><a class="anc" name="b847" href="#b847">[b847]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Maybe_WeaponRange_Y">Maybe_WeaponRange_Y</a></span></span></span>
<span class="l"><a class="anc" name="b849" href="#b849">[b849]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Maybe_Something_WeaponPosX">Maybe_Something_WeaponPosX</a></span></span></span>
<span class="l"><a class="anc" name="b84b" href="#b84b">[b84b]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="RAM.html#Screen_Maybe_ScrollXCounter">Screen_Maybe_ScrollXCounter</a></span></span></span>
<span class="l"><a class="anc" name="b84d" href="#b84d">[b84d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b850">@LAB_PRG14__b850</a></span></span></span>
<span class="l"><a class="anc" name="b84f" href="#b84f">[b84f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":b850:@LAB_PRG14__b850"></a><span class="l"><a class="anc" name="b850" href="#b850">[b850]</a><a href="#:b850:@LAB_PRG14__b850" class="lla">@LAB_PRG14__b850:</a><span class="ce">; [$b850]</span></span>
<span class="l"><a class="anc" name="b850" href="#b850">[b850]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b852" href="#b852">[b852]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="b854" href="#b854">[b854]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="b856" href="#b856">[b856]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#PlayerPosXPlus10">PlayerPosXPlus10</a></span></span></span>
<span class="l"><a class="anc" name="b858" href="#b858">[b858]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="b85a" href="#b85a">[b85a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Maybe_Something_WeaponPosY">Maybe_Something_WeaponPosY</a></span></span></span>
<span class="l"><a class="anc" name="b85c" href="#b85c">[b85c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="b85e" href="#b85e">[b85e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b860" href="#b860">[b860]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="b861" href="#b861">[b861]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_CalculateVisibility">Player_CalculateVisibility</a></span></span></span>
<span class="l"><a class="anc" name="b864" href="#b864">[b864]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="b865" href="#b865">[b865]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b867" href="#b867">[b867]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span></span>
<span class="l"><a class="anc" name="b86a" href="#b86a">[b86a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#WEAPONS_SPRITE_U">WEAPONS_SPRITE_U</a>,X</span></span></span>
<span class="l"><a class="anc" name="b86d" href="#b86d">[b86d]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="b86f" href="#b86f">[b86f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b871" href="#b871">[b871]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="b872" href="#b872">[b872]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#WEAPONS_SPRITE_L">WEAPONS_SPRITE_L</a>,X</span></span></span>
<span class="l"><a class="anc" name="b875" href="#b875">[b875]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="PRG15_MIRROR.html#Sprite_SetPlayerAppearanceAddr">Sprite_SetPlayerAppearanceAddr</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name="WEAPONS_SPRITE_L"></a><div class="cp">;============================================================================
; Sprite addresses for each weapon type.
;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;
</div><span class="l"><a class="anc" name="b878" href="#b878">[b878]</a><a href="#WEAPONS_SPRITE_L" class="la">WEAPONS_SPRITE_L:</a><span class="ce">; [$b878]</span></span>
<span class="l"><a class="anc" name="b878" href="#b878">[b878]</a><span class="cd"><span class="i">.byte</span> <span class="o">$40</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b879" href="#b879">[b879]</a><span class="cd"><span class="i">.byte</span> <span class="o">$48</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b87a" href="#b87a">[b87a]</a><span class="cd"><span class="i">.byte</span> <span class="o">$50</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b87b" href="#b87b">[b87b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$58</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
<a name="WEAPONS_SPRITE_U"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;
</div><span class="l"><a class="anc" name="b87c" href="#b87c">[b87c]</a><a href="#WEAPONS_SPRITE_U" class="la">WEAPONS_SPRITE_U:</a><span class="ce">; [$b87c]</span></span>
<span class="l"><a class="anc" name="b87c" href="#b87c">[b87c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$38</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b87d" href="#b87d">[b87d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$38</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b87e" href="#b87e">[b87e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$38</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b87f" href="#b87f">[b87f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$34</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="Player_CalcValueAndFFForNeg"></a><div class="cp">;============================================================================
; TODO: Document Player_CalcValueAndFFForNeg
;
; INPUTS:
;     A
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;     <a href="PRG15_MIRROR.html#FUN_PRG15_MIRROR__ec58">FUN_PRG15_MIRROR__ec58</a>
;============================================================================
</div><span class="l"><a class="anc" name="b880" href="#b880">[b880]</a><a href="#Player_CalcValueAndFFForNeg" class="la">Player_CalcValueAndFFForNeg:</a><span class="ce">; [$b880]</span></span>
<span class="l"><a class="anc" name="b880" href="#b880">[b880]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="b882" href="#b882">[b882]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="b884" href="#b884">[b884]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"><a class="anc" name="b886" href="#b886">[b886]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_04">Temp_04</a></span></span></span>
<span class="l"><a class="anc" name="b888" href="#b888">[b888]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="b88a" href="#b88a">[b88a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="b88c" href="#b88c">[b88c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_05">Temp_05</a></span></span></span>
<span class="l"></span>
<a name=":b88e:@_return"></a><span class="l"><a class="anc" name="b88e" href="#b88e">[b88e]</a><a href="#:b88e:@_return" class="lla">@_return:</a><span class="ce">; [$b88e]</span></span>
<span class="l"><a class="anc" name="b88e" href="#b88e">[b88e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"><a class="anc" name="b88f" href="#b88f">[b88f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$18,$10,$18,$18,$18,$18,$20,$00</span></span><span class="ce">; [$b88f] undefined</span></span>
<span class="l"></span>
<a name="MAYBE_WEAPON_RANGES"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;
</div><span class="l"><a class="anc" name="b897" href="#b897">[b897]</a><a href="#MAYBE_WEAPON_RANGES" class="la">MAYBE_WEAPON_RANGES:</a><span class="ce">; [$b897]</span></span>
<span class="l"><a class="anc" name="b897" href="#b897">[b897]</a><span class="cd"><span class="i">.word</span> <span class="o">$0408,$0810,$0810,$0810</span></span><span class="ce">; [$b897] ushort</span></span>
<span class="l"></span>
<a name="PTR_ARRAY_PRG14__b89f"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;
</div><span class="l"><a class="anc" name="b89f" href="#b89f">[b89f]</a><a href="#PTR_ARRAY_PRG14__b89f" class="la">PTR_ARRAY_PRG14__b89f:</a><span class="ce">; [$b89f]</span></span>
<span class="l"><a class="anc" name="b89f" href="#b89f">[b89f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8af">DAT_PRG14__b8af</a></span></span><span class="ce">; [0]: Dagger</span></span>
<span class="l"><a class="anc" name="b8a1" href="#b8a1">[b8a1]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8bf">DAT_PRG14__b8bf</a></span></span><span class="ce">; [1]: Dagger + shield</span></span>
<span class="l"><a class="anc" name="b8a3" href="#b8a3">[b8a3]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8cf">DAT_PRG14__b8cf</a></span></span><span class="ce">; [2]: Long Sword</span></span>
<span class="l"><a class="anc" name="b8a5" href="#b8a5">[b8a5]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8df">DAT_PRG14__b8df</a></span></span><span class="ce">; [3]: Long Sword + shield</span></span>
<span class="l"><a class="anc" name="b8a7" href="#b8a7">[b8a7]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8ef">DAT_PRG14__b8ef</a></span></span><span class="ce">; [4]: Giant Blade</span></span>
<span class="l"><a class="anc" name="b8a9" href="#b8a9">[b8a9]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8ff">DAT_PRG14__b8ff</a></span></span><span class="ce">; [5]: Giant Blade + shield</span></span>
<span class="l"><a class="anc" name="b8ab" href="#b8ab">[b8ab]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8ff">DAT_PRG14__b8ff</a></span></span><span class="ce">; [6]: Dragon Slayer</span></span>
<span class="l"><a class="anc" name="b8ad" href="#b8ad">[b8ad]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b8ff">DAT_PRG14__b8ff</a></span></span><span class="ce">; [7]: Dragon Slayer + shield</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b8af"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b89f]
;
</div><span class="l"><a class="anc" name="b8af" href="#b8af">[b8af]</a><a href="#DAT_PRG14__b8af" class="la">DAT_PRG14__b8af:</a><span class="ce">; [$b8af]</span></span>
<span class="l"><a class="anc" name="b8af" href="#b8af">[b8af]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$fc,$0c,$f8,$10,$f8,$10</span></span><span class="ce">; [$b8af] undefined</span></span>
<span class="l"><a class="anc" name="b8b7" href="#b8b7">[b8b7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f8,$0e,$f0,$18,$00,$00</span></span><span class="ce">; [$b8b7] undefined</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b8bf"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8a1]
;
</div><span class="l"><a class="anc" name="b8bf" href="#b8bf">[b8bf]</a><a href="#DAT_PRG14__b8bf" class="la">DAT_PRG14__b8bf:</a><span class="ce">; [$b8bf]</span></span>
<span class="l"><a class="anc" name="b8bf" href="#b8bf">[b8bf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f8,$10,$f8,$10,$f8,$10</span></span><span class="ce">; [$b8bf] undefined</span></span>
<span class="l"><a class="anc" name="b8c7" href="#b8c7">[b8c7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f8,$10,$f0,$18,$00,$00</span></span><span class="ce">; [$b8c7] undefined</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b8cf"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8a3]
;
</div><span class="l"><a class="anc" name="b8cf" href="#b8cf">[b8cf]</a><a href="#DAT_PRG14__b8cf" class="la">DAT_PRG14__b8cf:</a><span class="ce">; [$b8cf]</span></span>
<span class="l"><a class="anc" name="b8cf" href="#b8cf">[b8cf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$fc,$0c,$f8,$10,$f8,$10</span></span><span class="ce">; [$b8cf] undefined</span></span>
<span class="l"><a class="anc" name="b8d7" href="#b8d7">[b8d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f0,$10,$e8,$18,$00,$00</span></span><span class="ce">; [$b8d7] undefined</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b8df"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8a5]
;
</div><span class="l"><a class="anc" name="b8df" href="#b8df">[b8df]</a><a href="#DAT_PRG14__b8df" class="la">DAT_PRG14__b8df:</a><span class="ce">; [$b8df]</span></span>
<span class="l"><a class="anc" name="b8df" href="#b8df">[b8df]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f8,$10,$f8,$10,$f8,$10</span></span><span class="ce">; [$b8df] undefined</span></span>
<span class="l"><a class="anc" name="b8e7" href="#b8e7">[b8e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f0,$10,$e8,$18,$00,$00</span></span><span class="ce">; [$b8e7] undefined</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b8ef"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8a7]
;
</div><span class="l"><a class="anc" name="b8ef" href="#b8ef">[b8ef]</a><a href="#DAT_PRG14__b8ef" class="la">DAT_PRG14__b8ef:</a><span class="ce">; [$b8ef]</span></span>
<span class="l"><a class="anc" name="b8ef" href="#b8ef">[b8ef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0,$10,$fc,$0c,$f8,$10,$f0,$10</span></span><span class="ce">; [$b8ef] undefined</span></span>
<span class="l"><a class="anc" name="b8f7" href="#b8f7">[b8f7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f0,$10,$e8,$18,$00,$00</span></span><span class="ce">; [$b8f7] undefined</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b8ff"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8a9]
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8ab]
;     <a href="#PTR_ARRAY_PRG14__b89f">PTR_ARRAY_PRG14__b89f</a> [$PRG14::b8ad]
;
</div><span class="l"><a class="anc" name="b8ff" href="#b8ff">[b8ff]</a><a href="#DAT_PRG14__b8ff" class="la">DAT_PRG14__b8ff:</a><span class="ce">; [$b8ff]</span></span>
<span class="l"><a class="anc" name="b8ff" href="#b8ff">[b8ff]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0,$10,$f8,$10,$f8,$10,$f0,$10</span></span><span class="ce">; [$b8ff] undefined</span></span>
<span class="l"><a class="anc" name="b907" href="#b907">[b907]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f8,$10,$f0,$10,$e8,$18,$00,$00</span></span><span class="ce">; [$b907] undefined</span></span>
<span class="l"></span>
<a name="PTR_ARRAY_PRG14__b90f"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;
</div><span class="l"><a class="anc" name="b90f" href="#b90f">[b90f]</a><a href="#PTR_ARRAY_PRG14__b90f" class="la">PTR_ARRAY_PRG14__b90f:</a><span class="ce">; [$b90f]</span></span>
<span class="l"><a class="anc" name="b90f" href="#b90f">[b90f]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b917">DAT_PRG14__b917</a></span></span><span class="ce">; [0]: Hand dagger</span></span>
<span class="l"><a class="anc" name="b911" href="#b911">[b911]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b91f">DAT_PRG14__b91f</a></span></span><span class="ce">; [1]: Long sword</span></span>
<span class="l"><a class="anc" name="b913" href="#b913">[b913]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b91f">DAT_PRG14__b91f</a></span></span><span class="ce">; [2]: Giant blade</span></span>
<span class="l"><a class="anc" name="b915" href="#b915">[b915]</a><span class="cd"><span class="i">.word</span> <span class="o"><a href="#DAT_PRG14__b91f">DAT_PRG14__b91f</a></span></span><span class="ce">; [3]: Dragon slayer</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b917"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b90f">PTR_ARRAY_PRG14__b90f</a> [$PRG14::b90f]
;
</div><span class="l"><a class="anc" name="b917" href="#b917">[b917]</a><a href="#DAT_PRG14__b917" class="la">DAT_PRG14__b917:</a><span class="ce">; [$b917]</span></span>
<span class="l"><a class="anc" name="b917" href="#b917">[b917]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08,$08,$08,$08,$08,$08,$06,$00</span></span><span class="ce">; [$b917] undefined</span></span>
<span class="l"></span>
<a name="DAT_PRG14__b91f"></a><div class="c">;
; XREFS:
;     <a href="#PTR_ARRAY_PRG14__b90f">PTR_ARRAY_PRG14__b90f</a> [$PRG14::b911]
;     <a href="#PTR_ARRAY_PRG14__b90f">PTR_ARRAY_PRG14__b90f</a> [$PRG14::b913]
;     <a href="#PTR_ARRAY_PRG14__b90f">PTR_ARRAY_PRG14__b90f</a> [$PRG14::b915]
;
</div><span class="l"><a class="anc" name="b91f" href="#b91f">[b91f]</a><a href="#DAT_PRG14__b91f" class="la">DAT_PRG14__b91f:</a><span class="ce">; [$b91f]</span></span>
<span class="l"><a class="anc" name="b91f" href="#b91f">[b91f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00,$08,$08,$00,$08,$08,$06,$00</span></span><span class="ce">; [$b91f] undefined</span></span>
<span class="l"></span>
</pre><pre><a name="Maybe_Player_CalcAnimFrame"></a><div class="cp">;============================================================================
; TODO: Document Maybe_Player_CalcAnimFrame
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     A
;
; XREFS:
;     <a href="#Player_CheckShieldHitByMagic">Player_CheckShieldHitByMagic</a>
;     <a href="#Player_DrawShield">Player_DrawShield</a>
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="b927" href="#b927">[b927]</a><a href="#Maybe_Player_CalcAnimFrame" class="la">Maybe_Player_CalcAnimFrame:</a><span class="ce">; [$b927]</span></span>
<span class="l"><a class="anc" name="b927" href="#b927">[b927]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b929" href="#b929">[b929]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b92a" href="#b92a">[b92a]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__b933">@LAB_PRG14__b933</a></span></span></span>
<span class="l"><a class="anc" name="b92c" href="#b92c">[b92c]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b92e" href="#b92e">[b92e]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@LAB_PRG14__b958">@LAB_PRG14__b958</a></span></span></span>
<span class="l"><a class="anc" name="b930" href="#b930">[b930]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="b932" href="#b932">[b932]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":b933:@LAB_PRG14__b933"></a><span class="l"><a class="anc" name="b933" href="#b933">[b933]</a><a href="#:b933:@LAB_PRG14__b933" class="lla">@LAB_PRG14__b933:</a><span class="ce">; [$b933]</span></span>
<span class="l"><a class="anc" name="b933" href="#b933">[b933]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="b935" href="#b935">[b935]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b954">@LAB_PRG14__b954</a></span></span></span>
<span class="l"><a class="anc" name="b937" href="#b937">[b937]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="b939" href="#b939">[b939]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span></span>
<span class="l"><a class="anc" name="b93b" href="#b93b">[b93b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b943">@LAB_PRG14__b943</a></span></span></span>
<span class="l"><a class="anc" name="b93d" href="#b93d">[b93d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b93f" href="#b93f">[b93f]</a><span class="cd"><span class="i">AND</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="b941" href="#b941">[b941]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__b954">@LAB_PRG14__b954</a></span></span></span>
<span class="l"></span>
<a name=":b943:@LAB_PRG14__b943"></a><span class="l"><a class="anc" name="b943" href="#b943">[b943]</a><a href="#:b943:@LAB_PRG14__b943" class="lla">@LAB_PRG14__b943:</a><span class="ce">; [$b943]</span></span>
<span class="l"><a class="anc" name="b943" href="#b943">[b943]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b945" href="#b945">[b945]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="b947" href="#b947">[b947]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b954">@LAB_PRG14__b954</a></span></span></span>
<span class="l"><a class="anc" name="b949" href="#b949">[b949]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_MovementTick">Player_MovementTick</a></span></span></span>
<span class="l"><a class="anc" name="b94b" href="#b94b">[b94b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$10</span></span></span>
<span class="l"><a class="anc" name="b94d" href="#b94d">[b94d]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b94e" href="#b94e">[b94e]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b94f" href="#b94f">[b94f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="b951" href="#b951">[b951]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="b953" href="#b953">[b953]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":b954:@LAB_PRG14__b954"></a><span class="l"><a class="anc" name="b954" href="#b954">[b954]</a><a href="#:b954:@LAB_PRG14__b954" class="lla">@LAB_PRG14__b954:</a><span class="ce">; [$b954]</span></span>
<span class="l"><a class="anc" name="b954" href="#b954">[b954]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b956" href="#b956">[b956]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__b95e">@LAB_PRG14__b95e</a></span></span></span>
<span class="l"></span>
<a name=":b958:@LAB_PRG14__b958"></a><span class="l"><a class="anc" name="b958" href="#b958">[b958]</a><a href="#:b958:@LAB_PRG14__b958" class="lla">@LAB_PRG14__b958:</a><span class="ce">; [$b958]</span></span>
<span class="l"><a class="anc" name="b958" href="#b958">[b958]</a><span class="cd"><span class="i">LDX</span> <span class="o"><a href="RAM.html#PlayerHitsPhaseCounter">PlayerHitsPhaseCounter</a></span></span></span>
<span class="l"><a class="anc" name="b95a" href="#b95a">[b95a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__b97b">BYTE_ARRAY_PRG14__b97b</a>,X</span></span></span>
<span class="l"><a class="anc" name="b95d" href="#b95d">[b95d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":b95e:@LAB_PRG14__b95e"></a><span class="l"><a class="anc" name="b95e" href="#b95e">[b95e]</a><a href="#:b95e:@LAB_PRG14__b95e" class="lla">@LAB_PRG14__b95e:</a><span class="ce">; [$b95e]</span></span>
<span class="l"><a class="anc" name="b95e" href="#b95e">[b95e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_StatusFlag">Player_StatusFlag</a></span></span></span>
<span class="l"><a class="anc" name="b960" href="#b960">[b960]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__b969">@LAB_PRG14__b969</a></span></span></span>
<span class="l"><a class="anc" name="b962" href="#b962">[b962]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Joy1_ButtonMask">Joy1_ButtonMask</a></span></span></span>
<span class="l"><a class="anc" name="b964" href="#b964">[b964]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@LAB_PRG14__b969">@LAB_PRG14__b969</a></span></span></span>
<span class="l"><a class="anc" name="b966" href="#b966">[b966]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="b968" href="#b968">[b968]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":b969:@LAB_PRG14__b969"></a><span class="l"><a class="anc" name="b969" href="#b969">[b969]</a><a href="#:b969:@LAB_PRG14__b969" class="lla">@LAB_PRG14__b969:</a><span class="ce">; [$b969]</span></span>
<span class="l"><a class="anc" name="b969" href="#b969">[b969]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b96b" href="#b96b">[b96b]</a><span class="cd"><span class="i">AND</span> <span class="o">#$20</span></span></span>
<span class="l"><a class="anc" name="b96d" href="#b96d">[b96d]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b976">@LAB_PRG14__b976</a></span></span></span>
<span class="l"><a class="anc" name="b96f" href="#b96f">[b96f]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_MovementTick">Player_MovementTick</a></span></span></span>
<span class="l"><a class="anc" name="b971" href="#b971">[b971]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b972" href="#b972">[b972]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b973" href="#b973">[b973]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b974" href="#b974">[b974]</a><span class="cd"><span class="i">AND</span> <span class="o">#$03</span></span></span>
<span class="l"></span>
<a name=":b976:@LAB_PRG14__b976"></a><span class="l"><a class="anc" name="b976" href="#b976">[b976]</a><a href="#:b976:@LAB_PRG14__b976" class="lla">@LAB_PRG14__b976:</a><span class="ce">; [$b976]</span></span>
<span class="l"><a class="anc" name="b976" href="#b976">[b976]</a><span class="cd"><span class="i">TAX</span></span></span>
<span class="l"><a class="anc" name="b977" href="#b977">[b977]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#BYTE_ARRAY_PRG14__b97e">BYTE_ARRAY_PRG14__b97e</a>,X</span></span></span>
<span class="l"><a class="anc" name="b97a" href="#b97a">[b97a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__b97b"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_Player_CalcAnimFrame">Maybe_Player_CalcAnimFrame</a>
;
</div><span class="l"><a class="anc" name="b97b" href="#b97b">[b97b]</a><a href="#BYTE_ARRAY_PRG14__b97b" class="la">BYTE_ARRAY_PRG14__b97b:</a><span class="ce">; [$b97b]</span></span>
<span class="l"><a class="anc" name="b97b" href="#b97b">[b97b]</a><span class="cd"><span class="i">.byte</span> <span class="o">$04</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b97c" href="#b97c">[b97c]</a><span class="cd"><span class="i">.byte</span> <span class="o">$05</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b97d" href="#b97d">[b97d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$06</span></span><span class="ce">; [2]:</span></span>
<span class="l"></span>
<a name="BYTE_ARRAY_PRG14__b97e"></a><div class="c">;
; XREFS:
;     <a href="#Maybe_Player_CalcAnimFrame">Maybe_Player_CalcAnimFrame</a>
;
</div><span class="l"><a class="anc" name="b97e" href="#b97e">[b97e]</a><a href="#BYTE_ARRAY_PRG14__b97e" class="la">BYTE_ARRAY_PRG14__b97e:</a><span class="ce">; [$b97e]</span></span>
<span class="l"><a class="anc" name="b97e" href="#b97e">[b97e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b97f" href="#b97f">[b97f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b980" href="#b980">[b980]</a><span class="cd"><span class="i">.byte</span> <span class="o">$02</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b981" href="#b981">[b981]</a><span class="cd"><span class="i">.byte</span> <span class="o">$01</span></span><span class="ce">; [3]:</span></span>
<span class="l"></span>
</pre><pre><a name="Player_DrawShield"></a><div class="cp">;============================================================================
; TODO: Document Player_DrawShield
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="PRG15_MIRROR.html#EndGame_MainLoop">EndGame_MainLoop</a>
;     <a href="PRG15_MIRROR.html#Game_DrawScreenInFrozenState">Game_DrawScreenInFrozenState</a>
;     <a href="PRG15_MIRROR.html#Game_MainLoop">Game_MainLoop</a>
;============================================================================
</div><span class="l"><a class="anc" name="b982" href="#b982">[b982]</a><a href="#Player_DrawShield" class="la">Player_DrawShield:</a><span class="ce">; [$b982]</span></span>
<span class="l"><a class="anc" name="b982" href="#b982">[b982]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#IScript_PortraitID">IScript_PortraitID</a></span></span></span>
<span class="l"><a class="anc" name="b985" href="#b985">[b985]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="b987" href="#b987">[b987]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedShield">SelectedShield</a></span></span></span>
<span class="l"><a class="anc" name="b98a" href="#b98a">[b98a]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="b98c" href="#b98c">[b98c]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="b98e" href="#b98e">[b98e]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span></span>
<span class="l"><a class="anc" name="b990" href="#b990">[b990]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Maybe_Player_CalcAnimFrame">Maybe_Player_CalcAnimFrame</a></span></span></span>
<span class="l"><a class="anc" name="b993" href="#b993">[b993]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b995" href="#b995">[b995]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="b996" href="#b996">[b996]</a><span class="cd"><span class="i">TAY</span></span></span>
<span class="l"><a class="anc" name="b997" href="#b997">[b997]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b999" href="#b999">[b999]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="b99b" href="#b99b">[b99b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__b99e">@LAB_PRG14__b99e</a></span></span></span>
<span class="l"><a class="anc" name="b99d" href="#b99d">[b99d]</a><span class="cd"><span class="i">INY</span></span></span>
<span class="l"></span>
<a name=":b99e:@LAB_PRG14__b99e"></a><span class="l"><a class="anc" name="b99e" href="#b99e">[b99e]</a><a href="#:b99e:@LAB_PRG14__b99e" class="lla">@LAB_PRG14__b99e:</a><span class="ce">; [$b99e]</span></span>
<span class="l"><a class="anc" name="b99e" href="#b99e">[b99e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span></span>
<span class="l"><a class="anc" name="b9a0" href="#b9a0">[b9a0]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="b9a1" href="#b9a1">[b9a1]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#SHIELD_SPRITE_OFFSETS_X">SHIELD_SPRITE_OFFSETS_X</a>,Y</span></span></span>
<span class="l"><a class="anc" name="b9a4" href="#b9a4">[b9a4]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Player_ShieldPositionX">Player_ShieldPositionX</a></span></span></span>
<span class="l"><a class="anc" name="b9a7" href="#b9a7">[b9a7]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span></span>
<span class="l"><a class="anc" name="b9a9" href="#b9a9">[b9a9]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="b9aa" href="#b9aa">[b9aa]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$08</span></span></span>
<span class="l"><a class="anc" name="b9ac" href="#b9ac">[b9ac]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Player_ShieldPositionY">Player_ShieldPositionY</a></span></span></span>
<span class="l"><a class="anc" name="b9af" href="#b9af">[b9af]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="b9b1" href="#b9b1">[b9b1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="b9b3" href="#b9b3">[b9b3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#CurrentSprite_FlipMask">CurrentSprite_FlipMask</a></span></span></span>
<span class="l"><a class="anc" name="b9b5" href="#b9b5">[b9b5]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$30</span></span></span>
<span class="l"><a class="anc" name="b9b7" href="#b9b7">[b9b7]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Sprites_PPUOffset">Sprites_PPUOffset</a></span></span></span>
<span class="l"><a class="anc" name="b9b9" href="#b9b9">[b9b9]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_ShieldPositionX">Player_ShieldPositionX</a></span></span></span>
<span class="l"><a class="anc" name="b9bc" href="#b9bc">[b9bc]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="b9be" href="#b9be">[b9be]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_ShieldPositionY">Player_ShieldPositionY</a></span></span></span>
<span class="l"><a class="anc" name="b9c1" href="#b9c1">[b9c1]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="b9c3" href="#b9c3">[b9c3]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b9c5" href="#b9c5">[b9c5]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="b9c6" href="#b9c6">[b9c6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Player_CalculateVisibility">Player_CalculateVisibility</a></span></span></span>
<span class="l"><a class="anc" name="b9c9" href="#b9c9">[b9c9]</a><span class="cd"><span class="i">PLA</span></span></span>
<span class="l"><a class="anc" name="b9ca" href="#b9ca">[b9ca]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b9cc" href="#b9cc">[b9cc]</a><span class="cd"><span class="i">LDY</span> <span class="o"><a href="RAM.html#Temp_00">Temp_00</a></span></span></span>
<span class="l"><a class="anc" name="b9ce" href="#b9ce">[b9ce]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#MAYBE_SHIELD_SPRITE_PPU_OFFSETS">MAYBE_SHIELD_SPRITE_PPU_OFFSETS</a>,Y</span></span></span>
<span class="l"><a class="anc" name="b9d1" href="#b9d1">[b9d1]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="PRG15_MIRROR.html#Sprite_SetPlayerAppearanceAddr">Sprite_SetPlayerAppearanceAddr</a></span></span></span>
<span class="l"></span>
<a name=":b9d4:@_return"></a><span class="l"><a class="anc" name="b9d4" href="#b9d4">[b9d4]</a><a href="#:b9d4:@_return" class="lla">@_return:</a><span class="ce">; [$b9d4]</span></span>
<span class="l"><a class="anc" name="b9d4" href="#b9d4">[b9d4]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="MAYBE_SHIELD_SPRITE_PPU_OFFSETS"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawShield">Player_DrawShield</a>
;
</div><span class="l"><a class="anc" name="b9d5" href="#b9d5">[b9d5]</a><a href="#MAYBE_SHIELD_SPRITE_PPU_OFFSETS" class="la">MAYBE_SHIELD_SPRITE_PPU_OFFSETS:</a><span class="ce">; [$b9d5]</span></span>
<span class="l"><a class="anc" name="b9d5" href="#b9d5">[b9d5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b9d6" href="#b9d6">[b9d6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b9d7" href="#b9d7">[b9d7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b9d8" href="#b9d8">[b9d8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="b9d9" href="#b9d9">[b9d9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$61</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="b9da" href="#b9da">[b9da]</a><span class="cd"><span class="i">.byte</span> <span class="o">$60</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="b9db" href="#b9db">[b9db]</a><span class="cd"><span class="i">.byte</span> <span class="o">$62</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="b9dc" href="#b9dc">[b9dc]</a><span class="cd"><span class="i">.byte</span> <span class="o">$42</span></span><span class="ce">; [7]:</span></span>
<span class="l"></span>
<a name="SHIELD_SPRITE_OFFSETS_X"></a><div class="c">;
; XREFS:
;     <a href="#Player_DrawShield">Player_DrawShield</a>
;
</div><span class="l"><a class="anc" name="b9dd" href="#b9dd">[b9dd]</a><a href="#SHIELD_SPRITE_OFFSETS_X" class="la">SHIELD_SPRITE_OFFSETS_X:</a><span class="ce">; [$b9dd]</span></span>
<span class="l"><a class="anc" name="b9dd" href="#b9dd">[b9dd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="b9de" href="#b9de">[b9de]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="b9df" href="#b9df">[b9df]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="b9e0" href="#b9e0">[b9e0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="b9e1" href="#b9e1">[b9e1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [4]:</span></span>
<span class="l"><a class="anc" name="b9e2" href="#b9e2">[b9e2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [5]:</span></span>
<span class="l"><a class="anc" name="b9e3" href="#b9e3">[b9e3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [6]:</span></span>
<span class="l"><a class="anc" name="b9e4" href="#b9e4">[b9e4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [7]:</span></span>
<span class="l"><a class="anc" name="b9e5" href="#b9e5">[b9e5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [8]:</span></span>
<span class="l"><a class="anc" name="b9e6" href="#b9e6">[b9e6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [9]:</span></span>
<span class="l"><a class="anc" name="b9e7" href="#b9e7">[b9e7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [10]:</span></span>
<span class="l"><a class="anc" name="b9e8" href="#b9e8">[b9e8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [11]:</span></span>
<span class="l"><a class="anc" name="b9e9" href="#b9e9">[b9e9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [12]:</span></span>
<span class="l"><a class="anc" name="b9ea" href="#b9ea">[b9ea]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [13]:</span></span>
<span class="l"><a class="anc" name="b9eb" href="#b9eb">[b9eb]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [14]:</span></span>
<span class="l"><a class="anc" name="b9ec" href="#b9ec">[b9ec]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [15]:</span></span>
<span class="l"></span>
</pre><pre><a name="Player_CalculateVisibility"></a><div class="cp">;============================================================================
; TODO: Document Player_CalculateVisibility
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#Player_DrawShield">Player_DrawShield</a>
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;     <a href="PRG15_MIRROR.html#FUN_PRG15_MIRROR__ec58">FUN_PRG15_MIRROR__ec58</a>
;     <a href="PRG15_MIRROR.html#Player_DrawBody">Player_DrawBody</a>
;============================================================================
</div><span class="l"><a class="anc" name="b9ed" href="#b9ed">[b9ed]</a><a href="#Player_CalculateVisibility" class="la">Player_CalculateVisibility:</a><span class="ce">; [$b9ed]</span></span>
<span class="l"><a class="anc" name="b9ed" href="#b9ed">[b9ed]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="b9ef" href="#b9ef">[b9ef]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="b9f1" href="#b9f1">[b9f1]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosY">Arg_DrawSprite_PosY</a></span></span></span>
<span class="l"><a class="anc" name="b9f3" href="#b9f3">[b9f3]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span></span>
<span class="l"><a class="anc" name="b9f5" href="#b9f5">[b9f5]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="b9f7" href="#b9f7">[b9f7]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="b9f8" href="#b9f8">[b9f8]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="b9fa" href="#b9fa">[b9fa]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="b9fc" href="#b9fc">[b9fc]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="b9ff" href="#b9ff">[b9ff]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_LoadBlockProperty">ScreenBuffer_LoadBlockProperty</a></span></span></span>
<span class="l"><a class="anc" name="ba02" href="#ba02">[ba02]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="ba04" href="#ba04">[ba04]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__ba0e">@LAB_PRG14__ba0e</a></span></span></span>
<span class="l"><a class="anc" name="ba06" href="#ba06">[ba06]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0d</span></span></span>
<span class="l"><a class="anc" name="ba08" href="#ba08">[ba08]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__ba0e">@LAB_PRG14__ba0e</a></span></span></span>
<span class="l"><a class="anc" name="ba0a" href="#ba0a">[ba0a]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="ba0c" href="#ba0c">[ba0c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__ba14">@LAB_PRG14__ba14</a></span></span></span>
<span class="l"></span>
<a name=":ba0e:@LAB_PRG14__ba0e"></a><span class="l"><a class="anc" name="ba0e" href="#ba0e">[ba0e]</a><a href="#:ba0e:@LAB_PRG14__ba0e" class="lla">@LAB_PRG14__ba0e:</a><span class="ce">; [$ba0e]</span></span>
<span class="l"><a class="anc" name="ba0e" href="#ba0e">[ba0e]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="ba10" href="#ba10">[ba10]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="ba12" href="#ba12">[ba12]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<a name=":ba14:@LAB_PRG14__ba14"></a><span class="l"><a class="anc" name="ba14" href="#ba14">[ba14]</a><a href="#:ba14:@LAB_PRG14__ba14" class="lla">@LAB_PRG14__ba14:</a><span class="ce">; [$ba14]</span></span>
<span class="l"><a class="anc" name="ba14" href="#ba14">[ba14]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Arg_DrawSprite_PosX">Arg_DrawSprite_PosX</a></span></span></span>
<span class="l"><a class="anc" name="ba16" href="#ba16">[ba16]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="ba17" href="#ba17">[ba17]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$0c</span></span></span>
<span class="l"><a class="anc" name="ba19" href="#ba19">[ba19]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span></span>
<span class="l"><a class="anc" name="ba1b" href="#ba1b">[ba1b]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span></span>
<span class="l"><a class="anc" name="ba1e" href="#ba1e">[ba1e]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_LoadBlockProperty">ScreenBuffer_LoadBlockProperty</a></span></span></span>
<span class="l"><a class="anc" name="ba21" href="#ba21">[ba21]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="ba23" href="#ba23">[ba23]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__ba2d">@LAB_PRG14__ba2d</a></span></span></span>
<span class="l"><a class="anc" name="ba25" href="#ba25">[ba25]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$0d</span></span></span>
<span class="l"><a class="anc" name="ba27" href="#ba27">[ba27]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__ba2d">@LAB_PRG14__ba2d</a></span></span></span>
<span class="l"><a class="anc" name="ba29" href="#ba29">[ba29]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$09</span></span></span>
<span class="l"><a class="anc" name="ba2b" href="#ba2b">[ba2b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@LAB_PRG14__ba33">@LAB_PRG14__ba33</a></span></span></span>
<span class="l"></span>
<a name=":ba2d:@LAB_PRG14__ba2d"></a><span class="l"><a class="anc" name="ba2d" href="#ba2d">[ba2d]</a><a href="#:ba2d:@LAB_PRG14__ba2d" class="lla">@LAB_PRG14__ba2d:</a><span class="ce">; [$ba2d]</span></span>
<span class="l"><a class="anc" name="ba2d" href="#ba2d">[ba2d]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="ba2f" href="#ba2f">[ba2f]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="ba31" href="#ba31">[ba31]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<a name=":ba33:@LAB_PRG14__ba33"></a><span class="l"><a class="anc" name="ba33" href="#ba33">[ba33]</a><a href="#:ba33:@LAB_PRG14__ba33" class="lla">@LAB_PRG14__ba33:</a><span class="ce">; [$ba33]</span></span>
<span class="l"><a class="anc" name="ba33" href="#ba33">[ba33]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span></span>
<span class="l"><a class="anc" name="ba35" href="#ba35">[ba35]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span></span>
<span class="l"><a class="anc" name="ba37" href="#ba37">[ba37]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@LAB_PRG14__ba46">@LAB_PRG14__ba46</a></span></span></span>
<span class="l"><a class="anc" name="ba39" href="#ba39">[ba39]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="ba3b" href="#ba3b">[ba3b]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SUB_PRG14__ba48">SUB_PRG14__ba48</a></span></span></span>
<span class="l"><a class="anc" name="ba3d" href="#ba3d">[ba3d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="ba3f" href="#ba3f">[ba3f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#SUB_PRG14__ba48">SUB_PRG14__ba48</a></span></span></span>
<span class="l"><a class="anc" name="ba41" href="#ba41">[ba41]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="ba43" href="#ba43">[ba43]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#SUB_PRG14__ba48">SUB_PRG14__ba48</a></span></span></span>
<span class="l"></span>
<a name=":ba46:@LAB_PRG14__ba46"></a><span class="l"><a class="anc" name="ba46" href="#ba46">[ba46]</a><a href="#:ba46:@LAB_PRG14__ba46" class="lla">@LAB_PRG14__ba46:</a><span class="ce">; [$ba46]</span></span>
<span class="l"><a class="anc" name="ba46" href="#ba46">[ba46]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Temp_MovingSpriteVisibility">Temp_MovingSpriteVisibility</a></span></span></span>
<span class="l"></span>
<a name="SUB_PRG14__ba48"></a><div class="c">;
; XREFS:
;     <a href="#Player_CalculateVisibility">Player_CalculateVisibility</a>
;
</div><span class="l"><a class="anc" name="ba48" href="#ba48">[ba48]</a><a href="#SUB_PRG14__ba48" class="la">SUB_PRG14__ba48:</a><span class="ce">; [$ba48]</span></span>
<span class="l"><a class="anc" name="ba48" href="#ba48">[ba48]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#MovingSpriteVisibility">MovingSpriteVisibility</a></span></span></span>
<span class="l"><a class="anc" name="ba4a" href="#ba4a">[ba4a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_GetNormalizedWeaponID"></a><div class="cp">;============================================================================
; Return the player's current weapon.
;
; If the weapon is unset, it will be normalized to a
; hand dagger.
;
; INPUTS:
;     <a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a>:
;         The current weapon.
;
; OUTPUTS:
;     A:
;         The normalized weapon.
;
; XREFS:
;     <a href="#Player_DrawWeapon">Player_DrawWeapon</a>
;============================================================================
</div><span class="l"><a class="anc" name="ba4b" href="#ba4b">[ba4b]</a><a href="#Player_GetNormalizedWeaponID" class="la">Player_GetNormalizedWeaponID:</a><span class="ce">; [$ba4b]</span></span>
<span class="l"><a class="anc" name="ba4b" href="#ba4b">[ba4b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Player_CurWeapon">Player_CurWeapon</a></span></span><span class="ce">; Load the player's current weapon.</span></span>
<span class="l"><a class="anc" name="ba4e" href="#ba4e">[ba4e]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$ff</span></span><span class="ce">; Is it unset?</span></span>
<span class="l"><a class="anc" name="ba50" href="#ba50">[ba50]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If not, return.</span></span>
<span class="l"><a class="anc" name="ba52" href="#ba52">[ba52]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span><span class="ce">; Else, return the Hand Dagger.</span></span>
<span class="l"></span>
<a name=":ba54:@_return"></a><span class="l"><a class="anc" name="ba54" href="#ba54">[ba54]</a><a href="#:ba54:@_return" class="lla">@_return:</a><span class="ce">; [$ba54]</span></span>
<span class="l"><a class="anc" name="ba54" href="#ba54">[ba54]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_ClearVisibleMagic"></a><div class="cp">;============================================================================
; Clear the visible magic on the screen.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The magic, unset.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#Game_InitStateForSpawn">Game_InitStateForSpawn</a>
;============================================================================
</div><span class="l"><a class="anc" name="ba55" href="#ba55">[ba55]</a><a href="#Player_ClearVisibleMagic" class="la">Player_ClearVisibleMagic:</a><span class="ce">; [$ba55]</span></span>
<span class="l"><a class="anc" name="ba55" href="#ba55">[ba55]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="ba57" href="#ba57">[ba57]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Unset the cast magic type.</span></span>
<span class="l"><a class="anc" name="ba5a" href="#ba5a">[ba5a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="Player_CastMagic"></a><div class="cp">;============================================================================
; Draw the magic effect on the screen.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Any current visible magic on the screen.
;
;     <a href="RAM.html#Joy1_ButtonMask">Joy1_ButtonMask</a>:
;         The current button mask.
;
;     <a href="RAM.html#Joy1_ChangedButtonMask">Joy1_ChangedButtonMask</a>:
;         The newly-pressed buttons.
;
;     <a href="RAM.html#SelectedMagic">SelectedMagic</a>:
;         The selected magic spell.
;
;     <a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a>:
;         The player's X position.
;
;     <a href="RAM.html#Player_PosY">Player_PosY</a>:
;         The player's Y position.
;
;     <a href="RAM.html#Player_Flags">Player_Flags</a>:
;         The player's current flags.
;
;     <a href="#CAST_MAGIC_START_X">CAST_MAGIC_START_X</a>:
;         The X offsets for each magic type.
;
;     <a href="#CAST_MAGIC_START_Y">CAST_MAGIC_START_Y</a>:
;         The Y offsets for each magic type.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The newly-cast magic spell.
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;     <a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a>:
;         The starting X position of the new magic.
;
;     <a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a>:
;     <a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a>:
;         The starting Y position of the new magic.
;
;     <a href="RAM.html#CastMagic_Phase">CastMagic_Phase</a>:
;         The magic spell's current phase. This is
;         dependent on the magic spell.
;
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The cast magic's counter.
;
;         This is 0 for Tilte and 33 for all others.
;
;     <a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a>:
;         The flags for the magic spell.
;
;         This will match the facing direction of the
;         player. For Tilte, it will also start falling.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#Player_IsClimbing">Player_IsClimbing</a>
;     <a href="PRG15_MIRROR.html#Player_ReduceMP">Player_ReduceMP</a>
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;     <a href="#@_placeMagic">@_placeMagic</a>
;     <a href="#CastMagic_RunSpellHandler">CastMagic_RunSpellHandler</a>
;
; XREFS:
;     <a href="PRG15_MIRROR.html#EndGame_MainLoop">EndGame_MainLoop</a>
;     <a href="PRG15_MIRROR.html#Game_MainLoop">Game_MainLoop</a>
;============================================================================
</div><span class="l"><a class="anc" name="ba5b" href="#ba5b">[ba5b]</a><a href="#Player_CastMagic" class="la">Player_CastMagic:</a><span class="ce">; [$ba5b]</span></span>
<div class="c">;
; Check if there's any visible magic on the screen.
;
; If so, run its handler and return.
;
</div><span class="l"><a class="anc" name="ba5b" href="#ba5b">[ba5b]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the visible magic.</span></span>
<span class="l"><a class="anc" name="ba5e" href="#ba5e">[ba5e]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#CastMagic_RunSpellHandler">CastMagic_RunSpellHandler</a></span></span><span class="ce">; If unset, jump to the next function in the spell cast logic.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the player is climbing a ladder.
;
</div><span class="l"><a class="anc" name="ba60" href="#ba60">[ba60]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_IsClimbing">Player_IsClimbing</a></span></span><span class="ce">; Check if the player can cast magic.</span></span>
<span class="l"><a class="anc" name="ba63" href="#ba63">[ba63]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return2">@_return2</a></span></span><span class="ce">; If not, we're done.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check if the player has pressed Up-B to cast magic.
;
</div><span class="l"><a class="anc" name="ba65" href="#ba65">[ba65]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Joy1_ButtonMask">Joy1_ButtonMask</a></span></span><span class="ce">; Load the current button mask.</span></span>
<span class="l"><a class="anc" name="ba67" href="#ba67">[ba67]</a><span class="cd"><span class="i">AND</span> <span class="o">#$08</span></span><span class="ce">; Has Up been pressed?</span></span>
<span class="l"><a class="anc" name="ba69" href="#ba69">[ba69]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return1">@_return1</a></span></span><span class="ce">; If not, return.</span></span>
<span class="l"><a class="anc" name="ba6b" href="#ba6b">[ba6b]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Joy1_ChangedButtonMask">Joy1_ChangedButtonMask</a></span></span><span class="ce">; Load the newly-changed button mask.</span></span>
<span class="l"><a class="anc" name="ba6d" href="#ba6d">[ba6d]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span><span class="ce">; Has B been pressed?</span></span>
<span class="l"><a class="anc" name="ba6f" href="#ba6f">[ba6f]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return1">@_return1</a></span></span><span class="ce">; If not, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Load the currently-selected magic spell.
;
; Only the primary spells (not extra stages of the spells)
; are supported.
;
</div><span class="l"><a class="anc" name="ba71" href="#ba71">[ba71]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedMagic">SelectedMagic</a></span></span><span class="ce">; Load the magic spell.</span></span>
<span class="l"><a class="anc" name="ba74" href="#ba74">[ba74]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$05</span></span><span class="ce">; Compare against 5 (Tilte -- last spell).</span></span>
<span class="l"><a class="anc" name="ba76" href="#ba76">[ba76]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@LAB_PRG14__ba79">@LAB_PRG14__ba79</a></span></span><span class="ce">; If a valid spell, then jump.</span></span>
<span class="l"></span>
<a name=":ba78:@_return1"></a><span class="l"><a class="anc" name="ba78" href="#ba78">[ba78]</a><a href="#:ba78:@_return1" class="lla">@_return1:</a><span class="ce">; [$ba78]</span></span>
<span class="l"><a class="anc" name="ba78" href="#ba78">[ba78]</a><span class="cd"><span class="i">RTS</span></span><span class="ce">; We're done.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":ba79:@LAB_PRG14__ba79"></a><div class="c">;
; If the player has enough MP for the spell, reduce the MP
; for the spell cost.
;
</div><span class="l"><a class="anc" name="ba79" href="#ba79">[ba79]</a><a href="#:ba79:@LAB_PRG14__ba79" class="lla">@LAB_PRG14__ba79:</a><span class="ce">; [$ba79]</span></span>
<span class="l"><a class="anc" name="ba79" href="#ba79">[ba79]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Player_ReduceMP">Player_ReduceMP</a></span></span><span class="ce">; Reduce the MP.</span></span>
<span class="l"><a class="anc" name="ba7c" href="#ba7c">[ba7c]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_return1">@_return1</a></span></span><span class="ce">; If there's not enough, we're done.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Load the magic spell again.
;
</div><span class="l"><a class="anc" name="ba7e" href="#ba7e">[ba7e]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedMagic">SelectedMagic</a></span></span><span class="ce">; Load the magic spell.</span></span>
<span class="l"><a class="anc" name="ba81" href="#ba81">[ba81]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span><span class="ce">; Compare it to 4 (Fire).</span></span>
<span class="l"><a class="anc" name="ba83" href="#ba83">[ba83]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_playTilteSound">@_playTilteSound</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is any magic spell other than Tilte, which
; has its own sound.
;
</div><span class="l"><a class="anc" name="ba85" href="#ba85">[ba85]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$05</span></span></span>
<span class="l"><a class="anc" name="ba87" href="#ba87">[ba87]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play the standard magic sound effect.</span></span>
<span class="l"><a class="anc" name="ba8a" href="#ba8a">[ba8a]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#@_placeMagic">@_placeMagic</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":ba8d:@_playTilteSound"></a><div class="c">;
; This is Tilte magic. Play its sound effect.
;
</div><span class="l"><a class="anc" name="ba8d" href="#ba8d">[ba8d]</a><a href="#:ba8d:@_playTilteSound" class="lla">@_playTilteSound:</a><span class="ce">; [$ba8d]</span></span>
<span class="l"><a class="anc" name="ba8d" href="#ba8d">[ba8d]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$14</span></span></span>
<span class="l"><a class="anc" name="ba8f" href="#ba8f">[ba8f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play the Tilte magic sound effect.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":ba92:@_placeMagic"></a><div class="c">;
; Begin placing the magic spell on the screen.
;
</div><span class="l"><a class="anc" name="ba92" href="#ba92">[ba92]</a><a href="#:ba92:@_placeMagic" class="lla">@_placeMagic:</a><span class="ce">; [$ba92]</span></span>
<span class="l"><a class="anc" name="ba92" href="#ba92">[ba92]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#SelectedMagic">SelectedMagic</a></span></span><span class="ce">; Load the magic spell.</span></span>
<span class="l"><a class="anc" name="ba95" href="#ba95">[ba95]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Set it as the visible magic.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Calculate the direction the player is facing in order
; to know which direction to send the spell.
;
</div><span class="l"><a class="anc" name="ba98" href="#ba98">[ba98]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_Flags">Player_Flags</a></span></span><span class="ce">; Load the player's flags.</span></span>
<span class="l"><a class="anc" name="ba9a" href="#ba9a">[ba9a]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span><span class="ce">; Pull out the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="ba9c" href="#ba9c">[ba9c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Store as the direction.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the initial X position of the magic.
;
</div><span class="l"><a class="anc" name="ba9f" href="#ba9f">[ba9f]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Y = visible magic</span></span>
<span class="l"><a class="anc" name="baa2" href="#baa2">[baa2]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosX_Block">Player_PosX_Block</a></span></span><span class="ce">; A = player X position</span></span>
<span class="l"><a class="anc" name="baa4" href="#baa4">[baa4]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#CAST_MAGIC_START_X">CAST_MAGIC_START_X</a>,Y</span></span><span class="ce">; Load the relative starting X position for the spell.</span></span>
<span class="l"><a class="anc" name="baa7" href="#baa7">[baa7]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Set it as the full X start position.</span></span>
<span class="l"><a class="anc" name="baaa" href="#baaa">[baaa]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Player_PosY">Player_PosY</a></span></span><span class="ce">; A = player Y position</span></span>
<span class="l"><a class="anc" name="baac" href="#baac">[baac]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the initial Y position of the magic.
;
</div><span class="l"><a class="anc" name="baad" href="#baad">[baad]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#CAST_MAGIC_START_Y">CAST_MAGIC_START_Y</a>,Y</span></span><span class="ce">; Load the relative starting Y position for the spell.</span></span>
<span class="l"><a class="anc" name="bab0" href="#bab0">[bab0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Set it as the full Y start position.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Clear the rest of the default state.
;
</div><span class="l"><a class="anc" name="bab3" href="#bab3">[bab3]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bab5" href="#bab5">[bab5]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a></span></span><span class="ce">; Fractional X = 0</span></span>
<span class="l"><a class="anc" name="bab8" href="#bab8">[bab8]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a></span></span><span class="ce">; Fraction Y = 0</span></span>
<span class="l"><a class="anc" name="babb" href="#babb">[babb]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Counter = 0</span></span>
<span class="l"><a class="anc" name="babe" href="#babe">[babe]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Phase">CastMagic_Phase</a></span></span><span class="ce">; Phase = 0</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Tilte behaves differently, so check which spell's being cast.
;
</div><span class="l"><a class="anc" name="bac1" href="#bac1">[bac1]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the magic spell.</span></span>
<span class="l"><a class="anc" name="bac4" href="#bac4">[bac4]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$04</span></span><span class="ce">; Compare against Tilte.</span></span>
<span class="l"><a class="anc" name="bac6" href="#bac6">[bac6]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#CastMagic_RunSpellHandler">CastMagic_RunSpellHandler</a></span></span><span class="ce">; If Tilte, jump to the next function in the spell cast logic.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; This is Tilte. Set the flags as initially falling for the
; downward arc.
;
</div><span class="l"><a class="anc" name="bac8" href="#bac8">[bac8]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the magic's flags.</span></span>
<span class="l"><a class="anc" name="bacb" href="#bacb">[bacb]</a><span class="cd"><span class="i">ORA</span> <span class="o">#$80</span></span><span class="ce">; Set the Falling bit.</span></span>
<span class="l"><a class="anc" name="bacd" href="#bacd">[bacd]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Store it back out.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the magic counter to a default of 33.
;
</div><span class="l"><a class="anc" name="bad0" href="#bad0">[bad0]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$21</span></span><span class="ce">; A = 0x21</span></span>
<span class="l"><a class="anc" name="bad2" href="#bad2">[bad2]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Store as the magic's counter.</span></span>
<span class="l"><a class="anc" name="bad5" href="#bad5">[bad5]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_RunSpellHandler">CastMagic_RunSpellHandler</a></span></span><span class="ce">; Jump to the next function in the spell cast logic.</span></span>
<span class="l"></span>
<a name=":bad8:@_return2"></a><span class="l"><a class="anc" name="bad8" href="#bad8">[bad8]</a><a href="#:bad8:@_return2" class="lla">@_return2:</a><span class="ce">; [$bad8]</span></span>
<span class="l"><a class="anc" name="bad8" href="#bad8">[bad8]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_RunSpellHandler"></a><div class="cp">;============================================================================
; Run the handler for spawning or updating the current spell.
;
; This will fetch the address of the method used to handle
; a spell and put it on the stack, running it once this
; function has finished.
;
; NOTES:
;     This is pushing two addresses onto the stack for A:
;
;     1. <a href="PRG15_MIRROR.html#CastMagic_RunUpdateSpellHandler">CastMagic_RunUpdateSpellHandler</a> as the
;     finish
;        handler.
;
;     2. The address of the handler.
;
; INPUTS:
;     VisiblePlayerMagic:
;         The magic spell currently set.
;
; OUTPUTS:
;     A:
;         The address of the handler.
;
; XREFS:
;     <a href="#Player_CastMagic">Player_CastMagic</a>
;============================================================================
</div><span class="l"><a class="anc" name="bad9" href="#bad9">[bad9]</a><a href="#CastMagic_RunSpellHandler" class="la">CastMagic_RunSpellHandler:</a><span class="ce">; [$bad9]</span></span>
<div class="c">;
; Push PRG15_MIRROR:C2E9 to the stack as the result
; after our magic function.
;
</div><span class="l"><a class="anc" name="bad9" href="#bad9">[bad9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$c2</span></span></span>
<span class="l"><a class="anc" name="badb" href="#badb">[badb]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"><a class="anc" name="badc" href="#badc">[badc]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$e8</span></span></span>
<span class="l"><a class="anc" name="bade" href="#bade">[bade]</a><span class="cd"><span class="i">PHA</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Load the current spell into A and shift left 1 for lookup.
;
; Transfer that to Y as the index into the lookup table for
; the address.
;
</div><span class="l"><a class="anc" name="badf" href="#badf">[badf]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; A = Current spell</span></span>
<span class="l"><a class="anc" name="bae2" href="#bae2">[bae2]</a><span class="cd"><span class="i">ASL</span> <span class="o">A</span></span><span class="ce">; Multiply by 2.</span></span>
<span class="l"><a class="anc" name="bae3" href="#bae3">[bae3]</a><span class="cd"><span class="i">TAY</span></span><span class="ce">; Y = A</span></span>
<span class="l"><a class="anc" name="bae4" href="#bae4">[bae4]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a>+1,Y</span></span><span class="ce">; Load the upper nibble of the address</span></span>
<span class="l"><a class="anc" name="bae7" href="#bae7">[bae7]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push onto A</span></span>
<span class="l"><a class="anc" name="bae8" href="#bae8">[bae8]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a>,Y</span></span><span class="ce">; Load the lower nibble of the address</span></span>
<span class="l"><a class="anc" name="baeb" href="#baeb">[baeb]</a><span class="cd"><span class="i">PHA</span></span><span class="ce">; Push onto A</span></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_Noop"></a><div class="cp">;============================================================================
; TODO: Document CastMagic_Noop
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     TODO
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_FINISH_HANDLERS">CAST_MAGIC_UPDATE_FINISH_HANDLERS</a> [$PRG14::bb39]
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb09]
;============================================================================
</div><span class="l"><a class="anc" name="baec" href="#baec">[baec]</a><a href="#CastMagic_Noop" class="la">CastMagic_Noop:</a><span class="ce">; [$baec]</span></span>
<span class="l"><a class="anc" name="baec" href="#baec">[baec]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="CAST_MAGIC_START_Y"></a><div class="c">;
; XREFS:
;     <a href="#Player_CastMagic">Player_CastMagic</a>
;
</div><span class="l"><a class="anc" name="baed" href="#baed">[baed]</a><a href="#CAST_MAGIC_START_Y" class="la">CAST_MAGIC_START_Y:</a><span class="ce">; [$baed]</span></span>
<span class="l"><a class="anc" name="baed" href="#baed">[baed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="baee" href="#baee">[baee]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="baef" href="#baef">[baef]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="baf0" href="#baf0">[baf0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="baf1" href="#baf1">[baf1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$08</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"></span>
<a name="CAST_MAGIC_START_X"></a><div class="c">;
; XREFS:
;     <a href="#Player_CastMagic">Player_CastMagic</a>
;
</div><span class="l"><a class="anc" name="baf2" href="#baf2">[baf2]</a><a href="#CAST_MAGIC_START_X" class="la">CAST_MAGIC_START_X:</a><span class="ce">; [$baf2]</span></span>
<span class="l"><a class="anc" name="baf2" href="#baf2">[baf2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="baf3" href="#baf3">[baf3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="baf4" href="#baf4">[baf4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="baf5" href="#baf5">[baf5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="baf6" href="#baf6">[baf6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$00</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"></span>
<a name="CAST_MAGIC_UPDATE_HANDLERS"></a><div class="c">;
; XREFS:
;     <a href="#CastMagic_RunSpellHandler">CastMagic_RunSpellHandler</a>
;
</div><span class="l"><a class="anc" name="baf7" href="#baf7">[baf7]</a><a href="#CAST_MAGIC_UPDATE_HANDLERS" class="la">CAST_MAGIC_UPDATE_HANDLERS:</a><span class="ce">; [$baf7]</span></span>
<span class="l"><a class="anc" name="baf7" href="#baf7">[baf7]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateDeluge">CastMagic_UpdateDeluge</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="baf9" href="#baf9">[baf9]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="bafb" href="#bafb">[bafb]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateFire">CastMagic_UpdateFire</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="bafd" href="#bafd">[bafd]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HandleDeath">CastMagic_HandleDeath</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="baff" href="#baff">[baff]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"><a class="anc" name="bb01" href="#bb01">[bb01]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_Unused_UpdateDelugeAfterFirstHit">CastMagic_Unused_UpdateDelugeAfterFirstHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]: Deluge after first hit</span></span>
<span class="l"><a class="anc" name="bb03" href="#bb03">[bb03]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateThunderAfterFirstHit">CastMagic_UpdateThunderAfterFirstHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]: Thunder after first hit</span></span>
<span class="l"><a class="anc" name="bb05" href="#bb05">[bb05]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateFireAfterFirstHit">CastMagic_UpdateFireAfterFirstHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]: Fire after first hit</span></span>
<span class="l"><a class="anc" name="bb07" href="#bb07">[bb07]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateDeathAfterFirstHit">CastMagic_UpdateDeathAfterFirstHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [8]: Death after first hit</span></span>
<span class="l"><a class="anc" name="bb09" href="#bb09">[bb09]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_Noop">CastMagic_Noop</a>-1) &amp; $FFFF</span></span><span class="ce">; [9]: UNUSED: No-op</span></span>
<span class="l"><a class="anc" name="bb0b" href="#bb0b">[bb0b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_Unused_UpdateHitWallEffect">CastMagic_Unused_UpdateHitWallEffect</a>-1) &amp; $FFFF</span></span><span class="ce">; [10]: UNUSED: Hit Wall effect</span></span>
<span class="l"><a class="anc" name="bb0d" href="#bb0d">[bb0d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_UpdateTilteAfterFirstHit">CastMagic_UpdateTilteAfterFirstHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [11]: Tilte magic after first hit</span></span>
<span class="l"></span>
<a name="CAST_MAGIC_HIT_HANDLERS"></a><div class="c">;
; XREFS:
;     <a href="#Sprite_CheckHitByCastMagic">Sprite_CheckHitByCastMagic</a>
;
</div><span class="l"><a class="anc" name="bb0f" href="#bb0f">[bb0f]</a><a href="#CAST_MAGIC_HIT_HANDLERS" class="la">CAST_MAGIC_HIT_HANDLERS:</a><span class="ce">; [$bb0f]</span></span>
<span class="l"><a class="anc" name="bb0f" href="#bb0f">[bb0f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_Deluge">CastMagic_HitHandler_Deluge</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="bb11" href="#bb11">[bb11]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_Thunder">CastMagic_HitHandler_Thunder</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="bb13" href="#bb13">[bb13]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_Fire">CastMagic_HitHandler_Fire</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="bb15" href="#bb15">[bb15]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_Death">CastMagic_HitHandler_Death</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="bb17" href="#bb17">[bb17]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_Tilte">CastMagic_HitHandler_Tilte</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"><a class="anc" name="bb19" href="#bb19">[bb19]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]: Deluge after first hit</span></span>
<span class="l"><a class="anc" name="bb1b" href="#bb1b">[bb1b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]: Thunder after first hit</span></span>
<span class="l"><a class="anc" name="bb1d" href="#bb1d">[bb1d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]: Fire after first hit</span></span>
<span class="l"><a class="anc" name="bb1f" href="#bb1f">[bb1f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [8]: Death after first hit</span></span>
<span class="l"><a class="anc" name="bb21" href="#bb21">[bb21]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [9]: UNUSED</span></span>
<span class="l"><a class="anc" name="bb23" href="#bb23">[bb23]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [10]: UNUSED: Hit Wall effect</span></span>
<span class="l"><a class="anc" name="bb25" href="#bb25">[bb25]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_HitHandler_NoOp">CastMagic_HitHandler_NoOp</a>-1) &amp; $FFFF</span></span><span class="ce">; [11]: Tilte after first hit</span></span>
<span class="l"></span>
<span class="l"></span>
<a name="CAST_MAGIC_UPDATE_FINISH_HANDLERS"></a><div class="cp">;============================================================================
; Handlers for finishing casting a magic spell.
;
; XREFS:
;     <a href="PRG15_MIRROR.html#CastMagic_RunUpdateSpellHandler">CastMagic_RunUpdateSpellHandler</a>
;============================================================================
</div><span class="l"></span>
<div class="c">;
; XREFS:
;     <a href="PRG15_MIRROR.html#CastMagic_RunUpdateSpellHandler">CastMagic_RunUpdateSpellHandler</a>
;
</div><span class="l"><a class="anc" name="bb27" href="#bb27">[bb27]</a><a href="#CAST_MAGIC_UPDATE_FINISH_HANDLERS" class="la">CAST_MAGIC_UPDATE_FINISH_HANDLERS:</a><span class="ce">; [$bb27]</span></span>
<span class="l"><a class="anc" name="bb27" href="#bb27">[bb27]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Deluge">CastMagic_FinishHandler_Deluge</a>-1) &amp; $FFFF</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="bb29" href="#bb29">[bb29]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Thunder">CastMagic_FinishHandler_Thunder</a>-1) &amp; $FFFF</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="bb2b" href="#bb2b">[bb2b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Fire">CastMagic_FinishHandler_Fire</a>-1) &amp; $FFFF</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="bb2d" href="#bb2d">[bb2d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Death">CastMagic_FinishHandler_Death</a>-1) &amp; $FFFF</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="bb2f" href="#bb2f">[bb2f]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Tilte">CastMagic_FinishHandler_Tilte</a>-1) &amp; $FFFF</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"><a class="anc" name="bb31" href="#bb31">[bb31]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_DelugeOrDeathAfterHit">CastMagic_FinishHandler_DelugeOrDeathAfterHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [5]: Deluge after first hit</span></span>
<span class="l"><a class="anc" name="bb33" href="#bb33">[bb33]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Thunder">CastMagic_FinishHandler_Thunder</a>-1) &amp; $FFFF</span></span><span class="ce">; [6]: Thunder after first hit</span></span>
<span class="l"><a class="anc" name="bb35" href="#bb35">[bb35]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_Fire">CastMagic_FinishHandler_Fire</a>-1) &amp; $FFFF</span></span><span class="ce">; [7]: Fire after first hit</span></span>
<span class="l"><a class="anc" name="bb37" href="#bb37">[bb37]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_DelugeOrDeathAfterHit">CastMagic_FinishHandler_DelugeOrDeathAfterHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [8]: Death after first hit</span></span>
<span class="l"><a class="anc" name="bb39" href="#bb39">[bb39]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="#CastMagic_Noop">CastMagic_Noop</a>-1) &amp; $FFFF</span></span><span class="ce">; [9]: UNUSED</span></span>
<span class="l"><a class="anc" name="bb3b" href="#bb3b">[bb3b]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_HitWallEffect">CastMagic_FinishHandler_HitWallEffect</a>-1) &amp; $FFFF</span></span><span class="ce">; [10]: UNUSED: Hit Wall effect</span></span>
<span class="l"><a class="anc" name="bb3d" href="#bb3d">[bb3d]</a><span class="cd"><span class="i">.word</span> <span class="o">(<a href="PRG15_MIRROR.html#CastMagic_FinishHandler_TilteAfterFirstHit">CastMagic_FinishHandler_TilteAfterFirstHit</a>-1) &amp; $FFFF</span></span><span class="ce">; [11]: Tilte after first hit</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_Clear"></a><div class="cp">;============================================================================
; Clear the cast magic shown on the screen.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The cast magic type to clear.
;
; XREFS:
;     <a href="#CastMagic_UpdateDeluge">CastMagic_UpdateDeluge</a>
;     <a href="#CastMagic_UpdateFire">CastMagic_UpdateFire</a>
;     <a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a>
;     <a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>
;============================================================================
</div><span class="l"><a class="anc" name="bb3f" href="#bb3f">[bb3f]</a><a href="#CastMagic_Clear" class="la">CastMagic_Clear:</a><span class="ce">; [$bb3f]</span></span>
<span class="l"><a class="anc" name="bb3f" href="#bb3f">[bb3f]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bb41" href="#bb41">[bb41]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span></span>
<span class="l"><a class="anc" name="bb44" href="#bb44">[bb44]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateDeluge"></a><div class="cp">;============================================================================
; Handle casting or updating the Deluge spell.
;
; This will update the position, clearing the spell if it's
; either off-screen or collided with a block on the way.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Unused_HitWallDeltaPosY">CastMagic_Unused_HitWallDeltaPosY</a>:
;         Set to 4 if the magic hit an obstacle.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Unset if clearing the magic.
;
;     <a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a>:
;     <a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CastMagic_Clear">CastMagic_Clear</a>
;     <a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a>
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::baf7]
;     <a href="#CastMagic_Unused_UpdateDelugeAfterFirstHit">CastMagic_Unused_UpdateDelugeAfterFirstHit</a>
;============================================================================
</div><span class="l"><a class="anc" name="bb45" href="#bb45">[bb45]</a><a href="#CastMagic_UpdateDeluge" class="la">CastMagic_UpdateDeluge:</a><span class="ce">; [$bb45]</span></span>
<div class="c">;
; Update the position by X +/- 3 and check if the
; magic flew off-screen.
;
</div><span class="l"><a class="anc" name="bb45" href="#bb45">[bb45]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$03</span></span></span>
<span class="l"><a class="anc" name="bb47" href="#bb47">[bb47]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Set delta X block argument to 3.</span></span>
<span class="l"><a class="anc" name="bb4a" href="#bb4a">[bb4a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bb4c" href="#bb4c">[bb4c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Set delta X pixel argument to 0.</span></span>
<span class="l"><a class="anc" name="bb4f" href="#bb4f">[bb4f]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a></span></span><span class="ce">; Update position.</span></span>
<span class="l"><a class="anc" name="bb52" href="#bb52">[bb52]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_checkCollision">@_checkCollision</a></span></span><span class="ce">; If not off-screen, check for collision.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It's off-screen. Clear the magic.
;
</div><span class="l"><a class="anc" name="bb54" href="#bb54">[bb54]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_Clear">CastMagic_Clear</a></span></span><span class="ce">; Clear the magic.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bb57:@_checkCollision"></a><div class="c">;
; Check if the magic is on a block other than air.
;
</div><span class="l"><a class="anc" name="bb57" href="#bb57">[bb57]</a><a href="#:bb57:@_checkCollision" class="lla">@_checkCollision:</a><span class="ce">; [$bb57]</span></span>
<span class="l"><a class="anc" name="bb57" href="#bb57">[bb57]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Check which block the magic is on.</span></span>
<span class="l"><a class="anc" name="bb59" href="#bb59">[bb59]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If air, we're done.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It hit a block. Play the sound effect.
;
</div><span class="l"><a class="anc" name="bb5b" href="#bb5b">[bb5b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="bb5d" href="#bb5d">[bb5d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play the Magic Hit Obstacle sound effect.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Clear the magic spell.
;
; NOTE:
;     Originally, it seems this was meant to set a
;     Hit Wall effect instead. This can be re-enabled
;     by changing <a href="RAM.html#CastMagic_Type">CastMagic_Type</a> to 10.
;
</div><span class="l"><a class="anc" name="bb60" href="#bb60">[bb60]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bb62" href="#bb62">[bb62]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Unset the cast magic spell.</span></span>
<span class="l"><a class="anc" name="bb65" href="#bb65">[bb65]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="bb67" href="#bb67">[bb67]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Unused_HitWallDeltaPosY">CastMagic_Unused_HitWallDeltaPosY</a></span></span><span class="ce">; Set the Hit Wall appearance offset.</span></span>
<span class="l"></span>
<a name=":bb6a:@_return"></a><span class="l"><a class="anc" name="bb6a" href="#bb6a">[bb6a]</a><a href="#:bb6a:@_return" class="lla">@_return:</a><span class="ce">; [$bb6a]</span></span>
<span class="l"><a class="anc" name="bb6a" href="#bb6a">[bb6a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HitHandler_Deluge"></a><div class="cp">;============================================================================
; Handle the Deluge magic hitting something.
;
; This will set an animation counter, clear out the magic
; type, and update the X position based on the sprite's
; X position.
;
; INPUTS:
;     <a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a>:
;         The current sprite index of the entity that
;         was hit.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         Set to 4.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Unset (0xFF).
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The same position as the sprite that was hit.
;
; XREFS:
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb0f]
;============================================================================
</div><span class="l"><a class="anc" name="bb6b" href="#bb6b">[bb6b]</a><a href="#CastMagic_HitHandler_Deluge" class="la">CastMagic_HitHandler_Deluge:</a><span class="ce">; [$bb6b]</span></span>
<span class="l"><a class="anc" name="bb6b" href="#bb6b">[bb6b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bb6d" href="#bb6d">[bb6d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Unset the magic type.</span></span>
<span class="l"><a class="anc" name="bb70" href="#bb70">[bb70]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="bb72" href="#bb72">[bb72]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Set the magic counter to 4.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Update the X position of the cast magic to the sprite's
; x position.
;
</div><span class="l"><a class="anc" name="bb75" href="#bb75">[bb75]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = current sprite index</span></span>
<span class="l"><a class="anc" name="bb78" href="#bb78">[bb78]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#CurrentSprites_XPos_Full">CurrentSprites_XPos_Full</a>,X</span></span><span class="ce">; A = current sprite X position.</span></span>
<span class="l"><a class="anc" name="bb7a" href="#bb7a">[bb7a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Store as the X position.</span></span>
<span class="l"><a class="anc" name="bb7d" href="#bb7d">[bb7d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateThunderOrDeath"></a><div class="cp">;============================================================================
; Handle casting or updating the Thunder or Death spell.
;
; This will update the position, clearing the spell if it's
; off-screen. These spells can go through blocks.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a>:
;     <a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CastMagic_Clear">CastMagic_Clear</a>
;     <a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::baf9]
;     <a href="#CastMagic_HandleDeath">CastMagic_HandleDeath</a>
;     <a href="#CastMagic_UpdateThunderAfterFirstHit">CastMagic_UpdateThunderAfterFirstHit</a>
;============================================================================
</div><span class="l"><a class="anc" name="bb7e" href="#bb7e">[bb7e]</a><a href="#CastMagic_UpdateThunderOrDeath" class="la">CastMagic_UpdateThunderOrDeath:</a><span class="ce">; [$bb7e]</span></span>
<div class="c">;
; Update the position by X +/- 2 and check if the
; magic flew off-screen.
;
</div><span class="l"><a class="anc" name="bb7e" href="#bb7e">[bb7e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$02</span></span></span>
<span class="l"><a class="anc" name="bb80" href="#bb80">[bb80]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Set the delta X position to check to 2.</span></span>
<span class="l"><a class="anc" name="bb83" href="#bb83">[bb83]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bb85" href="#bb85">[bb85]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Set the delta fractional X position to 0.</span></span>
<span class="l"><a class="anc" name="bb88" href="#bb88">[bb88]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a></span></span><span class="ce">; Update the X position and check if it stayed on-screen.</span></span>
<span class="l"><a class="anc" name="bb8b" href="#bb8b">[bb8b]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If still on-screen, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It's off-screen. Clear the magic.
;
</div><span class="l"><a class="anc" name="bb8d" href="#bb8d">[bb8d]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_Clear">CastMagic_Clear</a></span></span><span class="ce">; Clear the magic.</span></span>
<span class="l"></span>
<a name=":bb90:@_return"></a><span class="l"><a class="anc" name="bb90" href="#bb90">[bb90]</a><a href="#:bb90:@_return" class="lla">@_return:</a><span class="ce">; [$bb90]</span></span>
<span class="l"><a class="anc" name="bb90" href="#bb90">[bb90]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HitHandler_Thunder"></a><div class="cp">;============================================================================
; Handle the Thunder magic hitting something.
;
; This will reset the animation counter (as it will
; still go through the enemy) and set a Thunder Explosion
; effect.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         Set to 0x18.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Set to the Thunder Explosion state.
;
; XREFS:
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb11]
;============================================================================
</div><span class="l"><a class="anc" name="bb91" href="#bb91">[bb91]</a><a href="#CastMagic_HitHandler_Thunder" class="la">CastMagic_HitHandler_Thunder:</a><span class="ce">; [$bb91]</span></span>
<span class="l"><a class="anc" name="bb91" href="#bb91">[bb91]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$18</span></span></span>
<span class="l"><a class="anc" name="bb93" href="#bb93">[bb93]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Set the magic counter to 24.</span></span>
<span class="l"><a class="anc" name="bb96" href="#bb96">[bb96]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$06</span></span></span>
<span class="l"><a class="anc" name="bb98" href="#bb98">[bb98]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Set the magic type to the thunder explosion effect.</span></span>
<span class="l"><a class="anc" name="bb9b" href="#bb9b">[bb9b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateFire"></a><div class="cp">;============================================================================
; Handle casting or updating the Fire spell.
;
; This will update the position, clearing the spell if it's
; either off-screen or collided with a block on the way.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Unused_HitWallDeltaPosY">CastMagic_Unused_HitWallDeltaPosY</a>:
;         Set to 0 if the magic hit an obstacle.
;
;     <a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a>:
;         Cleared attack flags.
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The new X position.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Unset if clearing the magic.
;
;     <a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a>:
;     <a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CastMagic_Clear">CastMagic_Clear</a>
;     <a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a>
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bafb]
;     <a href="#CastMagic_UpdateFireAfterFirstHit">CastMagic_UpdateFireAfterFirstHit</a>
;============================================================================
</div><span class="l"><a class="anc" name="bb9c" href="#bb9c">[bb9c]</a><a href="#CastMagic_UpdateFire" class="la">CastMagic_UpdateFire:</a><span class="ce">; [$bb9c]</span></span>
<div class="c">;
; Update X +/- 4 and check if the magic flew off-screen.
;
</div><span class="l"><a class="anc" name="bb9c" href="#bb9c">[bb9c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="bb9e" href="#bb9e">[bb9e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Full Delta X = 4</span></span>
<span class="l"><a class="anc" name="bba1" href="#bba1">[bba1]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bba3" href="#bba3">[bba3]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Fractional Delta X = 0</span></span>
<span class="l"><a class="anc" name="bba6" href="#bba6">[bba6]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a></span></span><span class="ce">; Update the X position.</span></span>
<span class="l"><a class="anc" name="bba9" href="#bba9">[bba9]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_checkCollision">@_checkCollision</a></span></span><span class="ce">; If not off-screen, check for collision.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It's off-screen. Clear the magic.
;
</div><span class="l"><a class="anc" name="bbab" href="#bbab">[bbab]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_Clear">CastMagic_Clear</a></span></span><span class="ce">; Clear the magic.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bbae:@_checkCollision"></a><div class="c">;
; Check if the magic is on a block other than air.
;
</div><span class="l"><a class="anc" name="bbae" href="#bbae">[bbae]</a><a href="#:bbae:@_checkCollision" class="lla">@_checkCollision:</a><span class="ce">; [$bbae]</span></span>
<span class="l"><a class="anc" name="bbae" href="#bbae">[bbae]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Check which block the magic is on.</span></span>
<span class="l"><a class="anc" name="bbb0" href="#bbb0">[bbb0]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If air, we're done.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It hit a block. Play the sound effect.
;
</div><span class="l"><a class="anc" name="bbb2" href="#bbb2">[bbb2]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0a</span></span></span>
<span class="l"><a class="anc" name="bbb4" href="#bbb4">[bbb4]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a></span></span><span class="ce">; Play the Magic Hit Obstacle sound effect.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Clear the magic spell.
;
; NOTE:
;     Originally, it seems this was meant to set a
;     Hit Wall effect instead. This can be re-enabled
;     by changing <a href="RAM.html#CastMagic_Type">CastMagic_Type</a> to 10.
;
</div><span class="l"><a class="anc" name="bbb7" href="#bbb7">[bbb7]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bbb9" href="#bbb9">[bbb9]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Unused_HitWallDeltaPosY">CastMagic_Unused_HitWallDeltaPosY</a></span></span><span class="ce">; Set the Hit Wall appearance offset.</span></span>
<span class="l"><a class="anc" name="bbbc" href="#bbbc">[bbbc]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bbbe" href="#bbbe">[bbbe]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Unset the cast magic spell.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Set the final X position.
;
; If facing right, this will add 16 to the position, letting
; it appear to go off-screen.
;
</div><span class="l"><a class="anc" name="bbc1" href="#bbc1">[bbc1]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the magic's flags.</span></span>
<span class="l"><a class="anc" name="bbc4" href="#bbc4">[bbc4]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span><span class="ce">; Check the direction bit.</span></span>
<span class="l"><a class="anc" name="bbc6" href="#bbc6">[bbc6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; If set, divide by 8 (resulting in 16).</span></span>
<span class="l"><a class="anc" name="bbc7" href="#bbc7">[bbc7]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span></span>
<span class="l"><a class="anc" name="bbc8" href="#bbc8">[bbc8]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Add to the current position.</span></span>
<span class="l"><a class="anc" name="bbcb" href="#bbcb">[bbcb]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; And set it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Switch the direction of the spell.
;
</div><span class="l"><a class="anc" name="bbce" href="#bbce">[bbce]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the flags.</span></span>
<span class="l"><a class="anc" name="bbd1" href="#bbd1">[bbd1]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span><span class="ce">; Clear the Attacking bit.</span></span>
<span class="l"><a class="anc" name="bbd3" href="#bbd3">[bbd3]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$40</span></span><span class="ce">; Toggle the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="bbd5" href="#bbd5">[bbd5]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<a name=":bbd8:@_return"></a><span class="l"><a class="anc" name="bbd8" href="#bbd8">[bbd8]</a><a href="#:bbd8:@_return" class="lla">@_return:</a><span class="ce">; [$bbd8]</span></span>
<span class="l"><a class="anc" name="bbd8" href="#bbd8">[bbd8]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HitHandler_Fire"></a><div class="cp">;============================================================================
; Handle the Fire magic hitting something.
;
; This will clear out the animation counter and then
; set the type to a Fire magic that will disappear
; after hitting 255 enemies (which won't happen).
;
; INPUTS:
;     <a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a>:
;         The current sprite index of the entity that
;         was hit.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         Set to 0xFF.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Set to the next type of Fire spell.
;
; XREFS:
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb13]
;============================================================================
</div><span class="l"><a class="anc" name="bbd9" href="#bbd9">[bbd9]</a><a href="#CastMagic_HitHandler_Fire" class="la">CastMagic_HitHandler_Fire:</a><span class="ce">; [$bbd9]</span></span>
<span class="l"><a class="anc" name="bbd9" href="#bbd9">[bbd9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bbdb" href="#bbdb">[bbdb]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Set the counter to 0xFF.</span></span>
<span class="l"><a class="anc" name="bbde" href="#bbde">[bbde]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$07</span></span></span>
<span class="l"><a class="anc" name="bbe0" href="#bbe0">[bbe0]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Set the magic type to the post-hit handler.</span></span>
<span class="l"><a class="anc" name="bbe3" href="#bbe3">[bbe3]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CurrentSpriteIndex">CurrentSpriteIndex</a></span></span><span class="ce">; X = Current sprite index.</span></span>
<span class="l"><a class="anc" name="bbe6" href="#bbe6">[bbe6]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HandleDeath"></a><div class="cp">;============================================================================
; Handle casting Thunder or Death magic.
;
; This is a thunking function that forwards to
; <a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a>.
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bafd]
;============================================================================
</div><span class="l"><a class="anc" name="bbe7" href="#bbe7">[bbe7]</a><a href="#CastMagic_HandleDeath" class="la">CastMagic_HandleDeath:</a><span class="ce">; [$bbe7]</span></span>
<span class="l"><a class="anc" name="bbe7" href="#bbe7">[bbe7]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HitHandler_Death"></a><div class="cp">;============================================================================
; Handle the Death magic hitting something.
;
; This will unset the magic from the screen.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Unset (0xFF).
;
; XREFS:
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb15]
;============================================================================
</div><span class="l"><a class="anc" name="bbea" href="#bbea">[bbea]</a><a href="#CastMagic_HitHandler_Death" class="la">CastMagic_HitHandler_Death:</a><span class="ce">; [$bbea]</span></span>
<span class="l"><a class="anc" name="bbea" href="#bbea">[bbea]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bbec" href="#bbec">[bbec]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Set the magic type to 0xFF (unset).</span></span>
<span class="l"><a class="anc" name="bbef" href="#bbef">[bbef]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="CastMagic_ClearTilte"></a><div class="c">;
; XREFS:
;     <a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>
;
</div><span class="l"><a class="anc" name="bbf0" href="#bbf0">[bbf0]</a><a href="#CastMagic_ClearTilte" class="la">CastMagic_ClearTilte:</a><span class="ce">; [$bbf0]</span></span>
<span class="l"><a class="anc" name="bbf0" href="#bbf0">[bbf0]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_Clear">CastMagic_Clear</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateTilte"></a><div class="cp">;============================================================================
; Handle casting or updating the Tilte spell.
;
; This spell has two phases:
;
; 1. A slow-moving curved phase
; 2. A fast-moving missile phase
;
; During phase 1, this will control the X/Y positions in a
; curved form. Depending on the tick count, it will move
; downward toward the bottom of the arc, horizontal at
; the bottom, back up, or begin a transition to phase 2.
;
; In phase 2, it will simply move in a single diagonal
; direction.
;
; The block won't collide with anything on the screen,
; and will move through enemies.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Unused_HitWallDeltaPosY">CastMagic_Unused_HitWallDeltaPosY</a>:
;         Set to 0 if the magic hit an obstacle.
;
;     <a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a>:
;         Cleared attack flags.
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The new X position.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Unset if clearing the magic.
;
;     <a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a>:
;     <a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CastMagic_Clear">CastMagic_Clear</a>
;     <a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a>
;     <a href="PRG15_MIRROR.html#Sound_PlayEffect">Sound_PlayEffect</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::baff]
;============================================================================
</div><span class="l"><a class="anc" name="bbf3" href="#bbf3">[bbf3]</a><a href="#CastMagic_UpdateTilte" class="la">CastMagic_UpdateTilte:</a><span class="ce">; [$bbf3]</span></span>
<div class="c">;
; Update based on the phase of this magic.
;
</div><span class="l"><a class="anc" name="bbf3" href="#bbf3">[bbf3]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Phase">CastMagic_Phase</a></span></span><span class="ce">; Check the phase.</span></span>
<span class="l"><a class="anc" name="bbf6" href="#bbf6">[bbf6]</a><span class="cd"><span class="i">LSR</span> <span class="o">A</span></span><span class="ce">; Check bit 0 for even/odd.</span></span>
<span class="l"><a class="anc" name="bbf7" href="#bbf7">[bbf7]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#@_curveMagicPhase">@_curveMagicPhase</a></span></span><span class="ce">; If odd, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; We're in the initial, curved magic phase. It dips down and
; then back up.
;
; Update X +/- 1 and check if the magic flew off the screen.
; We'll calculate gravity-based Y movement next.
;
</div><span class="l"><a class="anc" name="bbf9" href="#bbf9">[bbf9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span></span>
<span class="l"><a class="anc" name="bbfb" href="#bbfb">[bbfb]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Full Delta X = 1</span></span>
<span class="l"><a class="anc" name="bbfe" href="#bbfe">[bbfe]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bc00" href="#bc00">[bc00]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Fractional Delta X = 0</span></span>
<span class="l"><a class="anc" name="bc03" href="#bc03">[bc03]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a></span></span><span class="ce">; Update position.</span></span>
<span class="l"><a class="anc" name="bc06" href="#bc06">[bc06]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_ClearTilte">CastMagic_ClearTilte</a></span></span><span class="ce">; If off-screen, jump to clear.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Calculate the next movement behavior.
;
</div><span class="l"><a class="anc" name="bc08" href="#bc08">[bc08]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Load the magic tick counter.</span></span>
<span class="l"><a class="anc" name="bc0b" href="#bc0b">[bc0b]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span><span class="ce">; Y = 3</span></span>
<span class="l"><a class="anc" name="bc0d" href="#bc0d">[bc0d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcYFromGravity">Sprites_CalcYFromGravity</a></span></span><span class="ce">; Calculate the movement behavior (delta Y).</span></span>
<span class="l"><a class="anc" name="bc10" href="#bc10">[bc10]</a><span class="cd"><span class="i">LDY</span> <span class="o">#$03</span></span><span class="ce">; Y = 3 (count)</span></span>
<span class="l"><a class="anc" name="bc12" href="#bc12">[bc12]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#Sprites_CalcVerticalSpriteMovement">Sprites_CalcVerticalSpriteMovement</a></span></span><span class="ce">; Calculate vertical movement.</span></span>
<span class="l"><a class="anc" name="bc15" href="#bc15">[bc15]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bc17" href="#bc17">[bc17]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span><span class="ce">; Full Delta Y = 0</span></span>
<span class="l"><a class="anc" name="bc1a" href="#bc1a">[bc1a]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateYPosition">CastMagic_UpdateYPosition</a></span></span><span class="ce">; Update the Y position.</span></span>
<span class="l"><a class="anc" name="bc1d" href="#bc1d">[bc1d]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_ClearTilte">CastMagic_ClearTilte</a></span></span><span class="ce">; If off-screen, jump to clear.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; It's on-screen. Manage cycle of the magic.
;
; First, check if we're on tick 32, 64, 96, or 128.
;
</div><span class="l"><a class="anc" name="bc1f" href="#bc1f">[bc1f]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; A = counter.</span></span>
<span class="l"><a class="anc" name="bc22" href="#bc22">[bc22]</a><span class="cd"><span class="i">AND</span> <span class="o">#$1f</span></span><span class="ce">; Check against anything but 32, 64, or 128.</span></span>
<span class="l"><a class="anc" name="bc24" href="#bc24">[bc24]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_incAndReturn">@_incAndReturn</a></span></span><span class="ce">; If 32, 64, or 128, jump to finish up.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; We're on a non-32/64/128 phase, dictating curve movement
; and possibly phase transition.
;
; When 32 is hit, the magic will appear and move downward.
;
; When 64 is hit, it will begin moving horizontally at the
; bottom of the arc.
;
; When 96 is hit, it will begin moving upward toward the
; top of the arc.
;
; When 128 is hit, it will transition to the missile phase.
;
</div><span class="l"><a class="anc" name="bc26" href="#bc26">[bc26]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the magic flags.</span></span>
<span class="l"><a class="anc" name="bc29" href="#bc29">[bc29]</a><span class="cd"><span class="i">EOR</span> <span class="o">#$80</span></span><span class="ce">; Toggle the Falling phase.</span></span>
<span class="l"><a class="anc" name="bc2b" href="#bc2b">[bc2b]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Store the updated flags.</span></span>
<span class="l"><a class="anc" name="bc2e" href="#bc2e">[bc2e]</a><span class="cd"><span class="i">BPL</span> <span class="o"><a href="#@_incAndReturn">@_incAndReturn</a></span></span><span class="ce">; If attacking is clear, jump to finish up.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Switch to the missile phase.
;
</div><span class="l"><a class="anc" name="bc30" href="#bc30">[bc30]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#CastMagic_Phase">CastMagic_Phase</a></span></span><span class="ce">; Increment the phase.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Clear the falling flag, moving back up.
;
</div><span class="l"><a class="anc" name="bc33" href="#bc33">[bc33]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the magic flags.</span></span>
<span class="l"><a class="anc" name="bc36" href="#bc36">[bc36]</a><span class="cd"><span class="i">AND</span> <span class="o">#$7f</span></span><span class="ce">; Clear attacking.</span></span>
<span class="l"><a class="anc" name="bc38" href="#bc38">[bc38]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"><a class="anc" name="bc3b" href="#bc3b">[bc3b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name=":bc3c:@_incAndReturn"></a><span class="l"><a class="anc" name="bc3c" href="#bc3c">[bc3c]</a><a href="#:bc3c:@_incAndReturn" class="lla">@_incAndReturn:</a><span class="ce">; [$bc3c]</span></span>
<span class="l"><a class="anc" name="bc3c" href="#bc3c">[bc3c]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Increment the tick counter.</span></span>
<span class="l"><a class="anc" name="bc3f" href="#bc3f">[bc3f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bc40:@_curveMagicPhase"></a><div class="c">;
; The magic is in the fast-moving diagonal missile phase.
;
; We'll update X +/- 4 and Y + 4 for the movement, annd check
; if it's off-screen.
;
</div><span class="l"><a class="anc" name="bc40" href="#bc40">[bc40]</a><a href="#:bc40:@_curveMagicPhase" class="lla">@_curveMagicPhase:</a><span class="ce">; [$bc40]</span></span>
<span class="l"><a class="anc" name="bc40" href="#bc40">[bc40]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$04</span></span></span>
<span class="l"><a class="anc" name="bc42" href="#bc42">[bc42]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Full Delta X = 4</span></span>
<span class="l"><a class="anc" name="bc45" href="#bc45">[bc45]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span><span class="ce">; Full Delta Y = 4</span></span>
<span class="l"><a class="anc" name="bc48" href="#bc48">[bc48]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bc4a" href="#bc4a">[bc4a]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Fractional Delta X = 0</span></span>
<span class="l"><a class="anc" name="bc4d" href="#bc4d">[bc4d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span><span class="ce">; Fractional Delta Y = 0</span></span>
<span class="l"><a class="anc" name="bc50" href="#bc50">[bc50]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a></span></span><span class="ce">; Update the X position.</span></span>
<span class="l"><a class="anc" name="bc53" href="#bc53">[bc53]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_ClearTilte">CastMagic_ClearTilte</a></span></span><span class="ce">; If off-screen, jump to clear.</span></span>
<span class="l"><a class="anc" name="bc55" href="#bc55">[bc55]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateYPosition">CastMagic_UpdateYPosition</a></span></span><span class="ce">; Update the Y position.</span></span>
<span class="l"><a class="anc" name="bc58" href="#bc58">[bc58]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_ClearTilte">CastMagic_ClearTilte</a></span></span><span class="ce">; If off-screen, jump to clear.</span></span>
<span class="l"><a class="anc" name="bc5a" href="#bc5a">[bc5a]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_HitHandler_Tilte"></a><div class="cp">;============================================================================
; Handle Tilte magic hitting something.
;
; This will turn off the transition counter and
; set the type to be the Tilte explosion effect.
;
; INPUTS:
;     None
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         Reset to 0.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Set to the Tilte Explosion type.
;
; XREFS:
;     <a href="#CAST_MAGIC_HIT_HANDLERS">CAST_MAGIC_HIT_HANDLERS</a> [$PRG14::bb17]
;============================================================================
</div><span class="l"><a class="anc" name="bc5b" href="#bc5b">[bc5b]</a><a href="#CastMagic_HitHandler_Tilte" class="la">CastMagic_HitHandler_Tilte:</a><span class="ce">; [$bc5b]</span></span>
<span class="l"><a class="anc" name="bc5b" href="#bc5b">[bc5b]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span></span>
<span class="l"><a class="anc" name="bc5d" href="#bc5d">[bc5d]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Set the counter to 0.</span></span>
<span class="l"><a class="anc" name="bc60" href="#bc60">[bc60]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$0b</span></span></span>
<span class="l"><a class="anc" name="bc62" href="#bc62">[bc62]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Set the type to the post-collision Tilte type.</span></span>
<span class="l"><a class="anc" name="bc65" href="#bc65">[bc65]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_Unused_UpdateDelugeAfterFirstHit"></a><div class="cp">;============================================================================
; UNUSED: Handle updating a Deluge spell that has collided at least once.
;
; This would update the Deluge spell as normal, and then
; decrement a tick counter. Once that counter hits 0, the
; spell will clear.
;
; However, this never actually gets run. Instead, the spell
; is cleared as soon as the first hit occurs.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The counter indicating the max number of ticks
;         before disappearing.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The decremented counter value.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The cleared magic type, if the counter reaches 0.
;
; CALLS:
;     <a href="#CastMagic_UpdateDeluge">CastMagic_UpdateDeluge</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb01]
;============================================================================
</div><span class="l"><a class="anc" name="bc66" href="#bc66">[bc66]</a><a href="#CastMagic_Unused_UpdateDelugeAfterFirstHit" class="la">CastMagic_Unused_UpdateDelugeAfterFirstHit:</a><span class="ce">; [$bc66]</span></span>
<span class="l"><a class="anc" name="bc66" href="#bc66">[bc66]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateDeluge">CastMagic_UpdateDeluge</a></span></span><span class="ce">; Run standard Deluge behavior.</span></span>
<span class="l"><a class="anc" name="bc69" href="#bc69">[bc69]</a><span class="cd"><span class="i">DEC</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Decrement the tick counter.</span></span>
<span class="l"><a class="anc" name="bc6c" href="#bc6c">[bc6c]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If &gt; 0, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic spell has dissipated. Clear it.
;
</div><span class="l"><a class="anc" name="bc6e" href="#bc6e">[bc6e]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bc70" href="#bc70">[bc70]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Clear the active magic spell.</span></span>
<span class="l"></span>
<a name=":bc73:@_return"></a><span class="l"><a class="anc" name="bc73" href="#bc73">[bc73]</a><a href="#:bc73:@_return" class="lla">@_return:</a><span class="ce">; [$bc73]</span></span>
<span class="l"><a class="anc" name="bc73" href="#bc73">[bc73]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateThunderAfterFirstHit"></a><div class="cp">;============================================================================
; Handle updating a Thunder spell that has collided at least once.
;
; This will update the Thunder spell as normal, and then
; decrement a tick counter. Once that counter hits 0, the
; spell will clear.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The counter indicating the max number of ticks
;         before disappearing.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The decremented counter value.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The cleared magic type, if the counter reaches 0.
;
; CALLS:
;     <a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb03]
;============================================================================
</div><span class="l"><a class="anc" name="bc74" href="#bc74">[bc74]</a><a href="#CastMagic_UpdateThunderAfterFirstHit" class="la">CastMagic_UpdateThunderAfterFirstHit:</a><span class="ce">; [$bc74]</span></span>
<span class="l"><a class="anc" name="bc74" href="#bc74">[bc74]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a></span></span><span class="ce">; Run standard Thunder behavior.</span></span>
<span class="l"><a class="anc" name="bc77" href="#bc77">[bc77]</a><span class="cd"><span class="i">DEC</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Decrement the tick counter.</span></span>
<span class="l"><a class="anc" name="bc7a" href="#bc7a">[bc7a]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If &gt; 0, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic spell has dissipated. Clear it.
;
</div><span class="l"><a class="anc" name="bc7c" href="#bc7c">[bc7c]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bc7e" href="#bc7e">[bc7e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Clear the active magic spell.</span></span>
<span class="l"></span>
<a name=":bc81:@_return"></a><span class="l"><a class="anc" name="bc81" href="#bc81">[bc81]</a><a href="#:bc81:@_return" class="lla">@_return:</a><span class="ce">; [$bc81]</span></span>
<span class="l"><a class="anc" name="bc81" href="#bc81">[bc81]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateFireAfterFirstHit"></a><div class="cp">;============================================================================
; Handle updating a Fire spell that has collided at least once.
;
; This will update the Fire spell as normal, and then
; decrement a tick counter. Once that counter hits 0, the
; spell will clear.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The counter indicating the max number of ticks
;         before disappearing.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The decremented counter value.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The cleared magic type, if the counter reaches 0.
;
; CALLS:
;     <a href="#CastMagic_UpdateFire">CastMagic_UpdateFire</a>
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb05]
;============================================================================
</div><span class="l"><a class="anc" name="bc82" href="#bc82">[bc82]</a><a href="#CastMagic_UpdateFireAfterFirstHit" class="la">CastMagic_UpdateFireAfterFirstHit:</a><span class="ce">; [$bc82]</span></span>
<span class="l"><a class="anc" name="bc82" href="#bc82">[bc82]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_UpdateFire">CastMagic_UpdateFire</a></span></span><span class="ce">; Run standard Fire behavior.</span></span>
<span class="l"><a class="anc" name="bc85" href="#bc85">[bc85]</a><span class="cd"><span class="i">DEC</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Decrement the tick counter.</span></span>
<span class="l"><a class="anc" name="bc88" href="#bc88">[bc88]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If &gt; 0, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic spell has dissipated. Clear it.
;
</div><span class="l"><a class="anc" name="bc8a" href="#bc8a">[bc8a]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bc8c" href="#bc8c">[bc8c]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Clear the active magic spell.</span></span>
<span class="l"></span>
<a name=":bc8f:@_return"></a><span class="l"><a class="anc" name="bc8f" href="#bc8f">[bc8f]</a><a href="#:bc8f:@_return" class="lla">@_return:</a><span class="ce">; [$bc8f]</span></span>
<span class="l"><a class="anc" name="bc8f" href="#bc8f">[bc8f]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateDeathAfterFirstHit"></a><div class="cp">;============================================================================
; Handle updating a Death spell that has collided at least once.
;
; This will immediately clear the current magic type.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     None.
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb07]
;============================================================================
</div><span class="l"><a class="anc" name="bc90" href="#bc90">[bc90]</a><a href="#CastMagic_UpdateDeathAfterFirstHit" class="la">CastMagic_UpdateDeathAfterFirstHit:</a><span class="ce">; [$bc90]</span></span>
<span class="l"><a class="anc" name="bc90" href="#bc90">[bc90]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bc92" href="#bc92">[bc92]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Clear the active magic spell.</span></span>
<span class="l"><a class="anc" name="bc95" href="#bc95">[bc95]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<div class="cp">;============================================================================
; UNUSED
;============================================================================
</div><span class="l"><a class="anc" name="bc96" href="#bc96">[bc96]</a><span class="cd"><span class="i">JMP</span> <span class="o"><a href="#CastMagic_Clear">CastMagic_Clear</a></span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_Unused_UpdateHitWallEffect"></a><div class="cp">;============================================================================
; UNUSED: Handle updating magic type 10.
;
; This isn't a type used in the game. If called, this
; would clear the current magic type.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         Unset.
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb0b]
;============================================================================
</div><span class="l"><a class="anc" name="bc99" href="#bc99">[bc99]</a><a href="#CastMagic_Unused_UpdateHitWallEffect" class="la">CastMagic_Unused_UpdateHitWallEffect:</a><span class="ce">; [$bc99]</span></span>
<span class="l"><a class="anc" name="bc99" href="#bc99">[bc99]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bc9b" href="#bc9b">[bc9b]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Clear the active magic spell.</span></span>
<span class="l"><a class="anc" name="bc9e" href="#bc9e">[bc9e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateTilteAfterFirstHit"></a><div class="cp">;============================================================================
; Handle updating a Tilte spell that has collided at least once.
;
; This will simply increment the tick counter. Once that is &gt;= 16,
; the spell will clear.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The counter indicating the max number of ticks
;         before disappearing.
;
; OUTPUTS:
;     <a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a>:
;         The incremented counter value.
;
;     <a href="RAM.html#CastMagic_Type">CastMagic_Type</a>:
;         The cleared magic type, if the counter reaches 16 or
;         higher.
;
; XREFS:
;     <a href="#CAST_MAGIC_UPDATE_HANDLERS">CAST_MAGIC_UPDATE_HANDLERS</a> [$PRG14::bb0d]
;============================================================================
</div><span class="l"><a class="anc" name="bc9f" href="#bc9f">[bc9f]</a><a href="#CastMagic_UpdateTilteAfterFirstHit" class="la">CastMagic_UpdateTilteAfterFirstHit:</a><span class="ce">; [$bc9f]</span></span>
<span class="l"><a class="anc" name="bc9f" href="#bc9f">[bc9f]</a><span class="cd"><span class="i">INC</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Increment the tick counter.</span></span>
<span class="l"><a class="anc" name="bca2" href="#bca2">[bca2]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Counter">CastMagic_Counter</a></span></span><span class="ce">; Load the counter value.</span></span>
<span class="l"><a class="anc" name="bca5" href="#bca5">[bca5]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$10</span></span><span class="ce">; Is it &lt; 16?</span></span>
<span class="l"><a class="anc" name="bca7" href="#bca7">[bca7]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If so, return.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic spell has dissipated. Clear it.
;
</div><span class="l"><a class="anc" name="bca9" href="#bca9">[bca9]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$ff</span></span></span>
<span class="l"><a class="anc" name="bcab" href="#bcab">[bcab]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Clear the active magic spell.</span></span>
<span class="l"></span>
<a name=":bcae:@_return"></a><span class="l"><a class="anc" name="bcae" href="#bcae">[bcae]</a><a href="#:bcae:@_return" class="lla">@_return:</a><span class="ce">; [$bcae]</span></span>
<span class="l"><a class="anc" name="bcae" href="#bcae">[bcae]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateXPosition"></a><div class="cp">;============================================================================
; Update magic's position in the X direction.
;
; This will take the delta X values and update the position
; accordingly.
;
; If the resulting position is off-screen, the magic will
; be set to disperse.
;
; INPUTS:
;     <a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a>:
;         The full delta Y value to add/subtract.
;
;     <a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a>:
;         The fractional delta Y value to add/subtract.
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The current block Y position.
;
;     <a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a>:
;         The current fractional Y position.
;
;     <a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a>:
;         Flag for the magic.
;
; OUTPUTS:
;     C:
;         0 = The magic is on-screen
;         1 = The magic if off-scren.
;
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The updated block X position.
;
;     <a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a>:
;         The updated fractional X position.
;
; CALLS:
;     <a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a>
;
; XREFS:
;     <a href="#CastMagic_UpdateDeluge">CastMagic_UpdateDeluge</a>
;     <a href="#CastMagic_UpdateFire">CastMagic_UpdateFire</a>
;     <a href="#CastMagic_UpdateThunderOrDeath">CastMagic_UpdateThunderOrDeath</a>
;     <a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>
;============================================================================
</div><span class="l"><a class="anc" name="bcaf" href="#bcaf">[bcaf]</a><a href="#CastMagic_UpdateXPosition" class="la">CastMagic_UpdateXPosition:</a><span class="ce">; [$bcaf]</span></span>
<span class="l"><a class="anc" name="bcaf" href="#bcaf">[bcaf]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the magic's flags.</span></span>
<span class="l"><a class="anc" name="bcb2" href="#bcb2">[bcb2]</a><span class="cd"><span class="i">AND</span> <span class="o">#$40</span></span><span class="ce">; Check the Facing Right bit.</span></span>
<span class="l"><a class="anc" name="bcb4" href="#bcb4">[bcb4]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_isRight">@_isRight</a></span></span><span class="ce">; If it's set, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic is moving left.
;
; Update the fractional X value based on the provided delta.
;
</div><span class="l"><a class="anc" name="bcb6" href="#bcb6">[bcb6]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a></span></span><span class="ce">; Load the fractional X position.</span></span>
<span class="l"><a class="anc" name="bcb9" href="#bcb9">[bcb9]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="bcba" href="#bcba">[bcba]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Subtract the provided delta.</span></span>
<span class="l"><a class="anc" name="bcbd" href="#bcbd">[bcbd]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Now update the full X position.
;
</div><span class="l"><a class="anc" name="bcc0" href="#bcc0">[bcc0]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Load the full X position.</span></span>
<span class="l"><a class="anc" name="bcc3" href="#bcc3">[bcc3]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Subtract the provided delta.</span></span>
<span class="l"><a class="anc" name="bcc6" href="#bcc6">[bcc6]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check for collision/off-screen in the Left direction.
;
</div><span class="l"><a class="anc" name="bcc9" href="#bcc9">[bcc9]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$00</span></span><span class="ce">; 0 = Left</span></span>
<span class="l"><a class="anc" name="bccb" href="#bccb">[bccb]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a></span></span><span class="ce">; Check for collision/off-screen in the left direction.</span></span>
<span class="l"><a class="anc" name="bcce" href="#bcce">[bcce]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Load the block X coordinate.</span></span>
<span class="l"><a class="anc" name="bcd1" href="#bcd1">[bcd1]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span><span class="ce">; Set C=0 if on-screen, 1 if off-screen (wrapped around).</span></span>
<span class="l"><a class="anc" name="bcd3" href="#bcd3">[bcd3]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bcd4:@_isRight"></a><div class="c">;
; The magic is moving right.
;
; Update the fractional X value based on the provided delta.
;
</div><span class="l"><a class="anc" name="bcd4" href="#bcd4">[bcd4]</a><a href="#:bcd4:@_isRight" class="lla">@_isRight:</a><span class="ce">; [$bcd4]</span></span>
<span class="l"><a class="anc" name="bcd4" href="#bcd4">[bcd4]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a></span></span><span class="ce">; Load the fractional X coordinate.</span></span>
<span class="l"><a class="anc" name="bcd7" href="#bcd7">[bcd7]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="bcd8" href="#bcd8">[bcd8]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Frac">Arg_DeltaX_Frac</a></span></span><span class="ce">; Add the provided delta.</span></span>
<span class="l"><a class="anc" name="bcdb" href="#bcdb">[bcdb]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Frac">CastMagic_XPos_Frac</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Now update the full X position.
;
</div><span class="l"><a class="anc" name="bcde" href="#bcde">[bcde]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Load the full X coordinate.</span></span>
<span class="l"><a class="anc" name="bce1" href="#bce1">[bce1]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaX_Full">Arg_DeltaX_Full</a></span></span><span class="ce">; Add the delta.</span></span>
<span class="l"><a class="anc" name="bce4" href="#bce4">[bce4]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check for collision/off-screen in the Right direction.
;
</div><span class="l"><a class="anc" name="bce7" href="#bce7">[bce7]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$01</span></span><span class="ce">; X = Right</span></span>
<span class="l"><a class="anc" name="bce9" href="#bce9">[bce9]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a></span></span><span class="ce">; Check for collision/off-screen in the right direction.</span></span>
<span class="l"><a class="anc" name="bcec" href="#bcec">[bcec]</a><span class="cd"><span class="i">LDX</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; X = Magic type.</span></span>
<span class="l"><a class="anc" name="bcef" href="#bcef">[bcef]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; A = Full X position.</span></span>
<span class="l"><a class="anc" name="bcf2" href="#bcf2">[bcf2]</a><span class="cd"><span class="i">CMP</span> <span class="o"><a href="#CAST_MAGIC_MAX_SCREEN_WIDTHS">CAST_MAGIC_MAX_SCREEN_WIDTHS</a>,X</span></span><span class="ce">; Compare the X position to the off-screen X position, and set C as the result.</span></span>
<span class="l"><a class="anc" name="bcf5" href="#bcf5">[bcf5]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="CAST_MAGIC_MAX_SCREEN_WIDTHS"></a><div class="c">;
; XREFS:
;     <a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a>
;
</div><span class="l"><a class="anc" name="bcf6" href="#bcf6">[bcf6]</a><a href="#CAST_MAGIC_MAX_SCREEN_WIDTHS" class="la">CAST_MAGIC_MAX_SCREEN_WIDTHS:</a><span class="ce">; [$bcf6]</span></span>
<span class="l"><a class="anc" name="bcf6" href="#bcf6">[bcf6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [0]:</span></span>
<span class="l"><a class="anc" name="bcf7" href="#bcf7">[bcf7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [1]:</span></span>
<span class="l"><a class="anc" name="bcf8" href="#bcf8">[bcf8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$e0</span></span><span class="ce">; [2]:</span></span>
<span class="l"><a class="anc" name="bcf9" href="#bcf9">[bcf9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [3]:</span></span>
<span class="l"><a class="anc" name="bcfa" href="#bcfa">[bcfa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$f0</span></span><span class="ce">; [4]:</span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_UpdateYPosition"></a><div class="cp">;============================================================================
; Update magic's position in the Y direction.
;
; This will take the delta Y values and update the position
; accordingly.
;
; If the resulting position is off-screen or collides with
; something, the magic will be set to disperse.
;
; INPUTS:
;     <a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a>:
;         The full delta Y value to add/subtract.
;
;     <a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a>:
;         The fractional delta Y value to add/subtract.
;
;     <a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a>:
;         The current block Y position.
;
;     <a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a>:
;         The current fractional Y position.
;
;     <a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a>:
;         Flag for the magic.
;
; OUTPUTS:
;     C:
;         0 = The magic is on-screen
;         1 = The magic if off-scren.
;
;     <a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a>:
;         The updated block Y position.
;
;     <a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a>:
;         The updated fractional Y position.
;
; CALLS:
;     <a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a>
;
; XREFS:
;     <a href="#CastMagic_UpdateTilte">CastMagic_UpdateTilte</a>
;============================================================================
</div><span class="l"><a class="anc" name="bcfb" href="#bcfb">[bcfb]</a><a href="#CastMagic_UpdateYPosition" class="la">CastMagic_UpdateYPosition:</a><span class="ce">; [$bcfb]</span></span>
<span class="l"><a class="anc" name="bcfb" href="#bcfb">[bcfb]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_Flags">CastMagic_Flags</a></span></span><span class="ce">; Load the magic's flags.</span></span>
<span class="l"><a class="anc" name="bcfe" href="#bcfe">[bcfe]</a><span class="cd"><span class="i">BMI</span> <span class="o"><a href="#@_isMovingDown">@_isMovingDown</a></span></span><span class="ce">; If it's moving up, jump.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The magic is moving upward.
;
; Update the fractional Y value based on the provided delta.
;
</div><span class="l"><a class="anc" name="bd00" href="#bd00">[bd00]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a></span></span><span class="ce">; Load the fractional Y coordinate.</span></span>
<span class="l"><a class="anc" name="bd03" href="#bd03">[bd03]</a><span class="cd"><span class="i">SEC</span></span></span>
<span class="l"><a class="anc" name="bd04" href="#bd04">[bd04]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span><span class="ce">; Subtract the provided delta value.</span></span>
<span class="l"><a class="anc" name="bd07" href="#bd07">[bd07]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a></span></span><span class="ce">; Store as the new fractional Y coordinate.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Now update the block Y value.
;
</div><span class="l"><a class="anc" name="bd0a" href="#bd0a">[bd0a]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Load the block Y coordinate.</span></span>
<span class="l"><a class="anc" name="bd0d" href="#bd0d">[bd0d]</a><span class="cd"><span class="i">SBC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span><span class="ce">; Subtract the provided delta value.</span></span>
<span class="l"><a class="anc" name="bd10" href="#bd10">[bd10]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check for collision/off-screen in the Up direction.
;
</div><span class="l"><a class="anc" name="bd13" href="#bd13">[bd13]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$02</span></span><span class="ce">; X = 2 (up)</span></span>
<span class="l"><a class="anc" name="bd15" href="#bd15">[bd15]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a></span></span><span class="ce">; Check for collision/off-screen in the up direction.</span></span>
<span class="l"><a class="anc" name="bd18" href="#bd18">[bd18]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Load the block Y coordiante.</span></span>
<span class="l"><a class="anc" name="bd1b" href="#bd1b">[bd1b]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span><span class="ce">; Set C=0 if on-screen, 1 if off-screen.</span></span>
<span class="l"><a class="anc" name="bd1d" href="#bd1d">[bd1d]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bd1e:@_isMovingDown"></a><div class="c">;
; The magic is moving downward.
;
; Update the fractional Y value based on the provided delta.
;
</div><span class="l"><a class="anc" name="bd1e" href="#bd1e">[bd1e]</a><a href="#:bd1e:@_isMovingDown" class="lla">@_isMovingDown:</a><span class="ce">; [$bd1e]</span></span>
<span class="l"><a class="anc" name="bd1e" href="#bd1e">[bd1e]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a></span></span><span class="ce">; Load the fractional Y coordinate.</span></span>
<span class="l"><a class="anc" name="bd21" href="#bd21">[bd21]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="bd22" href="#bd22">[bd22]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span><span class="ce">; Add the provided delta value.</span></span>
<span class="l"><a class="anc" name="bd25" href="#bd25">[bd25]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Frac">CastMagic_YPos_Frac</a></span></span><span class="ce">; Store as the new fractional Y coordinate.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Now update the block Y value.
;
</div><span class="l"><a class="anc" name="bd28" href="#bd28">[bd28]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Load the block Y coordinate.</span></span>
<span class="l"><a class="anc" name="bd2b" href="#bd2b">[bd2b]</a><span class="cd"><span class="i">ADC</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Full">Arg_DeltaY_Full</a></span></span><span class="ce">; Subtract the provided delta value.</span></span>
<span class="l"><a class="anc" name="bd2e" href="#bd2e">[bd2e]</a><span class="cd"><span class="i">STA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Store it.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; Check for collision/off-screen in the Up direction.
;
</div><span class="l"><a class="anc" name="bd31" href="#bd31">[bd31]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#Arg_DeltaY_Frac">Arg_DeltaY_Frac</a></span></span><span class="ce">; Load the provided fractional Y delta.</span></span>
<span class="l"><a class="anc" name="bd34" href="#bd34">[bd34]</a><span class="cd"><span class="i">PHP</span></span><span class="ce">; Push flags to the stack.</span></span>
<span class="l"><a class="anc" name="bd35" href="#bd35">[bd35]</a><span class="cd"><span class="i">LDX</span> <span class="o">#$03</span></span><span class="ce">; X = 3 (down)</span></span>
<span class="l"><a class="anc" name="bd37" href="#bd37">[bd37]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a></span></span><span class="ce">; Check for collision/off-screen in the down direction.</span></span>
<span class="l"><a class="anc" name="bd3a" href="#bd3a">[bd3a]</a><span class="cd"><span class="i">PLP</span></span><span class="ce">; Pop flags from the stack.</span></span>
<span class="l"><a class="anc" name="bd3b" href="#bd3b">[bd3b]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_CheckDirection_Left"></a><div class="cp">;============================================================================
; Check if magic moving left should disperse.
;
; If the magic is off the screen, or hits something.
; magic will be set to disperse.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The block X position of the magic spell.
;
; OUTPUTS:
;     <a href="RAM.html#Blocks_Result">Blocks_Result</a>:
;         1 if magic should disperse.
;         0 if it can remain on screen.
;
;     <a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CastMagic_CheckDirection_CheckImpassable">CastMagic_CheckDirection_CheckImpassable</a>
;
; XREFS:
;     <a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a>
;============================================================================
</div><span class="l"><a class="anc" name="bd3c" href="#bd3c">[bd3c]</a><a href="#CastMagic_CheckDirection_Left" class="la">CastMagic_CheckDirection_Left:</a><span class="ce">; [$bd3c]</span></span>
<span class="l"><a class="anc" name="bd3c" href="#bd3c">[bd3c]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; A = Magic X position</span></span>
<span class="l"><a class="anc" name="bd3f" href="#bd3f">[bd3f]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span><span class="ce">; Store as the pixel position to check.</span></span>
<span class="l"><a class="anc" name="bd41" href="#bd41">[bd41]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$f0</span></span><span class="ce">; Is it on-screen?</span></span>
<span class="l"><a class="anc" name="bd43" href="#bd43">[bd43]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#CastMagic_CheckDirection_CheckImpassable">CastMagic_CheckDirection_CheckImpassable</a></span></span><span class="ce">; If so, jump to check in a Y direction.
Else, fall through.</span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_SetShouldDisperse"></a><div class="cp">;============================================================================
; Set a result stating magic should disperse.
;
; This is used as a utility by magic position checking
; functions.
;
; INPUTS:
;     None.
;
; OUTPUTS:
;     <a href="RAM.html#Blocks_Result">Blocks_Result</a>:
;         Set to 1.
;
; XREFS:
;     <a href="#CastMagic_CheckDirection_Right">CastMagic_CheckDirection_Right</a>
;============================================================================
</div><span class="l"><a class="anc" name="bd45" href="#bd45">[bd45]</a><a href="#CastMagic_SetShouldDisperse" class="la">CastMagic_SetShouldDisperse:</a><span class="ce">; [$bd45]</span></span>
<span class="l"><a class="anc" name="bd45" href="#bd45">[bd45]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$01</span></span><span class="ce">; A = 1 (true)</span></span>
<span class="l"><a class="anc" name="bd47" href="#bd47">[bd47]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Set as the result.</span></span>
<span class="l"><a class="anc" name="bd49" href="#bd49">[bd49]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_CheckDirection_Right"></a><div class="cp">;============================================================================
; Check if magic moving right should disperse.
;
; If the magic is off the screen, or hits something.
; magic will be set to disperse.
;
; INPUTS:
;     <a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a>:
;         The block X position of the magic spell.
;
; OUTPUTS:
;     <a href="RAM.html#Blocks_Result">Blocks_Result</a>:
;         1 if magic should disperse.
;         0 if it can remain on screen.
;
;     <a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a>:
;         Clobbered.
;
; CALLS:
;     <a href="#CastMagic_CheckDirection_CheckImpassable">CastMagic_CheckDirection_CheckImpassable</a>
;
; XREFS:
;     <a href="#CastMagic_CheckDirection">CastMagic_CheckDirection</a>
;============================================================================
</div><span class="l"><a class="anc" name="bd4a" href="#bd4a">[bd4a]</a><a href="#CastMagic_CheckDirection_Right" class="la">CastMagic_CheckDirection_Right:</a><span class="ce">; [$bd4a]</span></span>
<span class="l"><a class="anc" name="bd4a" href="#bd4a">[bd4a]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Y = Magic type</span></span>
<span class="l"><a class="anc" name="bd4d" href="#bd4d">[bd4d]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_XPos_Full">CastMagic_XPos_Full</a></span></span><span class="ce">; A = Block X position.</span></span>
<span class="l"><a class="anc" name="bd50" href="#bd50">[bd50]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="bd51" href="#bd51">[bd51]</a><span class="cd"><span class="i">ADC</span> <span class="o"><a href="#CAST_MAGIC_WIDTHS">CAST_MAGIC_WIDTHS</a>,Y</span></span><span class="ce">; Add a width based on the magic type.</span></span>
<span class="l"><a class="anc" name="bd54" href="#bd54">[bd54]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a></span></span><span class="ce">; Store as the X argument.</span></span>
<span class="l"><a class="anc" name="bd56" href="#bd56">[bd56]</a><span class="cd"><span class="i">BCS</span> <span class="o"><a href="#CastMagic_SetShouldDisperse">CastMagic_SetShouldDisperse</a></span></span><span class="ce">; If the value wraps off-screen, jump to set dispersed.
Else, fall through.</span></span>
<span class="l"></span>
<div class="c">;
; v-- Fall through --v
;
</div><span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_CheckDirection_CheckImpassable"></a><div class="cp">;============================================================================
; Check if the magic spell has hit an impassable block.
;
; This is called after checking a magic in an X direction.
; It will check the blocks overlapping the magic's sprite
; (middle block, then lower block, then upper, as
; appropriate) and set state if the spell has hit something.
;
; INPUTS:
;     <a href="RAM.html#Arg_PixelPosX">Arg_PixelPosX</a>:
;         The previously-calculated pixel X position of the
;         magic spell.
;
;     <a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a>:
;         The magic's full Y position.
;
; OUTPUTS:
;     <a href="RAM.html#Blocks_Result">Blocks_Result</a>:
;         1 = The spell hit an impassable block.
;         0 = The spell did not.
;
;     <a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a>:
;         Clobbered.
;
; CALLS:
;     <a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a>
;     <a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a>
;
; XREFS:
;     <a href="#CastMagic_CheckDirection_Left">CastMagic_CheckDirection_Left</a>
;============================================================================
</div><span class="l"><a class="anc" name="bd58" href="#bd58">[bd58]</a><a href="#CastMagic_CheckDirection_CheckImpassable" class="la">CastMagic_CheckDirection_CheckImpassable:</a><span class="ce">; [$bd58]</span></span>
<div class="c">;
; First, check if the block at middle Y position (at the
; previously-calculated X) is passable.
;
</div><span class="l"><a class="anc" name="bd58" href="#bd58">[bd58]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; A = Magic full Y position</span></span>
<span class="l"><a class="anc" name="bd5b" href="#bd5b">[bd5b]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Arg_PixelPosY">Arg_PixelPosY</a></span></span><span class="ce">; Store as the Y argument.</span></span>
<span class="l"><a class="anc" name="bd5d" href="#bd5d">[bd5d]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#Area_ConvertPixelsToBlockPos">Area_ConvertPixelsToBlockPos</a></span></span><span class="ce">; Convert the pixels to a screen block lookup position.</span></span>
<span class="l"><a class="anc" name="bd60" href="#bd60">[bd60]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span><span class="ce">; Check if the block is impassable.</span></span>
<span class="l"><a class="anc" name="bd63" href="#bd63">[bd63]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Set the tentative result accordingly.</span></span>
<span class="l"><a class="anc" name="bd65" href="#bd65">[bd65]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If not passable, return the result.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; The block was passable. Check the block at the bottom
; of the magic's bounding box.
;
</div><span class="l"><a class="anc" name="bd67" href="#bd67">[bd67]</a><span class="cd"><span class="i">LDY</span> <span class="o">a:<a href="RAM.html#CastMagic_Type">CastMagic_Type</a></span></span><span class="ce">; Load the magic type.</span></span>
<span class="l"><a class="anc" name="bd6a" href="#bd6a">[bd6a]</a><span class="cd"><span class="i">LDA</span> <span class="o"><a href="#CAST_MAGIC_HEIGHTS">CAST_MAGIC_HEIGHTS</a>,Y</span></span><span class="ce">; Load the magic's height.</span></span>
<span class="l"><a class="anc" name="bd6d" href="#bd6d">[bd6d]</a><span class="cd"><span class="i">CMP</span> <span class="o">#$10</span></span><span class="ce">; Is the height &gt;= 16 (more than one block)?</span></span>
<span class="l"><a class="anc" name="bd6f" href="#bd6f">[bd6f]</a><span class="cd"><span class="i">BCC</span> <span class="o"><a href="#@_checkTop">@_checkTop</a></span></span><span class="ce">; If so, jump.</span></span>
<span class="l"><a class="anc" name="bd71" href="#bd71">[bd71]</a><span class="cd"><span class="i">TXA</span></span><span class="ce">; A = X (block position).</span></span>
<span class="l"><a class="anc" name="bd72" href="#bd72">[bd72]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="bd73" href="#bd73">[bd73]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span><span class="ce">; Add 16 (next block).</span></span>
<span class="l"><a class="anc" name="bd75" href="#bd75">[bd75]</a><span class="cd"><span class="i">TAX</span></span><span class="ce">; X = A (result)</span></span>
<span class="l"><a class="anc" name="bd76" href="#bd76">[bd76]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span><span class="ce">; Check if the block is impassable.</span></span>
<span class="l"><a class="anc" name="bd79" href="#bd79">[bd79]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Store the tentative result.</span></span>
<span class="l"><a class="anc" name="bd7b" href="#bd7b">[bd7b]</a><span class="cd"><span class="i">BNE</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If not passable, return the result.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bd7d:@_checkTop"></a><div class="c">;
; The block was passable. Check the block at the top of
; the magic's bounding box.
;
</div><span class="l"><a class="anc" name="bd7d" href="#bd7d">[bd7d]</a><a href="#:bd7d:@_checkTop" class="lla">@_checkTop:</a><span class="ce">; [$bd7d]</span></span>
<span class="l"><a class="anc" name="bd7d" href="#bd7d">[bd7d]</a><span class="cd"><span class="i">LDA</span> <span class="o">a:<a href="RAM.html#CastMagic_YPos_Full">CastMagic_YPos_Full</a></span></span><span class="ce">; Load the full Y position again.</span></span>
<span class="l"><a class="anc" name="bd80" href="#bd80">[bd80]</a><span class="cd"><span class="i">AND</span> <span class="o">#$0f</span></span><span class="ce">; Keep the lower nibble.</span></span>
<span class="l"><a class="anc" name="bd82" href="#bd82">[bd82]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_return">@_return</a></span></span><span class="ce">; If it's 0, return the existing result.</span></span>
<span class="l"><a class="anc" name="bd84" href="#bd84">[bd84]</a><span class="cd"><span class="i">TXA</span></span><span class="ce">; A = X (block position).</span></span>
<span class="l"><a class="anc" name="bd85" href="#bd85">[bd85]</a><span class="cd"><span class="i">CLC</span></span></span>
<span class="l"><a class="anc" name="bd86" href="#bd86">[bd86]</a><span class="cd"><span class="i">ADC</span> <span class="o">#$10</span></span><span class="ce">; Add 16 (next block).</span></span>
<span class="l"><a class="anc" name="bd88" href="#bd88">[bd88]</a><span class="cd"><span class="i">TAX</span></span><span class="ce">; X = A (result)</span></span>
<span class="l"><a class="anc" name="bd89" href="#bd89">[bd89]</a><span class="cd"><span class="i">JSR</span> <span class="o"><a href="PRG15_MIRROR.html#ScreenBuffer_IsBlockImpassable">ScreenBuffer_IsBlockImpassable</a></span></span><span class="ce">; Check if the block is impassable.</span></span>
<span class="l"><a class="anc" name="bd8c" href="#bd8c">[bd8c]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Store the result.</span></span>
<span class="l"></span>
<a name=":bd8e:@_return"></a><span class="l"><a class="anc" name="bd8e" href="#bd8e">[bd8e]</a><a href="#:bd8e:@_return" class="lla">@_return:</a><span class="ce">; [$bd8e]</span></span>
<span class="l"><a class="anc" name="bd8e" href="#bd8e">[bd8e]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<span class="l"></span>
</pre><pre><a name="CastMagic_CheckDirection"></a><div class="cp">;============================================================================
; Check for magic movement in a given direction.
;
; This will check if the magic spell is off-screen or has
; collided in a given direction.
;
; This really only checks left or right. While there is
; some (potentially left-over) logic for checking up or
; down, only left/right movement will trigger an off-screen
; or collide result.
;
; INPUTS:
;     X:
;         The direction to check:
;
;         0 = Left
;         1 = Right
;         2 = Up
;         3 = Down
;
; OUTPUTS:
;     <a href="RAM.html#Blocks_Result">Blocks_Result</a>:
;         0 = Magic can remain on-screen.
;         1 = Magic should disperse.
;
; CALLS:
;     <a href="#CastMagic_CheckDirection_Left">CastMagic_CheckDirection_Left</a>
;     <a href="#CastMagic_CheckDirection_Right">CastMagic_CheckDirection_Right</a>
;
; XREFS:
;     <a href="#CastMagic_UpdateXPosition">CastMagic_UpdateXPosition</a>
;     <a href="#CastMagic_UpdateYPosition">CastMagic_UpdateYPosition</a>
;============================================================================
</div><span class="l"><a class="anc" name="bd8f" href="#bd8f">[bd8f]</a><a href="#CastMagic_CheckDirection" class="la">CastMagic_CheckDirection:</a><span class="ce">; [$bd8f]</span></span>
<div class="c">;
; See if we're checking magic moving left.
;
</div><span class="l"><a class="anc" name="bd8f" href="#bd8f">[bd8f]</a><span class="cd"><span class="i">TXA</span></span><span class="ce">; A = X (direction)</span></span>
<span class="l"><a class="anc" name="bd90" href="#bd90">[bd90]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#CastMagic_CheckDirection_Left">CastMagic_CheckDirection_Left</a></span></span><span class="ce">; If moving left, jump to check.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; See if we're checking magic moving right.
;
</div><span class="l"><a class="anc" name="bd92" href="#bd92">[bd92]</a><span class="cd"><span class="i">DEX</span></span><span class="ce">; X-- (shift the Right direction into Left for comparison).</span></span>
<span class="l"><a class="anc" name="bd93" href="#bd93">[bd93]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#CastMagic_CheckDirection_Right">CastMagic_CheckDirection_Right</a></span></span><span class="ce">; If moving right, jump to check.</span></span>
<span class="l"></span>
<span class="l"></span>
<div class="c">;
; See if we're checking magic moving up.
;
; But really, up or down gives the same result. Looks like
; there was intended to be code here handling Up and Down
; differently.
;
</div><span class="l"><a class="anc" name="bd95" href="#bd95">[bd95]</a><span class="cd"><span class="i">DEX</span></span><span class="ce">; X-- (shift Up into Left).</span></span>
<span class="l"><a class="anc" name="bd96" href="#bd96">[bd96]</a><span class="cd"><span class="i">BEQ</span> <span class="o"><a href="#@_isUpOrDown">@_isUpOrDown</a></span></span><span class="ce">; If up, jump to the very next instruction.</span></span>
<span class="l"></span>
<span class="l"></span>
<a name=":bd98:@_isUpOrDown"></a><div class="c">;
; The magic is moving up. Or down.
;
; It will never collide, so return a false result.
;
</div><span class="l"><a class="anc" name="bd98" href="#bd98">[bd98]</a><a href="#:bd98:@_isUpOrDown" class="lla">@_isUpOrDown:</a><span class="ce">; [$bd98]</span></span>
<span class="l"><a class="anc" name="bd98" href="#bd98">[bd98]</a><span class="cd"><span class="i">LDA</span> <span class="o">#$00</span></span><span class="ce">; A = 0 (false result)</span></span>
<span class="l"><a class="anc" name="bd9a" href="#bd9a">[bd9a]</a><span class="cd"><span class="i">STA</span> <span class="o"><a href="RAM.html#Blocks_Result">Blocks_Result</a></span></span><span class="ce">; Store as the result.</span></span>
<span class="l"><a class="anc" name="bd9c" href="#bd9c">[bd9c]</a><span class="cd"><span class="i">RTS</span></span></span>
<span class="l"></span>
<a name="CAST_MAGIC_WIDTHS"></a><div class="c">;
; XREFS:
;     <a href="#CastMagic_CheckDirection_Right">CastMagic_CheckDirection_Right</a>
;
</div><span class="l"><a class="anc" name="bd9d" href="#bd9d">[bd9d]</a><a href="#CAST_MAGIC_WIDTHS" class="la">CAST_MAGIC_WIDTHS:</a><span class="ce">; [$bd9d]</span></span>
<span class="l"><a class="anc" name="bd9d" href="#bd9d">[bd9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="bd9e" href="#bd9e">[bd9e]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="bd9f" href="#bd9f">[bd9f]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="bda0" href="#bda0">[bda0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="bda1" href="#bda1">[bda1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"><a class="anc" name="bda2" href="#bda2">[bda2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [5]: Deluge after hit</span></span>
<span class="l"><a class="anc" name="bda3" href="#bda3">[bda3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [6]: Thunder after hit</span></span>
<span class="l"><a class="anc" name="bda4" href="#bda4">[bda4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [7]: Fire after hit</span></span>
<span class="l"><a class="anc" name="bda5" href="#bda5">[bda5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [8]: Death after hit</span></span>
<span class="l"><a class="anc" name="bda6" href="#bda6">[bda6]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [9]: Unknown</span></span>
<span class="l"><a class="anc" name="bda7" href="#bda7">[bda7]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [10]: Hit Wall effect (unused)</span></span>
<span class="l"><a class="anc" name="bda8" href="#bda8">[bda8]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [11]: Tilte after hit</span></span>
<span class="l"></span>
<a name="CAST_MAGIC_HEIGHTS"></a><div class="c">;
; XREFS:
;     <a href="#CastMagic_CheckDirection_CheckImpassable">CastMagic_CheckDirection_CheckImpassable</a>
;
</div><span class="l"><a class="anc" name="bda9" href="#bda9">[bda9]</a><a href="#CAST_MAGIC_HEIGHTS" class="la">CAST_MAGIC_HEIGHTS:</a><span class="ce">; [$bda9]</span></span>
<span class="l"><a class="anc" name="bda9" href="#bda9">[bda9]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [0]: Deluge</span></span>
<span class="l"><a class="anc" name="bdaa" href="#bdaa">[bdaa]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [1]: Thunder</span></span>
<span class="l"><a class="anc" name="bdab" href="#bdab">[bdab]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [2]: Fire</span></span>
<span class="l"><a class="anc" name="bdac" href="#bdac">[bdac]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [3]: Death</span></span>
<span class="l"><a class="anc" name="bdad" href="#bdad">[bdad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [4]: Tilte</span></span>
<span class="l"><a class="anc" name="bdae" href="#bdae">[bdae]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [5]: Deluge after hit</span></span>
<span class="l"><a class="anc" name="bdaf" href="#bdaf">[bdaf]</a><span class="cd"><span class="i">.byte</span> <span class="o">$1f</span></span><span class="ce">; [6]: Thunder after hit</span></span>
<span class="l"><a class="anc" name="bdb0" href="#bdb0">[bdb0]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [7]: Fire after hit</span></span>
<span class="l"><a class="anc" name="bdb1" href="#bdb1">[bdb1]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [8]: Death after hit</span></span>
<span class="l"><a class="anc" name="bdb2" href="#bdb2">[bdb2]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [9]: Unknown</span></span>
<span class="l"><a class="anc" name="bdb3" href="#bdb3">[bdb3]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [10]: Hit Wall effect (unused)</span></span>
<span class="l"><a class="anc" name="bdb4" href="#bdb4">[bdb4]</a><span class="cd"><span class="i">.byte</span> <span class="o">$0f</span></span><span class="ce">; [11]: Tilte after hit</span></span>
<span class="l"></span>
<a name="UNUSED_SPACE_PRG14"></a><span class="l"><a class="anc" name="bdb5" href="#bdb5">[bdb5]</a><a href="#UNUSED_SPACE_PRG14" class="la">UNUSED_SPACE_PRG14:</a><span class="ce">; [$bdb5]</span></span>
<span class="l"><a class="anc" name="bdb5" href="#bdb5">[bdb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdb5] undefined</span></span>
<span class="l"><a class="anc" name="bdbd" href="#bdbd">[bdbd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdbd] undefined</span></span>
<span class="l"><a class="anc" name="bdc5" href="#bdc5">[bdc5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdc5] undefined</span></span>
<span class="l"><a class="anc" name="bdcd" href="#bdcd">[bdcd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdcd] undefined</span></span>
<span class="l"><a class="anc" name="bdd5" href="#bdd5">[bdd5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdd5] undefined</span></span>
<span class="l"><a class="anc" name="bddd" href="#bddd">[bddd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bddd] undefined</span></span>
<span class="l"><a class="anc" name="bde5" href="#bde5">[bde5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bde5] undefined</span></span>
<span class="l"><a class="anc" name="bded" href="#bded">[bded]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bded] undefined</span></span>
<span class="l"><a class="anc" name="bdf5" href="#bdf5">[bdf5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdf5] undefined</span></span>
<span class="l"><a class="anc" name="bdfd" href="#bdfd">[bdfd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bdfd] undefined</span></span>
<span class="l"><a class="anc" name="be05" href="#be05">[be05]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be05] undefined</span></span>
<span class="l"><a class="anc" name="be0d" href="#be0d">[be0d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be0d] undefined</span></span>
<span class="l"><a class="anc" name="be15" href="#be15">[be15]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be15] undefined</span></span>
<span class="l"><a class="anc" name="be1d" href="#be1d">[be1d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be1d] undefined</span></span>
<span class="l"><a class="anc" name="be25" href="#be25">[be25]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be25] undefined</span></span>
<span class="l"><a class="anc" name="be2d" href="#be2d">[be2d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be2d] undefined</span></span>
<span class="l"><a class="anc" name="be35" href="#be35">[be35]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be35] undefined</span></span>
<span class="l"><a class="anc" name="be3d" href="#be3d">[be3d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be3d] undefined</span></span>
<span class="l"><a class="anc" name="be45" href="#be45">[be45]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be45] undefined</span></span>
<span class="l"><a class="anc" name="be4d" href="#be4d">[be4d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be4d] undefined</span></span>
<span class="l"><a class="anc" name="be55" href="#be55">[be55]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be55] undefined</span></span>
<span class="l"><a class="anc" name="be5d" href="#be5d">[be5d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be5d] undefined</span></span>
<span class="l"><a class="anc" name="be65" href="#be65">[be65]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be65] undefined</span></span>
<span class="l"><a class="anc" name="be6d" href="#be6d">[be6d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be6d] undefined</span></span>
<span class="l"><a class="anc" name="be75" href="#be75">[be75]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be75] undefined</span></span>
<span class="l"><a class="anc" name="be7d" href="#be7d">[be7d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be7d] undefined</span></span>
<span class="l"><a class="anc" name="be85" href="#be85">[be85]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be85] undefined</span></span>
<span class="l"><a class="anc" name="be8d" href="#be8d">[be8d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be8d] undefined</span></span>
<span class="l"><a class="anc" name="be95" href="#be95">[be95]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be95] undefined</span></span>
<span class="l"><a class="anc" name="be9d" href="#be9d">[be9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$be9d] undefined</span></span>
<span class="l"><a class="anc" name="bea5" href="#bea5">[bea5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bea5] undefined</span></span>
<span class="l"><a class="anc" name="bead" href="#bead">[bead]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bead] undefined</span></span>
<span class="l"><a class="anc" name="beb5" href="#beb5">[beb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$beb5] undefined</span></span>
<span class="l"><a class="anc" name="bebd" href="#bebd">[bebd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bebd] undefined</span></span>
<span class="l"><a class="anc" name="bec5" href="#bec5">[bec5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bec5] undefined</span></span>
<span class="l"><a class="anc" name="becd" href="#becd">[becd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$becd] undefined</span></span>
<span class="l"><a class="anc" name="bed5" href="#bed5">[bed5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bed5] undefined</span></span>
<span class="l"><a class="anc" name="bedd" href="#bedd">[bedd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bedd] undefined</span></span>
<span class="l"><a class="anc" name="bee5" href="#bee5">[bee5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bee5] undefined</span></span>
<span class="l"><a class="anc" name="beed" href="#beed">[beed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$beed] undefined</span></span>
<span class="l"><a class="anc" name="bef5" href="#bef5">[bef5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bef5] undefined</span></span>
<span class="l"><a class="anc" name="befd" href="#befd">[befd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$befd] undefined</span></span>
<span class="l"><a class="anc" name="bf05" href="#bf05">[bf05]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf05] undefined</span></span>
<span class="l"><a class="anc" name="bf0d" href="#bf0d">[bf0d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf0d] undefined</span></span>
<span class="l"><a class="anc" name="bf15" href="#bf15">[bf15]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf15] undefined</span></span>
<span class="l"><a class="anc" name="bf1d" href="#bf1d">[bf1d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf1d] undefined</span></span>
<span class="l"><a class="anc" name="bf25" href="#bf25">[bf25]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf25] undefined</span></span>
<span class="l"><a class="anc" name="bf2d" href="#bf2d">[bf2d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf2d] undefined</span></span>
<span class="l"><a class="anc" name="bf35" href="#bf35">[bf35]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf35] undefined</span></span>
<span class="l"><a class="anc" name="bf3d" href="#bf3d">[bf3d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf3d] undefined</span></span>
<span class="l"><a class="anc" name="bf45" href="#bf45">[bf45]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf45] undefined</span></span>
<span class="l"><a class="anc" name="bf4d" href="#bf4d">[bf4d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf4d] undefined</span></span>
<span class="l"><a class="anc" name="bf55" href="#bf55">[bf55]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf55] undefined</span></span>
<span class="l"><a class="anc" name="bf5d" href="#bf5d">[bf5d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf5d] undefined</span></span>
<span class="l"><a class="anc" name="bf65" href="#bf65">[bf65]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf65] undefined</span></span>
<span class="l"><a class="anc" name="bf6d" href="#bf6d">[bf6d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf6d] undefined</span></span>
<span class="l"><a class="anc" name="bf75" href="#bf75">[bf75]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf75] undefined</span></span>
<span class="l"><a class="anc" name="bf7d" href="#bf7d">[bf7d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf7d] undefined</span></span>
<span class="l"><a class="anc" name="bf85" href="#bf85">[bf85]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf85] undefined</span></span>
<span class="l"><a class="anc" name="bf8d" href="#bf8d">[bf8d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf8d] undefined</span></span>
<span class="l"><a class="anc" name="bf95" href="#bf95">[bf95]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf95] undefined</span></span>
<span class="l"><a class="anc" name="bf9d" href="#bf9d">[bf9d]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bf9d] undefined</span></span>
<span class="l"><a class="anc" name="bfa5" href="#bfa5">[bfa5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfa5] undefined</span></span>
<span class="l"><a class="anc" name="bfad" href="#bfad">[bfad]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfad] undefined</span></span>
<span class="l"><a class="anc" name="bfb5" href="#bfb5">[bfb5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfb5] undefined</span></span>
<span class="l"><a class="anc" name="bfbd" href="#bfbd">[bfbd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfbd] undefined</span></span>
<span class="l"><a class="anc" name="bfc5" href="#bfc5">[bfc5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfc5] undefined</span></span>
<span class="l"><a class="anc" name="bfcd" href="#bfcd">[bfcd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfcd] undefined</span></span>
<span class="l"><a class="anc" name="bfd5" href="#bfd5">[bfd5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfd5] undefined</span></span>
<span class="l"><a class="anc" name="bfdd" href="#bfdd">[bfdd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfdd] undefined</span></span>
<span class="l"><a class="anc" name="bfe5" href="#bfe5">[bfe5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfe5] undefined</span></span>
<span class="l"><a class="anc" name="bfed" href="#bfed">[bfed]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bfed] undefined</span></span>
<span class="l"><a class="anc" name="bff5" href="#bff5">[bff5]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff</span></span><span class="ce">; [$bff5] undefined</span></span>
<span class="l"><a class="anc" name="bffd" href="#bffd">[bffd]</a><span class="cd"><span class="i">.byte</span> <span class="o">$ff,$ff,$ff</span></span><span class="ce">; [$bffd] undefined</span></span>
</pre>
 </body>
</html>
